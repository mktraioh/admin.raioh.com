(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8076],{1428:(e,l,t)=>{"use strict";t.d(l,{c:()=>o});t(99584);var n=t(87228),a=t(59424),s=t(61072),d=t(65236),i=t(75088),c=t(97884);function o(e){let{size:l="",onClick:t,type:o="default",...r}=e;const{t:u}=(0,d.G)(),{isDemo:v}=(0,i.c)();return(0,c.jsx)(n.c,{size:l,icon:(0,c.jsx)(a.c,{}),onClick:e=>{v?s.m4.warning(u("cannot.work.demo")):t(e)},type:o,...r})}},53992:(e,l,t)=>{"use strict";t.d(l,{c:()=>x});var n=t(99584),a=t(49308),s=t(92200),d=t(66296),i=t(26012),c=t(72192),o=t(35928),r=t(87228),u=t(55512),v=t(65236),h=t(97884);const{Text:m}=a.default,x=e=>{let{columns:l=[],setColumns:t,style:a,size:x="",iconOnly:p}=e;const{t:j}=(0,v.G)(),[f,g]=(0,n.useState)(!1),y=(0,h.jsx)(s.c,{children:null===l||void 0===l?void 0:l.map(((e,n)=>(0,h.jsx)(s.c.Item,{children:(0,h.jsxs)(d.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(i.c,{defaultChecked:!0,onClick:()=>function(e){const n=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(n)}(e),disabled:1===n})]})},e+n)))});return(0,h.jsx)(c.c,{overlay:y,trigger:["click"],onVisibleChange:e=>{g(e)},visible:f,children:(0,h.jsx)(o.c,{title:j("change.columns"),children:(0,h.jsx)(r.c,{style:{...a},size:x,icon:(0,h.jsx)(u.c,{}),children:p?null:j("Columns")})})})}},88200:(e,l,t)=>{"use strict";t.d(l,{c:()=>c});t(99584);var n=t(95884),a=t(31508),s=t(87228),d=t(65236),i=t(97884);const c=e=>{let{open:l,handleCancel:t,text:c,click:o,loading:r,subTitle:u}=e;const{t:v}=(0,d.G)();return(0,i.jsxs)(n.default,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,i.jsx)(a.cp,{status:"warning",title:c,subTitle:u}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(s.c,{type:"primary",className:"mr-2",onClick:o,loading:r,children:v("yes")}),(0,i.jsx)(s.c,{onClick:()=>t(),children:v("no")})]})]})}},40748:(e,l,t)=>{"use strict";t.d(l,{c:()=>c});var n=t(99584),a=t(46712),s=t(78816),d=t(6724),i=t(97884);function c(e){let{handleChange:l,defaultValue:t,resetSearch:c,...o}=e;const[r,u]=(0,n.useState)(t),v=(0,n.useMemo)((()=>(0,s.debounce)((e=>{l(e)}),800)),[l]);return(0,n.useEffect)((()=>{u(t)}),[c,t]),(0,i.jsx)(a.default,{value:r,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,i.jsx)(d.c,{}),...o})}},71376:(e,l,t)=>{"use strict";t.d(l,{g:()=>o});var n=t(99584),a=t(95976),s=t.n(a),d=t(2664),i=t(37728),c=t(97884);const o=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:a,...o}=e;const[r,u]=(0,n.useState)(!1),[v,h]=(0,n.useState)([]),m=(0,n.useMemo)((()=>s()((e=>{h([]),u(!0),l(e).then((e=>{h(e),u(!1)}))}),t)),[l,t]);return(0,c.jsx)(d.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),a&&a()},notFoundContent:r?(0,c.jsx)(i.c,{size:"small"}):"no results",...o,options:v,onFocus:()=>{m("")}})}},19576:(e,l,t)=>{"use strict";function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{c:()=>n})},33131:(e,l,t)=>{"use strict";t.d(l,{c:()=>n});t(52640);function n(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},24968:(e,l,t)=>{"use strict";function n(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}t.d(l,{c:()=>n})},20556:(e,l,t)=>{"use strict";t.d(l,{W:()=>d});var n=t(23424),a=t(84620),s=t.n(a);const d=()=>{const e=(0,n.i6)(),l=(0,n.IT)(),t=s().parse(l.search,{ignoreQueryPrefix:!0});return{values:t,set:(l,n)=>e({search:s().stringify({...t,[l]:n})}),reset:l=>{const n={...t};n[l]&&delete n[l],e({search:s().stringify({...n})})},clear:()=>e({search:s().stringify({})}),merge:l=>e({search:s().stringify({...t,...l})})}}},69132:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>Me});var n=t(99584),a=t(84616),s=t(73568),d=t(98044),i=t(87228),c=t(66296),o=t(92200),r=t(68496),u=t(35928),v=t(72192),h=t(15752),m=t(23424),x=t(36668),p=t(98948),j=t(59424),f=t(3952),g=t(48292),y=t(32712),b=t(18896),_=t(65236),w=t(68256),C=t(58896),k=t(12344),S=t(19576),I=t(40748),M=t(21064),H=t(71376),z=t(42080),V=t(53992),N=t(61072),Y=t(1428),D=t(29480),G=t(98016),O=t(46003),P=t(83072),B=t.n(P),F=t(52640),T=t(29416),Q=t(74788),A=t(50428),E=t(88200),W=t(20556),K=t(75088);function q(e){return e?B()(e).format("DD-MM-YYYY, HH:mm"):""}function R(e){return e?B()(e).format("DD-MM-YYYY"):""}var L=t(65732),U=t(95884),$=t(68768),Z=t(10260),J=t(2664),X=t(97884);function ee(e){let{orderDetails:l,handleCancel:t,status:a}=e;const{activeMenu:s}=(0,y.w1)((e=>e.menu),y.G),[d]=L.c.useForm(),c=(0,y.OY)(),{t:o}=(0,_.G)(),[r,u]=(0,n.useState)(!1),[v,h]=(0,n.useState)(a);(0,n.useEffect)((()=>{const e=a.findIndex((e=>e.name===l.status));let t=[a[e],a[e+1],{name:"canceled",id:8,active:!0}];e<0&&(t=[a[e+1],"canceled"]),h(t)}),[l]);return(0,X.jsx)(U.default,{visible:!!l,title:l.title,onCancel:t,footer:[(0,X.jsx)(i.c,{type:"primary",onClick:()=>d.submit(),loading:r,children:o("save")},"save-form"),(0,X.jsx)(i.c,{type:"default",onClick:t,children:o("cancel")},"cansel-modal")],children:(0,X.jsx)(L.c,{form:d,layout:"vertical",onFinish:e=>{u(!0);const n={...e};D.c.updateStatus(l.id,n).then((()=>{t(),c((0,b.A1)(s))})).finally((()=>u(!1)))},initialValues:{status:l.status},children:(0,X.jsx)($.c,{gutter:12,children:(0,X.jsx)(Z.c,{span:24,children:(0,X.jsx)(L.c.Item,{label:o("status"),name:"status",rules:[{required:!0,message:o("required")}],children:(0,X.jsx)(J.default,{children:null===v||void 0===v?void 0:v.map((e=>(0,X.jsx)(J.default.Option,{value:null===e||void 0===e?void 0:e.name,children:o(null===e||void 0===e?void 0:e.name)},null===e||void 0===e?void 0:e.name)))})})})})})})}const le=[{name:"new",id:"1",active:!0},{name:"accepted",id:"2",active:!0},{name:"ready",id:"3",active:!0},{name:"on_a_way",id:"4",active:!0},{name:"delivered",id:"5",active:!0},{name:"canceled",id:"6",active:!0}];var te=t(67692),ne=t(52800),ae=t(77180),se=t(5008),de=t(97132),ie=t(57236),ce=t(33131),oe=t(4736),re=t(30800);const ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};var ve=t(47164),he=function(e,l){return n.createElement(ve.c,(0,re.c)((0,re.c)({},e),{},{ref:l,icon:ue}))};he.displayName="FileDoneOutlined";const me=n.forwardRef(he);var xe=t(88992),pe=t(23216);const{Step:je}=te.default,fe=()=>(0,X.jsx)("img",{src:de,width:"50",alt:"Pin"}),ge=()=>(0,X.jsx)("img",{src:ie,width:"50",alt:"Pin"}),ye=["blue","red","gold","volcano","cyan","lime"],be=e=>{var l,t,a,s,c,o;let{id:u,handleCancel:v}=e;const{t:h}=(0,_.G)(),[m,x]=(0,n.useState)(null),[p,j]=(0,n.useState)(null),[f,g]=(0,n.useState)(null),{settings:b}=(0,y.w1)((e=>e.globalSettings),y.G),w=(0,ce.c)(b),[C,k]=(0,n.useState)(0),[S,I]=(0,n.useState)((0,ce.c)(b)),[M,H]=(0,n.useState)((0,ce.c)(b)),[z,V]=(0,n.useState)([{id:0,name:"new",icon:(0,X.jsx)(oe.c,{})},{id:1,name:"accepted",icon:(0,X.jsx)(me,{})},{id:3,name:"ready",icon:(0,X.jsx)(se.IFj,{})},{id:4,name:"on_a_way",icon:(0,X.jsx)(se.Qr,{})},{id:5,name:"delivered",icon:(0,X.jsx)(xe.W8K,{})}]);const{google_map_key:N}=(0,y.w1)((e=>e.globalSettings.settings),y.G);(0,n.useEffect)((()=>{x(!0),D.c.getById(u).then((e=>{var l;let{data:t}=e;V("canceled"===t.status?[{id:1,name:"new",icon:(0,X.jsx)(oe.c,{})},{id:5,name:"canceled",icon:(0,X.jsx)(pe.uoq,{})}]:z),k("canceled"===t.status?1:null===(l=z.find((e=>e.name===t.status)))||void 0===l?void 0:l.id),g("canceled"===t.status?"error":"success"),j(t),H({lat:t.address_from.latitude,lng:t.address_from.longitude}),I({lat:t.address_to.latitude,lng:t.address_to.longitude})})).finally((()=>{x(!1)}))}),[]);return(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(U.default,{visible:!!u,title:h("show.locations"),onCancel:()=>v(),style:{minWidth:"80vw"},footer:[(0,X.jsx)(i.c,{type:"default",onClick:v,children:h("cancel")},"cancelBtn")],children:m?(0,X.jsx)(ae.c,{}):(0,X.jsxs)(r.default,{children:[(0,X.jsx)(te.default,{current:C,status:f,className:"mb-5",children:null===z||void 0===z?void 0:z.map(((e,l)=>(0,X.jsx)(je,{title:h(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+l)))}),(0,X.jsxs)($.c,{gutter:12,children:[(0,X.jsxs)(Z.c,{span:12,children:[(0,X.jsxs)("h3",{children:[h("order.id")," #",null===p||void 0===p?void 0:p.id]}),(0,X.jsxs)("p",{children:[(0,X.jsx)(se.kIG,{})," ",q(null===p||void 0===p?void 0:p.created_at)]}),(0,X.jsxs)("p",{children:[h("schedulet.at")," ",R(null===p||void 0===p?void 0:p.delivery_date)]}),(0,X.jsxs)("span",{children:[(0,X.jsx)("strong",{children:null===p||void 0===p||null===(l=p.shop)||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title})," ",null===p||void 0===p||null===(a=p.details)||void 0===a?void 0:a.map(((e,l)=>{var t;return(0,X.jsx)(d.c,{color:ye[l],children:null===e||void 0===e||null===(t=e.stock)||void 0===t?void 0:t.product.translation.title})}))]})]}),(0,X.jsxs)(Z.c,{span:12,children:[(0,X.jsxs)("p",{children:[h("status"),": ","new"===(null===p||void 0===p?void 0:p.status)?(0,X.jsx)(d.c,{color:"blue",children:h(null===p||void 0===p?void 0:p.status)}):"canceled"===(null===p||void 0===p?void 0:p.status)?(0,X.jsx)(d.c,{color:"error",children:h(null===p||void 0===p?void 0:p.status)}):(0,X.jsx)(d.c,{color:"cyan",children:h(null===p||void 0===p?void 0:p.status)})]}),(0,X.jsxs)("p",{children:[h("order.type"),": ",(0,X.jsx)("strong",{children:h("parcel")})]}),(0,X.jsxs)("p",{children:[h("payment.method"),": ",(0,X.jsx)("strong",{children:null===p||void 0===p||null===(s=p.transaction)||void 0===s||null===(c=s.payment_system)||void 0===c?void 0:c.tag})]}),(0,X.jsxs)("p",{children:[h("payment.status"),": ",(0,X.jsx)("strong",{children:null===p||void 0===p||null===(o=p.transaction)||void 0===o?void 0:o.status})]})]}),(0,X.jsxs)(Z.c,{span:24,className:"mt-5",children:[(0,X.jsx)("h4",{children:h("map")}),(0,X.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,X.jsxs)(ne.cp,{bootstrapURLKeys:{key:F.KU||N},defaultZoom:15,center:w,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:e=>{let{map:l,maps:t}=e;const n=[S,M].map((e=>({lat:Number(e.lat||"0"),lng:Number(e.lng||"0")})));let a=new t.LatLngBounds;for(var s=0;s<n.length;s++)a.extend(n[s]);l.fitBounds(a)},children:[(0,X.jsx)(ge,{lat:null===S||void 0===S?void 0:S.lat,lng:null===S||void 0===S?void 0:S.lng}),(0,X.jsx)(fe,{lat:null===M||void 0===M?void 0:M.lat,lng:null===M||void 0===M?void 0:M.lng})]})})]})]})]})})})};var _e=t(37564),we=t(24968);const Ce=e=>{var l,t,a,s,d,c,o,r,u,v;let{id:h,handleCancel:m}=e;const{t:x}=(0,_.G)(),[p,j]=(0,n.useState)(null),[f,g]=(0,n.useState)(null);return(0,n.useEffect)((()=>{j(!0),D.c.getById(h).then((e=>{let{data:l}=e;g(l)})).finally((()=>{j(!1)}))}),[]),console.log("data => ",f),(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(U.default,{visible:!!h,title:"".concat(x("parcel.id")," #").concat(h),onCancel:()=>m(),footer:[(0,X.jsx)(i.c,{type:"default",onClick:m,children:x("cancel")},"cancelBtn")],className:"large-modal",children:p?(0,X.jsx)(ae.c,{}):(0,X.jsxs)($.c,{gutter:24,children:[(0,X.jsx)(Z.c,{span:12,children:(0,X.jsxs)(_e.c,{title:x("sender.details"),bordered:!0,children:[(0,X.jsx)(_e.c.Item,{label:x("username"),span:3,children:null===f||void 0===f?void 0:f.username_from}),(0,X.jsx)(_e.c.Item,{label:x("phone"),span:3,children:null===f||void 0===f?void 0:f.phone_from}),(0,X.jsx)(_e.c.Item,{label:x("address"),span:3,children:null===f||void 0===f||null===(l=f.address_from)||void 0===l?void 0:l.address}),(0,X.jsx)(_e.c.Item,{label:x("house"),span:3,children:null===f||void 0===f||null===(t=f.address_from)||void 0===t?void 0:t.house}),(0,X.jsx)(_e.c.Item,{label:x("stage"),span:3,children:null===f||void 0===f||null===(a=f.address_from)||void 0===a?void 0:a.stage}),(0,X.jsx)(_e.c.Item,{label:x("room"),span:3,children:null===f||void 0===f||null===(s=f.address_from)||void 0===s?void 0:s.room})]})}),(0,X.jsx)(Z.c,{span:12,children:(0,X.jsxs)(_e.c,{title:x("receiver.details"),bordered:!0,children:[(0,X.jsx)(_e.c.Item,{label:x("username"),span:3,children:null===f||void 0===f?void 0:f.username_to}),(0,X.jsx)(_e.c.Item,{label:x("phone"),span:3,children:null===f||void 0===f?void 0:f.phone_to}),(0,X.jsx)(_e.c.Item,{label:x("address"),span:3,children:null===f||void 0===f||null===(d=f.address_to)||void 0===d?void 0:d.address}),(0,X.jsx)(_e.c.Item,{label:x("house"),span:3,children:null===f||void 0===f||null===(c=f.address_to)||void 0===c?void 0:c.house}),(0,X.jsx)(_e.c.Item,{label:x("stage"),span:3,children:null===f||void 0===f||null===(o=f.address_to)||void 0===o?void 0:o.stage}),(0,X.jsx)(_e.c.Item,{label:x("room"),span:3,children:null===f||void 0===f||null===(r=f.address_to)||void 0===r?void 0:r.room})]})}),(0,X.jsx)(Z.c,{span:24,children:(0,X.jsxs)(_e.c,{bordered:!0,className:"mt-4",children:[(0,X.jsxs)(_e.c.Item,{label:x("client"),span:3,children:[null===f||void 0===f||null===(u=f.user)||void 0===u?void 0:u.firstname," ",null===f||void 0===f||null===(v=f.user)||void 0===v?void 0:v.lastname]}),(0,X.jsx)(_e.c.Item,{label:x("delivery.date.&.time"),span:3,children:q("".concat(null===f||void 0===f?void 0:f.delivery_date," ").concat(null===f||void 0===f?void 0:f.delivery_time))}),(0,X.jsx)(_e.c.Item,{label:x("price"),span:3,children:(0,we.c)(null===f||void 0===f?void 0:f.total_price)}),(0,X.jsx)(_e.c.Item,{label:x("created.at"),span:3,children:q(null===f||void 0===f?void 0:f.createdAt)}),(0,X.jsx)(_e.c.Item,{label:x("note"),span:3,children:null===f||void 0===f?void 0:f.note})]})})]})})})};function ke(e){var l,t,a;let{orderDetails:s,handleCancel:d}=e;const{t:c}=(0,_.G)(),{activeMenu:o}=(0,y.w1)((e=>e.menu),y.G),[r]=L.c.useForm(),u=(0,y.OY)(),[v,h]=(0,n.useState)(!1);return(0,X.jsx)(U.default,{visible:!!s,onCancel:d,footer:[(0,X.jsx)(i.c,{type:"primary",onClick:()=>r.submit(),loading:v,children:c("save")},"saveBtn"),(0,X.jsx)(i.c,{type:"default",onClick:d,children:c("cancel")},"cancelBtn")],children:(0,X.jsx)(L.c,{form:r,layout:"vertical",onFinish:e=>{const l={deliveryman_id:e.deliveryman.value};h(!0),D.c.updateDelivery(s.id,l).then((()=>{d(),u((0,b.A1)(o))})).finally((()=>h(!1)))},initialValues:{deliveryman:{label:s.deliveryman?(null===s||void 0===s||null===(l=s.deliveryman)||void 0===l?void 0:l.firstname)+" "+(null===s||void 0===s||null===(t=s.deliveryman)||void 0===t?void 0:t.lastname):null,value:s.deliveryman?null===s||void 0===s||null===(a=s.deliveryman)||void 0===a?void 0:a.id:null}},children:(0,X.jsx)($.c,{gutter:12,children:(0,X.jsx)(Z.c,{span:24,children:(0,X.jsx)(L.c.Item,{label:c("deliveryman"),name:"deliveryman",rules:[{required:!0,message:c("required")}],children:(0,X.jsx)(H.g,{className:"w-100",debounceTimeout:500,placeholder:c("select.shop"),fetchOptions:async function(e){const l={search:e.length?e:void 0,page:1,perPage:10,role:"deliveryman",exist_token:1};return z.c.getAll(l).then((e=>{let{data:l}=e;return l.map((e=>({label:[e.firstname,e.lastname].join(" "),value:e.id})))}))},allowClear:!0})})})})})})}const{TabPane:Se}=a.default,{RangePicker:Ie}=s.default;function Me(){var e,l,t,s,P,L,U,$;const{type:Z}=(0,m.W4)(),J=(0,y.OY)(),te=(0,m.i6)(),{t:ne}=(0,_.G)(),{isDemo:ae}=(0,K.c)(),[se,de]=(0,n.useState)(null),[ie,ce]=(0,n.useState)(null),[oe,re]=(0,n.useState)(null),[ue,ve]=(0,n.useState)(null),he=[{name:"all",id:"7",active:!0},...le,{name:"deleted_at",id:"8",active:!0}],[me,xe]=(0,n.useState)(null),[pe,je]=(0,n.useState)([{title:ne("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:ne("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,X.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:ne("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,l)=>(0,X.jsxs)("div",{className:"cursor-pointer",children:["new"===e?(0,X.jsx)(d.c,{color:"blue",children:ne(e)}):"canceled"===e?(0,X.jsx)(d.c,{color:"error",children:ne(e)}):(0,X.jsx)(d.c,{color:"cyan",children:ne(e)}),"delivered"===e||"canceled"===e||l.deleted_at?"":(0,X.jsx)(x.c,{onClick:e=>{e.stopPropagation(),de(l)},disabled:l.deleted_at})]})},{title:ne("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,l)=>(0,X.jsx)("div",{children:"ready"===l.status&&"pickup"!==l.delivery_type?(0,X.jsx)(i.c,{disabled:l.deleted_at,type:"link",onClick:()=>re(l),children:(0,X.jsxs)(c.c,{children:[e?"".concat(e.firstname," ").concat(e.lastname):ne("add.deliveryman"),(0,X.jsx)(x.c,{})]})}):(0,X.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:ne("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var l;return ne(null===e||void 0===e||null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"-"}},{title:ne("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:e=>q(e)},{title:ne("delivery.date"),is_show:!0,dataIndex:"delivery_date",key:"delivery_date",render:e=>R(e)},{title:ne("options"),is_show:!0,key:"options",render:(e,l)=>(0,X.jsxs)(c.c,{children:[(0,X.jsx)(i.c,{disabled:l.deleted_at,icon:(0,X.jsx)(T.Sum,{}),onClick:e=>{e.stopPropagation(),ce(l.id)}}),(0,X.jsx)(i.c,{disabled:l.deleted_at,icon:(0,X.jsx)(p.c,{}),onClick:e=>{e.stopPropagation(),(e=>{ve(e.id)})(l)}}),(0,X.jsx)(i.c,{type:"primary",icon:(0,X.jsx)(x.c,{}),onClick:e=>{e.stopPropagation(),(e=>{J((0,M.Qm)()),J((0,b.WC)({url:"parcel-orders/".concat(e.id),id:"edit_parcel_order",name:ne("edit.parcel.order")})),te("/parcel-orders/".concat(e.id))})(l)},disabled:"delivered"===l.status||"canceled"===l.status||l.deleted_at}),(0,X.jsx)(Y.c,{disabled:l.deleted_at,icon:(0,X.jsx)(j.c,{}),onClick:e=>{e.stopPropagation(),Ye([l.id]),fe(!0),Ge(!0)}})]})}]),{setIsModalVisible:fe}=(0,n.useContext)(G.e),[ge,ye]=(0,n.useState)(!1),{activeMenu:_e}=(0,y.w1)((e=>e.menu),y.G),we=(0,W.W)(),[Me,He]=(0,n.useState)(we.values.status||"all"),ze=(null===(e=_e.data)||void 0===e?void 0:e.role)||Me,Ve=_e.data,[Ne,Ye]=(0,n.useState)(null),[De,Ge]=(0,n.useState)(null),[Oe,Pe]=(0,n.useState)(!1),[Be,Fe]=(0,n.useState)(B()().subtract(1,"months"),B()()),{data:Te,loading:Qe,params:Ae,meta:Ee}=(0,y.w1)((e=>e.parcelOrders),y.G),We={search:null===Ve||void 0===Ve?void 0:Ve.search,sort:null===Ve||void 0===Ve?void 0:Ve.sort,column:null===Ve||void 0===Ve?void 0:Ve.column,perPage:null===Ve||void 0===Ve?void 0:Ve.perPage,page:null===Ve||void 0===Ve?void 0:Ve.page,user_id:null===Ve||void 0===Ve?void 0:Ve.user_id,status:"deleted_at"===ze||"all"===ze?void 0:ze,deleted_at:"deleted_at"===ze?"deleted_at":void 0,shop_id:null!==(null===(l=_e.data)||void 0===l?void 0:l.shop_id)?null===(t=_e.data)||void 0===t?void 0:t.shop_id:null,delivery_type:"scheduled"!==Z?Z:void 0,delivery_date_from:"scheduled"===Z?B()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:Be?null===(s=Be[0])||void 0===s?void 0:s.format("YYYY-MM-DD"):null,date_to:Be?null===(P=Be[1])||void 0===P?void 0:P.format("YYYY-MM-DD"):null};(0,w.c)((()=>{J((0,k.Q1)(We))}),[Ve,Be,Z]);const Ke=(e,l)=>{J((0,b.MH)({activeMenu:_e,data:{...Ve,[l]:e}}))};const qe=()=>{de(null),re(null),ce(null),ve(null)};(0,n.useEffect)((()=>{null!==_e&&void 0!==_e&&_e.refetch&&(J((0,k.Q1)(We)),J((0,b.CO)(_e)))}),[null===_e||void 0===_e?void 0:_e.refetch]);const Re={selectedRowKeys:Ne,onChange:e=>{Ye(e)}},Le=(0,X.jsx)(o.c,{children:"deleted_at"!==Me?(0,X.jsx)(o.c.Item,{onClick:()=>{ae?N.m4.warning(ne("cannot.work.demo")):xe({delete:!0})},children:(0,X.jsxs)(c.c,{children:[(0,X.jsx)(j.c,{}),ne("delete.all")]})}):(0,X.jsx)(o.c.Item,{onClick:()=>{ae?N.m4.warning(ne("cannot.work.demo")):xe({restore:!0})},children:(0,X.jsxs)(c.c,{children:[(0,X.jsx)(Q.icK,{}),ne("restore.all")]})})});return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(c.c,{className:"justify-content-end w-100 mb-3",children:(0,X.jsx)(i.c,{type:"primary",icon:(0,X.jsx)(f.c,{}),onClick:()=>{J((0,M.Qm)()),J((0,b.WC)({id:"parcel-orders/add",url:"parcel-orders/add",name:"add.parcel.order"})),te("/parcel-orders/add")},style:{width:"100%"},children:ne("add.parcel.order")})}),(0,X.jsx)(r.default,{children:(0,X.jsxs)(c.c,{wrap:!0,className:"order-filter",children:[(0,X.jsx)(I.c,{defaultValue:null===Ve||void 0===Ve?void 0:Ve.search,resetSearch:!(null!==Ve&&void 0!==Ve&&Ve.search),placeholder:ne("search"),handleChange:e=>Ke(e,"search")}),(0,X.jsx)(H.g,{placeholder:ne("select.client"),fetchOptions:async function(e){const l={search:e,perPage:10};return z.c.search(l).then((e=>{let{data:l}=e;return l.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id})))}))},onSelect:e=>Ke(e.value,"user_id"),onDeselect:()=>Ke(null,"user_id"),style:{width:"100%"},value:null===Ve||void 0===Ve?void 0:Ve.user_id}),(0,X.jsx)(Ie,{value:Be,onChange:e=>Fe(e),disabledDate:e=>e&&e>B()().endOf("day"),style:{width:"100%"}}),"deleted_at"!==Me&&(0,X.jsxs)(i.c,{onClick:()=>{ye(!0);const e="all"!==Me?{status:Me}:null;D.c.export(e).then((e=>{const l=F.sp+e.data.file_name;window.location.href=l})).finally((()=>ye(!1)))},loading:ge,style:{width:"100%"},children:[(0,X.jsx)(A.qhB,{className:"mr-2"}),ne("export")]}),(0,X.jsx)(i.c,{onClick:()=>{(0,y.wN)((()=>{J((0,C.Ah)()),J((0,b.MH)({activeMenu:_e,data:null})),J((0,k.Q1)({status:void 0,page:null===Ve||void 0===Ve?void 0:Ve.page,perPage:20}))})),Fe(void 0)},style:{width:"100%"},icon:(0,X.jsx)(g.c,{}),children:ne("clear")})]})}),(0,X.jsxs)(r.default,{children:[(0,X.jsxs)(c.c,{className:"justify-content-between align-items-start w-100",children:[(0,X.jsx)(a.default,{onChange:e=>{var l;const t=null===(l=he.find((l=>l.id===e)))||void 0===l?void 0:l.name;J((0,b.MH)({activeMenu:_e,data:{role:t,page:1}})),He(t),te("?status=".concat(t))},type:"card",activeKey:ze,children:he.map((e=>(0,X.jsx)(Se,{tab:ne(e.name)},e.id)))}),(0,X.jsxs)(c.c,{children:[null!==Ne&&0!==Ne.length&&(0,X.jsx)(u.c,{title:ne("delete.selected"),children:(0,X.jsx)(Y.c,{type:"primary",onClick:()=>{null===Ne||0===Ne.length?N.m4.warning(ne("select.the.product")):(fe(!0),Ge(!1))},danger:!0})}),(0,X.jsx)(V.c,{setColumns:je,columns:pe,iconOnly:!0}),(0,X.jsx)(v.c,{overlay:Le,children:(0,X.jsx)(i.c,{children:ne("options")})})]})]}),(0,X.jsx)(h.c,{scroll:{x:!0},rowSelection:Re,columns:null===pe||void 0===pe?void 0:pe.filter((e=>e.is_show)),dataSource:Te,loading:Qe,pagination:{pageSize:Ae.perPage,page:(null===(L=_e.data)||void 0===L?void 0:L.page)||1,total:Ee.total,defaultCurrent:null===(U=_e.data)||void 0===U?void 0:U.page,current:null===($=_e.data)||void 0===$?void 0:$.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:n,current:a}=e,{field:s,order:d}=t,i=(0,S.c)(d);J((0,b.MH)({activeMenu:_e,data:{...Ve,perPage:n,page:a,column:s,sort:i}}))}})]}),se&&(0,X.jsx)(ee,{orderDetails:se,handleCancel:qe,status:le}),oe&&(0,X.jsx)(ke,{orderDetails:oe,handleCancel:qe}),ie&&(0,X.jsx)(be,{id:ie,handleCancel:qe}),!!ue&&(0,X.jsx)(Ce,{id:ue,handleCancel:qe}),(0,X.jsx)(O.c,{click:()=>{Pe(!0);const e={...Object.assign({},...Ne.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};D.c.delete(e).then((()=>{N.m4.success(ne("successfully.deleted")),fe(!1),J((0,k.Q1)(We)),Ge(null)})).finally((()=>{Ye(null),Pe(!1)}))},text:ne(De?"delete":"all.delete"),loading:Oe,setText:Ye}),me&&(0,X.jsx)(E.c,{open:me,handleCancel:()=>xe(null),click:me.restore?()=>{Pe(!0),D.c.restoreAll().then((()=>{N.m4.success(ne("it.will.take.some.time.to.return.the.files")),J((0,k.Q1)(We)),xe(null)})).finally((()=>Pe(!1)))}:()=>{Pe(!0),D.c.dropAll().then((()=>{N.m4.success(ne("successfully.deleted")),J((0,k.Q1)(We)),xe(null)})).finally((()=>Pe(!1)))},text:me.restore?ne("restore.modal.text"):ne("read.carefully"),subTitle:me.restore?"":ne("confirm.deletion"),loading:Oe,setText:Ye})]})}},48292:(e,l,t)=>{"use strict";t.d(l,{c:()=>c});var n=t(30800),a=t(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var d=t(47164),i=function(e,l){return a.createElement(d.c,(0,n.c)((0,n.c)({},e),{},{ref:l,icon:s}))};i.displayName="ClearOutlined";const c=a.forwardRef(i)},55512:(e,l,t)=>{"use strict";t.d(l,{c:()=>c});var n=t(30800),a=t(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var d=t(47164),i=function(e,l){return a.createElement(d.c,(0,n.c)((0,n.c)({},e),{},{ref:l,icon:s}))};i.displayName="TableOutlined";const c=a.forwardRef(i)},57236:(e,l,t)=>{"use strict";e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},97132:(e,l,t)=>{"use strict";e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"},16204:()=>{}}]);