"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3405],{1428:(e,t,s)=>{s.d(t,{c:()=>o});s(99584);var n=s(87228),a=s(59424),l=s(61072),i=s(65236),c=s(75088),d=s(97884);function o(e){let{size:t="",onClick:s,type:o="default",...r}=e;const{t:u}=(0,i.G)(),{isDemo:h}=(0,c.c)();return(0,d.jsx)(n.c,{size:t,icon:(0,d.jsx)(a.c,{}),onClick:e=>{h?l.m4.warning(u("cannot.work.demo")):s(e)},type:o,...r})}},53992:(e,t,s)=>{s.d(t,{c:()=>x});var n=s(99584),a=s(49308),l=s(92200),i=s(66296),c=s(26012),d=s(72192),o=s(35928),r=s(87228),u=s(55512),h=s(65236),v=s(97884);const{Text:p}=a.default,x=e=>{let{columns:t=[],setColumns:s,style:a,size:x="",iconOnly:m}=e;const{t:j}=(0,h.G)(),[f,g]=(0,n.useState)(!1),w=(0,v.jsx)(l.c,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,v.jsx)(l.c.Item,{children:(0,v.jsxs)(i.c,{className:"d-flex justify-content-between",children:[(0,v.jsx)(p,{children:e.title}),(0,v.jsx)(c.c,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));s(n)}(e),disabled:1===n})]})},e+n)))});return(0,v.jsx)(d.c,{overlay:w,trigger:["click"],onVisibleChange:e=>{g(e)},visible:f,children:(0,v.jsx)(o.c,{title:j("change.columns"),children:(0,v.jsx)(r.c,{style:{...a},size:x,icon:(0,v.jsx)(u.c,{}),children:m?null:j("Columns")})})})}},19576:(e,t,s)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}s.d(t,{c:()=>n})},3405:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var n=s(99584),a=s(98044),l=s(87228),i=s(66296),c=s(68496),d=s(15752),o=s(36668),r=s(59424),u=s(32712),h=s(36016),v=s(98016),p=s(65236),x=s(61072),m=s(53992),j=s(18896),f=s(68256),g=s(1428),w=s(23424),C=s(46003),_=s(65732),y=s(95884),b=s(68768),k=s(10260),z=s(2664),S=s(23808),H=s(97884);const O=["new","approved","canceled"];function V(e){let{data:t,handleCancel:s,paramsData:a}=e;const{activeMenu:i}=(0,u.w1)((e=>e.menu),u.G),[c]=_.c.useForm(),d=(0,u.OY)(),{t:o}=(0,p.G)(),[r,v]=(0,n.useState)(null),[m,f]=(0,n.useState)(!1),[g,w]=(0,n.useState)(!1);(0,n.useEffect)((()=>{w(!0),S.c.getById(null===t||void 0===t?void 0:t.id).then((e=>{let t=e.data;const s={ads_package_id:null===t||void 0===t?void 0:t.ads_package_id,banner_id:null===t||void 0===t?void 0:t.banner_id,active:null===t||void 0===t?void 0:t.active,position_page:null===t||void 0===t?void 0:t.position_page};v(s)})).catch((e=>x.m4.error(e.message))).finally((()=>w(!1)))}),[null===t||void 0===t?void 0:t.id]);return(0,H.jsx)(y.default,{visible:!!t,title:t.title,onCancel:s,footer:[(0,H.jsx)(l.c,{type:"primary",onClick:()=>c.submit(),loading:m,children:o("save")}),(0,H.jsx)(l.c,{type:"default",onClick:s,children:o("cancel")})],children:(0,H.jsx)(_.c,{form:c,layout:"vertical",onFinish:e=>{f(!0);const n={...e};console.log("shopAdData => ",r),!g&&S.c.update(t.id,{...r,status:null===n||void 0===n?void 0:n.status}).then((()=>{s(),d((0,h.O)(a)),d((0,j.CO)(i))})).finally((()=>f(!1)))},initialValues:{status:t.status},children:(0,H.jsx)(b.c,{gutter:12,children:(0,H.jsx)(k.c,{span:24,children:(0,H.jsx)(_.c.Item,{label:o("status"),name:"status",rules:[{required:!0,message:o("required")}],children:(0,H.jsx)(z.default,{children:O.map((e=>(0,H.jsx)(z.default.Option,{children:o(e)},e)))})})})})})})}var I=s(19576),M=s(83072),G=s.n(M);function D(){const{t:e}=(0,p.G)(),t=(0,u.OY)(),s=(0,w.i6)(),{activeMenu:_}=(0,u.w1)((e=>e.menu),u.G),{shopAdsList:y,loading:b,meta:k}=(0,u.w1)((e=>e.shopAds),u.G),{setIsModalVisible:z}=(0,n.useContext)(v.e),[O,M]=(0,n.useState)(null),[D,Y]=(0,n.useState)(null),[A,F]=(0,n.useState)(null),[E,N]=(0,n.useState)(!1),[P,T]=(0,n.useState)(null),q=_.data,B={search:null===q||void 0===q?void 0:q.serach,perPage:null===q||void 0===q?void 0:q.perPage,page:null===q||void 0===q?void 0:q.page,sort:null===q||void 0===q?void 0:q.sort};(0,n.useEffect)((()=>{_.refetch&&(t((0,h.O)(B)),t((0,j.CO)(_)))}),[_.refetch]),(0,f.c)((()=>{t((0,h.O)(B))}),[_.data]);const K=()=>{t((0,j.WC)({id:"transactions",url:"transactions",name:e("transactions")})),s("/transactions")},R={selectedRowKeys:O,onChange:e=>{M(e)}},[W,L]=(0,n.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("shop"),dataIndex:"title",is_show:!0,render:(e,t)=>{var s,n;return(0,H.jsx)("span",{children:null===t||void 0===t||null===(s=t.shop)||void 0===s||null===(n=s.translation)||void 0===n?void 0:n.title})}},{title:e("expire.at"),dataIndex:"expire_at",is_show:!0,render:(t,s)=>(0,H.jsx)(H.Fragment,{children:null!==s&&void 0!==s&&s.expired_at?G()(null===s||void 0===s?void 0:s.expired_at).format("YYYY-MM-DD HH:mm"):(0,H.jsx)("span",{children:e("not.expired")})})},{title:e("status"),is_show:!0,dataIndex:"status",key:"status",render:(t,s)=>(0,H.jsxs)("div",{children:["new"===t?(0,H.jsx)(a.c,{color:"blue",children:e(t)}):"canceled"===t?(0,H.jsx)(a.c,{color:"error",children:e(t)}):(0,H.jsx)(a.c,{color:"cyan",children:e(t)}),s.deleted_at?"":(0,H.jsx)(o.c,{onClick:()=>T(s)})]})},{title:e("transaction"),dataIndex:"transaction",is_show:!0,render:(t,s)=>{var n;return(0,H.jsx)(H.Fragment,{children:t?(0,H.jsx)(l.c,{onClick:K,color:"cyan",children:null===s||void 0===s||null===(n=s.transaction)||void 0===n?void 0:n.status}):(0,H.jsx)(l.c,{color:"error",children:e("not.paid")})})}},{title:e("options"),dataIndex:"options",is_show:!0,render:(n,a)=>(0,H.jsxs)(i.c,{children:[(0,H.jsx)(l.c,{type:"primary",icon:(0,H.jsx)(o.c,{}),onClick:()=>(n=>{t((0,j.WC)({id:"shop-ads",url:"shop-ads/".concat(n.id),name:e("edit.shop.ads")})),s("/shop-ads/".concat(n.id))})(a),disabled:a.deleted_at}),(0,H.jsx)(g.c,{icon:(0,H.jsx)(r.c,{}),onClick:()=>{z(!0),M([a.id]),Y(!0),F(!1)},disabled:a.deleted_at})]})}]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(c.default,{className:"p-0",children:(0,H.jsxs)(i.c,{wrap:!0,size:[14,20],children:[(0,H.jsx)(g.c,{size:"",onClick:()=>{null===O||0===O.length?x.m4.warning(e("select.the.product")):(z(!0),Y(!1))},children:e("delete.selected")}),(0,H.jsx)(m.c,{columns:W,setColumns:L})]})}),(0,H.jsx)(c.default,{children:(0,H.jsx)(d.c,{scroll:{x:!0},dataSource:y,columns:null===W||void 0===W?void 0:W.filter((e=>null===e||void 0===e?void 0:e.is_show)),rowSelection:R,rowKey:e=>e.id,loading:E||b,pagination:{pageSize:k.per_page,page:k.current_page,total:k.total},onChange:(e,s,n)=>{const{pageSize:a,current:l}=e,{field:i,order:c}=n,d=(0,I.c)(c);t((0,j.MH)({activeMenu:_,data:{..._.data,perPage:a,page:l,column:i,sort:d}}))}})}),P&&(0,H.jsx)(V,{data:P,handleCancel:()=>T(null),paramsData:B}),(0,H.jsx)(C.c,{click:A?()=>{N(!0),S.c.setActive(O).then((()=>{z(!1),t((0,h.O)(B)),x.m4.success(e("successfully.updated")),F(!1)})).finally((()=>N(!1)))}:()=>{N(!0);const s={...Object.assign({},...O.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};S.c.delete(s).then((()=>{z(!1),x.m4.success(e("successfully.deleted")),t((0,h.O)(B)),Y(null),F(!1)})).finally((()=>{N(!1),M(null)}))},text:e(A?"set.active.advert":D?"delete":"all.delete"),setText:M,setActive:F})]})}},55512:(e,t,s)=>{s.d(t,{c:()=>d});var n=s(30800),a=s(99584);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=s(47164),c=function(e,t){return a.createElement(i.c,(0,n.c)((0,n.c)({},e),{},{ref:t,icon:l}))};c.displayName="TableOutlined";const d=a.forwardRef(c)}}]);