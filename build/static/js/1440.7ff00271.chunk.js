"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1440],{98892:(e,l,t)=>{t.d(l,{c:()=>a});t(99584);const a=t.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},71376:(e,l,t)=>{t.d(l,{g:()=>d});var a=t(99584),n=t(95976),i=t.n(n),s=t(2664),r=t(37728),o=t(97884);const d=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:n,...d}=e;const[c,u]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),p=(0,a.useMemo)((()=>i()((e=>{h([]),u(!0),l(e).then((e=>{h(e),u(!1)}))}),t)),[l,t]);return(0,o.jsx)(s.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:c?(0,o.jsx)(r.c,{size:"small"}):"no results",...d,options:v,onFocus:()=>{p("")}})}},19576:(e,l,t)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{c:()=>a})},24968:(e,l,t)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}t.d(l,{c:()=>a})},66264:(e,l,t)=>{t.d(l,{c:()=>i});t(99584);var a=t(68496),n=t(97884);function i(e){let{title:l="Orders",value:t=0,color:i="grey",onClick:s}=e;return(0,n.jsx)(a.default,{className:"statistics-card",hoverable:!!s,onClick:s,children:(0,n.jsxs)("div",{className:"card-wrapper",children:[(0,n.jsx)("div",{className:"space"}),(0,n.jsx)("div",{className:"content",children:(0,n.jsx)("h1",{className:"number",children:t})}),(0,n.jsx)("span",{className:"highlighter ".concat(i)}),l&&(0,n.jsx)("h4",{className:"title",children:l})]})})}},31440:(e,l,t)=>{t.r(l),t.d(l,{default:()=>q});var a=t(99584),n=t(73568),i=t(68496),s=t(66296),r=t(87228),o=t(68768),d=t(10260),c=t(15752),u=t(23424),v=t(32712),h=t(18896),p=t(65236),f=t(68256),x=t(19576),m=t(24968),y=t(71376),_=t(42080),j=t(61072),g=t(83072),b=t.n(g),w=t(48820),k=t(55624),C=t(6032),M=t(95884),Y=t(37728),S=t(98892),N=t(74788),D=t(32160),I=t(23216),z=t(47148),P=t(5008),O=t(97884);function A(e){let{open:l,onCancel:t,onConfirm:n,isPaying:s}=e;const{t:c}=(0,p.G)(),[u,v]=(0,a.useState)({}),[h,f]=(0,a.useState)(null),[x,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{!async function(){m(!0),z.c.getAll().then((e=>{let{data:l}=e;return f(l.map((e=>({label:e.tag||"no name",value:e.id,key:e.id}))))})).finally((()=>{m(!1)}))}()}),[]);const y=e=>{switch(e){case"wallet":return(0,O.jsx)(I.mgp,{size:80});case"paypal":return(0,O.jsx)(N.kvb,{size:80});case"stripe":return(0,O.jsx)(D.w12,{size:80});case"razorpay":return(0,O.jsx)(D.GeI,{size:80});case"paystack":return(0,O.jsx)("img",{src:S.c,alt:"img",width:"80",height:"80"});default:return(0,O.jsx)(P.kbX,{size:80})}};return(0,O.jsx)(M.default,{visible:l,title:c("pay.to.partner"),onCancel:t,footer:[(0,O.jsx)(r.c,{type:"primary",disabled:x||!u.value,loading:s,onClick:()=>{u.value?n(u.value):j.m4.warning(c("please.select.payment.type"))},children:c("confirm")},"save-btn"),(0,O.jsx)(r.c,{type:"default",onClick:t,children:c("cancel")},"cancel-btn")],children:(0,O.jsx)(Y.c,{spinning:x,children:(0,O.jsx)(o.c,{gutter:12,children:null===h||void 0===h?void 0:h.map(((e,l)=>"cash"===e.label||"wallet"===e.label?(0,O.jsx)(d.c,{span:12,children:(0,O.jsxs)(i.default,{style:{display:"flex",justifyContent:"center"},className:"payment-card ".concat((null===u||void 0===u?void 0:u.label)===e.label?"active":""),onClick:()=>{v(e)},children:[(0,O.jsx)("div",{className:"payment-icon",children:y(null===e||void 0===e?void 0:e.label)}),(0,O.jsx)("div",{className:"font-weight-bold mt-2 text-center",children:c(null===e||void 0===e?void 0:e.label)})]})},l):null))})})})}var G=t(66264);const{RangePicker:F}=n.default;function q(){var e,l,t,n,g,M,Y;const{type:S}=(0,u.W4)(),N=(0,v.OY)(),D=(0,u.i6)(),{t:I}=(0,p.G)(),{defaultCurrency:z}=(0,v.w1)((e=>e.currency),v.G),[P,q]=(0,a.useState)(!1),E=[{title:I("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0,render:e=>(0,O.jsxs)("span",{className:"text-hover",onClick:()=>(e=>{N((0,h.WC)({url:"order/details/".concat(e),id:"order_details",name:I("order.details")})),D("/order/details/".concat(e))})(e),children:["#",e]})},{title:I(S),is_show:!0,dataIndex:"user",key:"user",render:(e,l)=>{var t;const a="seller"===S?null===l||void 0===l||null===(t=l.shop)||void 0===t?void 0:t.seller:l.deliveryman;return(0,O.jsxs)("div",{children:[null===a||void 0===a?void 0:a.firstname," ",(null===a||void 0===a?void 0:a.lastname)||""]})}},{title:I("order.total_price"),is_show:!0,dataIndex:"total_price",key:"total_price",render:(e,l)=>{var t,a;const n=null===(t=l.transaction)||void 0===t?void 0:t.status;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("span",{children:(0,m.c)(e,z.symbol)}),(0,O.jsx)("br",{}),(0,O.jsx)("span",{className:"progress"===n?"text-primary":"paid"===n?"text-success":"rejected"===n?"text-danger":"text-info",children:null===(a=l.transaction)||void 0===a?void 0:a.status})]})}},..."seller"===S?[{title:I("coupon.price"),is_show:!0,dataIndex:"coupon_sum_price",key:"coupon_sum_price",render:e=>(0,m.c)(e)}]:[],..."seller"===S?[{title:I("total.cashback"),is_show:!0,dataIndex:"point_history_sum_price",key:"point_history_sum_price",render:e=>(0,m.c)(e)}]:[],{title:I("delivery.fee"),is_show:!0,dataIndex:"delivery_fee",key:"delivery_fee",render:e=>(0,m.c)(e)},..."seller"===S?[{title:I("service.fee"),is_show:!0,dataIndex:"service_fee",key:"service_fee",render:(e,l)=>(0,m.c)((l.service_fee||0)+(l.commission_fee||0))}]:[],..."seller"===S?[{title:I("seller.fee"),is_show:!0,dataIndex:"seller_fee",key:"seller_fee",render:e=>(0,m.c)(e)}]:[],{title:I("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var l;return I(null===e||void 0===e||null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"-"}}],{activeMenu:H}=(0,v.w1)((e=>e.menu),v.G),[K,R]=(0,a.useState)(null),[T,W]=(0,a.useState)(!1),[$,V]=(0,a.useState)(b()().subtract(1,"month"),b()()),{list:X,loading:B,params:J,meta:L}=(0,v.w1)((e=>e.paymentToPartners),v.G),Q=H.data,U={search:null===Q||void 0===Q?void 0:Q.search,sort:null===Q||void 0===Q?void 0:Q.sort,column:null===Q||void 0===Q?void 0:Q.column,perPage:null===Q||void 0===Q?void 0:Q.perPage,page:null===Q||void 0===Q?void 0:Q.page,user_id:null===Q||void 0===Q?void 0:Q.user_id,shop_id:null!==(null===(e=H.data)||void 0===e?void 0:e.shop_id)?null===(l=H.data)||void 0===l?void 0:l.shop_id:null,date_from:Array.isArray($)?null===(t=$[0])||void 0===t?void 0:t.format("YYYY-MM-DD"):b()().subtract(1,"month").format("YYYY-MM-DD"),date_to:Array.isArray($)?null===(n=$[1])||void 0===n?void 0:n.format("YYYY-MM-DD"):b()().format("YYYY-MM-DD"),type:S};(0,f.c)((()=>{N((0,k.yq)(U))}),[Q,$,S]);const Z=(e,l)=>{N((0,h.MH)({activeMenu:H,data:{...Q,[l]:e}}))};(0,a.useEffect)((()=>{null!==H&&void 0!==H&&H.refetch&&(N((0,k.yq)(U)),N((0,h.CO)(H)))}),[null===H||void 0===H?void 0:H.refetch]);const ee={selectedRowKeys:K,onChange:e=>{R(e)}};return(0,a.useEffect)((()=>()=>{N((0,h.MH)({activeMenu:H,data:{}}))}),[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.default,{children:(0,O.jsxs)("div",{className:"flex justify-content-space-between",children:[(0,O.jsxs)(s.c,{wrap:!0,className:"order-filter",style:{flex:1,width:"100%"},children:[(0,O.jsx)(y.g,{placeholder:I("select.shop"),fetchOptions:async function(e){const l={search:e,status:"approved"};return w.c.getAll(l).then((e=>{let{data:l}=e;return l.map((e=>{var l;return{label:null===(l=e.translation)||void 0===l?void 0:l.title,value:e.id}}))}))},style:{width:"100%"},onSelect:e=>Z(e.value,"shop_id"),onDeselect:()=>Z(null,"shop_id"),allowClear:!0,value:null===Q||void 0===Q?void 0:Q.shop_id}),(0,O.jsx)(y.g,{placeholder:I("select.user"),fetchOptions:async function(e){const l={search:e,perPage:10,role:S};return _.c.search(l).then((e=>{let{data:l}=e;return l.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id})))}))},onSelect:e=>Z(e.value,"user_id"),onDeselect:()=>Z(null,"user_id"),style:{width:"100%"},value:null===Q||void 0===Q?void 0:Q.user_id}),(0,O.jsx)(F,{value:$,onChange:e=>{Z((l=>{var t,a;return{...l,date_from:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(a=e[1])||void 0===a?void 0:a.format("YYYY-MM-DD")}})),V(e)},disabledDate:e=>e&&e>b()().endOf("day"),style:{width:"100%"}})]}),(0,O.jsx)(r.c,{type:"primary",disabled:!K||0===K.length,onClick:()=>q(!0),children:I("pay")})]})}),(0,O.jsx)(i.default,{children:(0,O.jsxs)(o.c,{gutter:16,className:"mt-3",children:[(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("commission.fee"),value:null===X||void 0===X?void 0:X.total_commission_fee,color:"purple"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("coupon"),value:null===X||void 0===X?void 0:X.total_coupon,color:"red"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("delivery.fee"),value:null!==X&&void 0!==X&&X.total_delivery_fee?Math.trunc(null===X||void 0===X?void 0:X.total_delivery_fee):0,color:"green"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("point.history"),value:null!==X&&void 0!==X&&X.total_point_history?Math.trunc(null===X||void 0===X?void 0:X.total_point_history):0,color:"purple"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("price"),value:null!==X&&void 0!==X&&X.total_price?Math.trunc(null===X||void 0===X?void 0:X.total_price):0,color:"red"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("seller.fee"),value:null!==X&&void 0!==X&&X.total_seller_fee?Math.trunc(null===X||void 0===X?void 0:X.total_seller_fee):0,color:"purple"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("service.fee"),value:null!==X&&void 0!==X&&X.total_service_fee?Math.trunc(null===X||void 0===X?void 0:X.total_service_fee):0,color:"red"})}),(0,O.jsx)(d.c,{flex:"0 0 25%",children:(0,O.jsx)(G.c,{title:I("tax"),value:null!==X&&void 0!==X&&X.total_tax?Math.trunc(null===X||void 0===X?void 0:X.total_tax):0,color:"green"})})]})}),(0,O.jsx)(i.default,{children:(0,O.jsx)(c.c,{scroll:{x:!0},rowSelection:ee,columns:null===E||void 0===E?void 0:E.filter((e=>e.is_show)),dataSource:null===X||void 0===X?void 0:X.data,loading:B,pagination:{pageSize:J.perPage,page:(null===(g=H.data)||void 0===g?void 0:g.page)||1,total:null===L||void 0===L?void 0:L.total,defaultCurrent:null===(M=H.data)||void 0===M?void 0:M.page,current:null===(Y=H.data)||void 0===Y?void 0:Y.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:a,current:n}=e,{field:i,order:s}=t,r=(0,x.c)(s);N((0,h.MH)({activeMenu:H,data:{...Q,perPage:a,page:n,column:i,sort:r}}))}})}),P&&(0,O.jsx)(A,{open:P,onCancel:()=>{q(!1),R(null)},onConfirm:e=>(e=>{W(!0);const l={data:K,type:S,payment_id:e};C.c.pay(l).then((()=>{j.m4.success(I("successfully.payed")),N((0,k.yq)(U))})).finally((()=>{R(null),W(!1),q(!1)}))})(e),isPaying:T})]})}}}]);