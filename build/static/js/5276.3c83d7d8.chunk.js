"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5276],{45276:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var l=a(99584),i=a(98948),d=a(46162),s=a(66296),n=a(87228),r=a(68496),o=a(15752),c=a(61072),u=a(46003),v=a(98016),h=a(32712),m=a(18896),x=a(68256),g=a(19576),p=a(65236),f=a(81552),w=a(5624),y=a(83072),j=a.n(y),k=a(23424),C=a(1428),S=a(53992),_=a(90868),b=a(97884);function I(){const{t:e}=(0,p.G)(),t=(0,h.OY)(),a=(0,k.i6)(),[y,I]=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:l=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>(l=>{t((0,m.WC)({id:"order_details",url:"order/details/".concat(l),name:e("order.details")})),a("/order/details/".concat(l))})(null===l||void 0===l?void 0:l.id),children:["#",null===l||void 0===l?void 0:l.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,b.jsx)(d.c,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>j()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,b.jsx)(s.c,{children:(0,b.jsx)(n.c,{type:"primary",icon:(0,b.jsx)(i.c,{}),onClick:()=>z(t.id)})})}]),{setIsModalVisible:M}=(0,l.useContext)(v.e),[Y,H]=(0,l.useState)(null),[P,z]=(0,l.useState)(null),[G,N]=(0,l.useState)(!1),[O,D]=(0,l.useState)(null),{activeMenu:V}=(0,h.w1)((e=>e.menu),h.G),{reviews:E,meta:K,loading:R,params:T}=(0,h.w1)((e=>e.deliveryboyReview),h.G),W=V.data,q={sort:null===W||void 0===W?void 0:W.sort,column:null===W||void 0===W?void 0:W.column,perPage:null===W||void 0===W?void 0:W.perPage,page:null===W||void 0===W?void 0:W.page,assign:"deliveryman"};(0,l.useEffect)((()=>{V.refetch&&(t((0,_.S2)(q)),t((0,m.CO)(V)))}),[V.refetch]),(0,x.c)((()=>{t((0,_.S2)(q))}),[V.data]);const A={id:Y,onChange:e=>{H(e)}};return(0,b.jsxs)(r.default,{title:e("deliveryboy.reviews"),extra:(0,b.jsxs)(s.c,{wrap:!0,children:[(0,b.jsx)(C.c,{size:"",onClick:()=>{null===Y||0===Y.length?c.m4.warning(e("select.the.product")):(M(!0),D(!1))},children:e("delete.selected")}),(0,b.jsx)(S.c,{columns:y,setColumns:I})]}),children:[(0,b.jsx)(o.c,{scroll:{x:!0},rowSelection:A,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:E,pagination:{pageSize:T.perPage,page:T.page,total:K.total,defaultCurrent:T.page},rowKey:e=>e.id,onChange:function(e,a,l){const{pageSize:i,current:d}=e,{field:s,order:n}=l,r=(0,g.c)(n);t((0,m.MH)({activeMenu:V,data:{perPage:i,page:d,column:s,sort:r}}))},loading:R}),(0,b.jsx)(u.c,{click:()=>{N(!0);const a={...Object.assign({},...Y.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};f.c.delete(a).then((()=>{c.m4.success(e("successfully.deleted")),t((0,_.S2)()),M(!1)})).finally((()=>N(!1)))},text:e(O?"delete":"all.delete"),setText:H,loading:G}),P&&(0,b.jsx)(w.c,{id:P,handleCancel:()=>z(null)})]})}}}]);