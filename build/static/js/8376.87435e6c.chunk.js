"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8376],{68376:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(99584),c=a(65732),i=a(68496),d=a(37728),n=a(61072),o=a(23424),s=a(424),r=a(32712),u=a(18896),v=a(66752),f=a(65236),g=a(91204),p=a(56384),h=a(53576),m=a(97884);const y=()=>{const{t:e}=(0,f.G)(),t=(0,o.i6)(),a=(0,r.OY)(),{activeMenu:y}=(0,r.w1)((e=>e.menu),r.G),[b,x]=(0,l.useState)(!1),[j]=c.c.useForm(),{id:M}=(0,o.W4)(),{languages:_}=(0,r.w1)((e=>e.formLang),r.G);function w(e){if(!e)return{};const{translations:t}=e,a=_.map((e=>{var a,l,c;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,["address[".concat(e.locale,"]")]:null===(c=t.find((t=>t.locale===e.locale)))||void 0===c?void 0:c.address}}));return Object.assign({},...a)}(0,l.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);a((0,u.MH)({activeMenu:y,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;y.refetch&&(e=M,x(!0),v.c.getById(e).then((e=>{var t,l,c,i,d;let n=e.data;const o={...n,...w(n),category_id:{label:null===n||void 0===n||null===(t=n.category)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===n||void 0===n||null===(c=n.category)||void 0===c?void 0:c.id},active:!(null===e||void 0===e||null===(i=e.data)||void 0===i||!i.active)&&(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.active)};j.setFieldsValue(o),a((0,u.MH)({activeMenu:y,data:o}))})).finally((()=>{x(!1),a((0,u.CO)(y))})))}),[y.refetch]),(0,m.jsx)(i.default,{title:e("edit.career"),extra:(0,m.jsx)(s.c,{}),children:b?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,m.jsx)(d.c,{size:"large",className:"mt-5 pt-5"})}):(0,m.jsx)(h.c,{form:j,handleSubmit:l=>{const c={...l,active:Number(l.active),category_id:l.category_id.value,type:l.type,title:(0,p.c)(_,l,"title"),description:(0,p.c)(_,l,"description"),address:(0,p.c)(_,l,"address")},i="catalog/career";return v.c.update(M,c).then((()=>{n.m4.success(e("successfully.updated")),(0,r.wN)((()=>{a((0,u.MF)({...y,nextUrl:i})),a((0,g._)({}))})),t("/".concat(i))})).catch((e=>console.error(e.response.data.params)))}})})}}}]);