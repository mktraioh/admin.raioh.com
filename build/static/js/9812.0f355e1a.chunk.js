"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9812],{24692:(e,t,l)=>{l.d(t,{o:()=>c});var a=l(99584),n=l(2664),i=l(37728),s=l(97884);const c=e=>{let{fetchOptions:t,refetch:l=!1,...c}=e;const[r,d]=(0,a.useState)(!1),[o,u]=(0,a.useState)([]);return(0,s.jsx)(n.default,{labelInValue:!0,filterOption:!1,notFoundContent:r?(0,s.jsx)(i.c,{size:"small"}):"no results",...c,options:r?[]:o,onFocus:()=>{o.length&&!l||(d(!0),t().then((e=>{u(e),d(!1)})))}})}},53992:(e,t,l)=>{l.d(t,{c:()=>p});var a=l(99584),n=l(49308),i=l(92200),s=l(66296),c=l(26012),r=l(72192),d=l(35928),o=l(87228),u=l(55512),v=l(65236),h=l(97884);const{Text:m}=n.default,p=e=>{let{columns:t=[],setColumns:l,style:n,size:p="",iconOnly:x}=e;const{t:y}=(0,v.G)(),[j,f]=(0,a.useState)(!1),g=(0,h.jsx)(i.c,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,h.jsx)(i.c.Item,{children:(0,h.jsxs)(s.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(c.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(r.c,{overlay:g,trigger:["click"],onVisibleChange:e=>{f(e)},visible:j,children:(0,h.jsx)(d.c,{title:y("change.columns"),children:(0,h.jsx)(o.c,{style:{...n},size:p,icon:(0,h.jsx)(u.c,{}),children:x?null:y("Columns")})})})}},6428:(e,t,l)=>{l.d(t,{u:()=>d});var a=l(99584),n=l(95976),i=l.n(n),s=l(2664),c=l(37728),r=l(97884);const d=e=>{let{fetchOptions:t,debounceTimeout:l=400,refetch:n=!1,...d}=e;const[o,u]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),m=(0,a.useMemo)((()=>i()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),l)),[t,l]);return(0,r.jsx)(s.default,{showSearch:!0,allowClear:!0,labelInValue:!0,onClear:()=>m(""),filterOption:!1,onSearch:m,notFoundContent:o?(0,r.jsx)(c.c,{size:"small"}):"no results",...d,options:v,onFocus:()=>{m("")}})}},19576:(e,t,l)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{c:()=>a})},24968:(e,t,l)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}l.d(t,{c:()=>a})},59812:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Y});var a=l(99584),n=l(84616),i=l(98044),s=l(66296),c=l(87228),r=l(35928),d=l(68496),o=l(15752),u=l(32712),v=l(18896),h=l(68256),m=l(19576),p=l(65236),x=l(24968),y=l(36668),j=l(23756),f=l(95884),g=l(65732),b=l(68768),w=l(10260),C=l(10240),_=l(46712),k=l(24692),I=l(42080),S=l(80144),z=l(59048),V=l(29592),H=l(6428),P=l(97884);function O(e){var t,l,n,i,s,r,d,o;let{data:h,handleCancel:m}=e;const{t:x}=(0,p.G)(),{activeMenu:y}=(0,u.w1)((e=>e.menu),u.G),[j,O]=(0,a.useState)(!1),q=(0,u.OY)();return(0,P.jsx)(f.default,{visible:!!h,title:x("pay.to.seller"),onCancel:m,footer:[(0,P.jsx)(c.c,{onClick:m,children:x("cancel")},"calcel-btn"),(0,P.jsx)(c.c,{type:"primary",form:"form",htmlType:"submit",loading:j,children:null!==h&&void 0!==h&&h.id?x("edit"):x("create")},"pay-btn")],children:(0,P.jsx)(g.c,{initialValues:{cause:null===h||void 0===h?void 0:h.cause,price:null===h||void 0===h?void 0:h.price,answer:null===h||void 0===h?void 0:h.answer,currency_id:(null===h||void 0===h?void 0:h.currency)&&{value:null===h||void 0===h||null===(t=h.currency)||void 0===t?void 0:t.id,label:"".concat(null===h||void 0===h||null===(l=h.currency)||void 0===l?void 0:l.title," (").concat(null===h||void 0===h||null===(n=h.currency)||void 0===n?void 0:n.symbol,")")},payment_id:(null===h||void 0===h?void 0:h.payment)&&{value:null===h||void 0===h||null===(i=h.payment)||void 0===i?void 0:i.id,label:null===h||void 0===h||null===(s=h.payment)||void 0===s?void 0:s.tag},created_by:(null===h||void 0===h?void 0:h.createdBy)&&{value:null===h||void 0===h||null===(r=h.createdBy)||void 0===r?void 0:r.id,label:"".concat(null===h||void 0===h||null===(d=h.createdBy)||void 0===d?void 0:d.firstname," ").concat((null===h||void 0===h||null===(o=h.createdBy)||void 0===o?void 0:o.lastname)||"")}},onFinish:e=>{var t,l,a;const n={cause:e.cause,price:e.price,created_by:null===e||void 0===e||null===(t=e.created_by)||void 0===t?void 0:t.value,payment_id:null===e||void 0===e||null===(l=e.payment_id)||void 0===l?void 0:l.value,currency_id:null===e||void 0===e||null===(a=e.currency_id)||void 0===a?void 0:a.value,answer:e.answer};O(!0),null!==h&&void 0!==h&&h.id?V.s.update(h.id,n).then((()=>{m(),q((0,v.A1)(y))})).finally((()=>O(!1))):V.s.create(n).then((()=>{m(),q((0,v.A1)(y))})).finally((()=>O(!1)))},id:"form",layout:"vertical",children:(0,P.jsxs)(b.c,{gutter:24,children:[(0,P.jsxs)(w.c,{span:12,children:[(0,P.jsx)(g.c.Item,{name:"created_by",rules:[{required:!0,message:x("required")}],label:x("seller"),children:(0,P.jsx)(H.u,{className:"w-100",placeholder:x("select.seller"),fetchOptions:e=>I.c.getAll({role:"seller",search:e}).then((e=>{let{data:t}=e;return t.map((e=>({value:e.id,label:"".concat(e.firstname," ").concat(e.lastname||""),key:e.id})))}))})}),(0,P.jsx)(g.c.Item,{name:"payment_id",rules:[{required:!0,message:x("required")}],label:x("payment"),children:(0,P.jsx)(k.o,{className:"w-100",placeholder:x("select.payment.type"),fetchOptions:()=>z.c.getAll().then((e=>{let{data:t}=e;return t.filter((e=>e.active&&"wallet"===e.tag)).map((e=>({value:e.id,label:e.tag,key:e.id})))}))})})]}),(0,P.jsxs)(w.c,{span:12,children:[(0,P.jsx)(g.c.Item,{name:"currency_id",rules:[{required:!0,message:x("required")}],label:x("currency"),children:(0,P.jsx)(k.o,{className:"w-100",placeholder:x("select.currency"),fetchOptions:()=>S.c.getAll().then((e=>{let{data:t}=e;return t.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title," (").concat(e.symbol||"",")"),key:e.id})))}))})}),(0,P.jsx)(g.c.Item,{name:"price",rules:[{required:!0,message:x("required")}],label:x("price"),children:(0,P.jsx)(C.c,{className:"w-100",placeholder:x("amount"),min:0})})]}),(0,P.jsxs)(w.c,{span:24,children:[(0,P.jsx)(g.c.Item,{name:"cause",rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(x("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(x("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(x("required")))}],label:x("cause"),children:(0,P.jsx)(_.default.TextArea,{showCount:!0,maxLength:100,placeholder:x("cause")})}),(0,P.jsx)(g.c.Item,{name:"answer",label:x("answer"),rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(x("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(x("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(x("required")))}],children:(0,P.jsx)(_.default.TextArea,{showCount:!0,maxLength:100,placeholder:x("answer")})})]})]})})})}var q=l(53992),M=l(23424),N=l(58168),A=l(2664);function E(e){let{data:t,handleCancel:l,statuses:n}=e;const{t:i}=(0,p.G)(),{activeMenu:s}=(0,u.w1)((e=>e.menu),u.G),[r,d]=(0,a.useState)(!1),o=(0,u.OY)();return(0,P.jsx)(f.default,{visible:!!t,title:i("change.status"),onCancel:l,footer:[(0,P.jsx)(c.c,{onClick:l,children:i("cancel")}),(0,P.jsx)(c.c,{loading:r,type:"primary",form:"status",htmlType:"submit",children:i("change")},"pay-btn")],children:(0,P.jsx)(g.c,{initialValues:{status:null===t||void 0===t?void 0:t.status},onFinish:e=>{d(!0),V.s.changeStatus(null===t||void 0===t?void 0:t.id,e).then((()=>{l(),o((0,v.A1)(s))})).finally((()=>d(!1)))},id:"status",layout:"vertical",children:(0,P.jsx)(g.c.Item,{label:i("status"),name:"status",children:(0,P.jsx)(A.default,{options:n.slice(1).map((e=>({label:i(e),value:e})))})})})})}var G=l(83072),T=l.n(G);const{TabPane:B}=n.default,F=["all","accepted","pending","canceled"];function Y(){var e;const{t:t}=(0,p.G)(),l=(0,u.OY)(),f=(0,M.i6)(),{activeMenu:g}=(0,u.w1)((e=>e.menu),u.G),[b,w]=(0,a.useState)("all"),C=(null===(e=g.data)||void 0===e?void 0:e.role)||b,_=g.data,k={sort:null===_||void 0===_?void 0:_.sort,column:null===_||void 0===_?void 0:_.column,perPage:null===_||void 0===_?void 0:_.perPage,page:null===_||void 0===_?void 0:_.page,status:"all"===b?void 0:C},{payoutRequests:I,meta:S,loading:z,params:V}=(0,u.w1)((e=>e.adminPayouts),u.G),[H,A]=(0,a.useState)(null),[G,Y]=(0,a.useState)(null),[D,K]=(0,a.useState)([{title:t("user"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:e=>(0,P.jsx)("div",{className:"text-hover",onClick:()=>(e=>{l((0,v.WC)({url:"/users/user/".concat(e.uuid),id:"user_info",name:t("user.info")})),f("/users/user/".concat(e.uuid),{state:{user_id:e.id}})})(e),children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.lastname)})},{title:t("price"),dataIndex:"price",key:"price",is_show:!0,render:(e,t)=>{var l;return(0,x.c)(e,null===(l=t.currency)||void 0===l?void 0:l.symbol)}},{title:t("status"),dataIndex:"status",key:"status",is_show:!0,render:e=>(0,P.jsx)("div",{children:"pending"===e?(0,P.jsx)(i.c,{color:"blue",children:t(e)}):"canceled"===e?(0,P.jsx)(i.c,{color:"error",children:t(e)}):(0,P.jsx)(i.c,{color:"cyan",children:t(e)})})},{title:t("cause"),dataIndex:"cause",key:"cause",is_show:!0},{title:t("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>T()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:t("answer"),dataIndex:"answer",key:"answer",is_show:!0},{title:t("options"),dataIndex:"uuid",key:"uuid",is_show:!0,render:(e,l)=>(0,P.jsxs)(s.c,{children:[(0,P.jsx)(c.c,{type:"primary",icon:(0,P.jsx)(y.c,{}),onClick:()=>A(l)}),"accepted"!==l.status&&(0,P.jsx)(r.c,{title:t("change.status"),children:(0,P.jsx)(c.c,{onClick:()=>Y(l),icon:(0,P.jsx)(j.c,{})})})]})}]);(0,a.useEffect)((()=>{g.refetch&&(l((0,N.o)(k)),l((0,v.CO)(g)))}),[g.refetch]),(0,h.c)((()=>{l((0,N.o)(k))}),[g.data]);return(0,P.jsxs)(d.default,{title:t("payout.requests"),extra:(0,P.jsxs)(s.c,{children:[(0,P.jsx)(c.c,{onClick:()=>A(!0),type:"primary",children:t("create.payout")}),(0,P.jsx)(q.c,{columns:D,setColumns:K})]}),children:[(0,P.jsx)(n.default,{className:"mt-3",activeKey:C,onChange:e=>{(e=>{const t=g.data;l((0,v.MH)({activeMenu:g,data:{...t,...e}}))})({role:e,page:1}),w(e)},type:"card",children:F.map((e=>(0,P.jsx)(B,{tab:t(e)},e)))}),(0,P.jsx)(o.c,{scroll:{x:!0},columns:null===D||void 0===D?void 0:D.filter((e=>e.is_show)),dataSource:I,pagination:{pageSize:V.perPage,page:V.page,total:S.total,defaultCurrent:V.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:n,current:i}=e,{field:s,order:c}=a,r=(0,m.c)(c);l((0,v.MH)({activeMenu:g,data:{perPage:n,page:i,column:s,sort:r}}))},loading:z}),H&&(0,P.jsx)(O,{data:H,handleCancel:()=>A(null)}),G&&(0,P.jsx)(E,{data:G,statuses:F,handleCancel:()=>Y(null)})]})}},55512:(e,t,l)=>{l.d(t,{c:()=>r});var a=l(30800),n=l(99584);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var s=l(47164),c=function(e,t){return n.createElement(s.c,(0,a.c)((0,a.c)({},e),{},{ref:t,icon:i}))};c.displayName="TableOutlined";const r=n.forwardRef(c)}}]);