"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3378],{1428:(e,l,t)=>{t.d(l,{c:()=>r});t(99584);var a=t(87228),n=t(59424),i=t(61072),s=t(65236),o=t(75088),c=t(97884);function r(e){let{size:l="",onClick:t,type:r="default",...d}=e;const{t:u}=(0,s.G)(),{isDemo:v}=(0,o.c)();return(0,c.jsx)(a.c,{size:l,icon:(0,c.jsx)(n.c,{}),onClick:e=>{v?i.m4.warning(u("cannot.work.demo")):t(e)},type:r,...d})}},53992:(e,l,t)=>{t.d(l,{c:()=>x});var a=t(99584),n=t(49308),i=t(92200),s=t(66296),o=t(26012),c=t(72192),r=t(35928),d=t(87228),u=t(55512),v=t(65236),h=t(97884);const{Text:p}=n.default,x=e=>{let{columns:l=[],setColumns:t,style:n,size:x="",iconOnly:g}=e;const{t:m}=(0,v.G)(),[f,j]=(0,a.useState)(!1),y=(0,h.jsx)(i.c,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,h.jsx)(i.c.Item,{children:(0,h.jsxs)(s.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(o.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(c.c,{overlay:y,trigger:["click"],onVisibleChange:e=>{j(e)},visible:f,children:(0,h.jsx)(r.c,{title:m("change.columns"),children:(0,h.jsx)(d.c,{style:{...n},size:x,icon:(0,h.jsx)(u.c,{}),children:g?null:m("Columns")})})})}},71376:(e,l,t)=>{t.d(l,{g:()=>r});var a=t(99584),n=t(95976),i=t.n(n),s=t(2664),o=t(37728),c=t(97884);const r=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:n,...r}=e;const[d,u]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),p=(0,a.useMemo)((()=>i()((e=>{h([]),u(!0),l(e).then((e=>{h(e),u(!1)}))}),t)),[l,t]);return(0,c.jsx)(s.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:d?(0,c.jsx)(o.c,{size:"small"}):"no results",...r,options:v,onFocus:()=>{p("")}})}},54776:(e,l,t)=>{t.d(l,{c:()=>f});var a=t(65732),n=t(46712),i=t(95884),s=t(87228),o=t(99584),c=t(5332),r=t(65236),d=t(32712),u=t(61072),v=t(36136),h=t(49580),p=t(68392),x=t(90388),g=t(71376),m=t(97884);function f(e){let{modal:l,handleCancel:t,onSuccess:f,groupId:j}=e;const[y]=a.c.useForm(),{t:C}=(0,r.G)(),b=(0,d.OY)(),[w,k]=(0,o.useState)(!1),[_,V]=(0,o.useState)("text"),[z,S]=(0,o.useState)(null),[H,I]=(0,o.useState)(""),{extraGroups:G}=(0,d.w1)((e=>e.extraGroup),d.G);(0,o.useEffect)((()=>{if(null!==l&&void 0!==l&&l.id){var e,t,a;V(l.group.type);const n={...l,extra_group_id:{label:null===l||void 0===l||null===(e=l.group)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===l||void 0===l||null===(a=l.group)||void 0===a?void 0:a.id},value:l.value};switch(l.group.type){case"color":I(l.value);break;case"image":S((0,h.c)(l.value))}y.setFieldsValue(n)}j&&y.setFieldsValue({extra_group_id:{value:j}})}),[l,j]);function O(e,l){switch(e){case"color":return l.hex;case"text":return l;case"image":return l.name;default:return""}}return(0,m.jsx)(i.default,{title:null!==l&&void 0!==l&&l.id?C("edit.extra"):C("add.extra"),visible:!!l,onCancel:t,footer:[(0,m.jsx)(s.c,{type:"primary",onClick:()=>y.submit(),loading:w,children:C("save")}),(0,m.jsx)(s.c,{type:"default",onClick:t,children:C("cancel")})],children:(0,m.jsxs)(a.c,{name:"extra-form",layout:"vertical",form:y,onFinish:e=>{var a;console.log(e);const n={extra_group_id:null===e||void 0===e||null===(a=e.extra_group_id)||void 0===a?void 0:a.value,value:O(_,e.value)};null!==l&&void 0!==l&&l.id?((e,l)=>{k(!0),x.c.updateValue(e,l).then((()=>{u.m4.success(C("successfully.updated")),t(),b((0,p.g$)())})).finally((()=>k(!1)))})(l.id,n):(e=>{k(!0),x.c.createValue(e).then((()=>{u.m4.success(C("successfully.created")),t(),b((0,p.g$)()),f&&f()})).finally((()=>k(!1)))})(n)},children:[(0,m.jsx)(a.c.Item,{name:"extra_group_id",label:C("extra.group"),hidden:!!j,rules:[{required:!0,message:""}],children:(0,m.jsx)(g.g,{fetchOptions:async function(e){const l={perPage:10,active:1,search:e};return console.log("search => ",l),x.c.getAllGroups(l).then((e=>{var l;return null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map((e=>{var l;return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,key:null===e||void 0===e?void 0:e.id}}))}))}})}),(0,m.jsx)(a.c.Item,{name:"value",label:C("value"),rules:[{required:!0,message:""}],children:(e=>{switch(e){case"color":return(0,m.jsx)(c.aS,{onChangeComplete:e=>I(e.hex),color:H,disableAlpha:!0});case"text":return(0,m.jsx)(n.default,{placeholder:C("enter.extra.value")});case"image":return(0,m.jsx)(v.c,{type:"extras",image:z,setImage:S,form:y,name:"value"});default:return""}})(_)})]})})}},83378:(e,l,t)=>{t.r(l),t.d(l,{default:()=>V});var a=t(99584),n=t(66296),i=t(87968),s=t(87228),o=t(68496),c=t(15752),r=t(36668),d=t(59424),u=t(3952),v=t(61072),h=t(65236),p=t(32712),x=t(68392),g=t(90388),m=t(54776),f=t(95884),j=t(97884);function y(e){let{id:l,loading:t,handleClose:a,text:n,click:i}=e;const{t:o}=(0,h.G)();return(0,j.jsxs)(f.default,{closable:!1,visible:!!l,footer:null,centered:!0,children:[(0,j.jsx)("p",{children:n}),(0,j.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,j.jsx)(s.c,{type:"primary",className:"mr-2",onClick:i,loading:t,children:o("yes")}),(0,j.jsx)(s.c,{onClick:a,children:o("no")})]})]})}var C=t(1428),b=t(52640),w=t(18896),k=t(53992),_=t(68256);function V(){var e,l,t;const{t:f}=(0,h.G)(),V=(0,p.OY)(),{activeMenu:z}=(0,p.w1)((e=>e.menu),p.G),{extraValues:S,loading:H,meta:I}=(0,p.w1)((e=>e.extraValue),p.G),[G,O]=(0,a.useState)(null),[M,N]=(0,a.useState)(null),[F,P]=(0,a.useState)(!1),[$,E]=(0,a.useState)([{title:f("id"),dataIndex:"id",key:"id",is_show:!0},{title:f("title"),dataIndex:"extra_group_id",key:"extra_group_id",is_show:!0,render:(e,l)=>{var t,a;return null===(t=l.group)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title}},{title:f("created.by"),dataIndex:"shop",key:"shop",is_show:!0,render:(e,l)=>{var t;return null!==l&&void 0!==l&&null!==(t=l.group)&&void 0!==t&&t.shop?f("you"):f("admin")}},{title:f("value"),dataIndex:"value",key:"value",is_show:!0,render:(e,l)=>(0,j.jsxs)(n.c,{className:"extras",children:["color"===l.group.type?(0,j.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:l.value}}):null,"image"===l.group.type?(0,j.jsx)(i.c,{width:100,src:b.cd+l.value,className:"borderRadius"}):null,"image"===l.group.type?null:(0,j.jsx)("span",{children:l.value})]})},{title:f("options"),is_show:!0,render:e=>{var l,t;return(0,j.jsxs)(n.c,{children:[(0,j.jsx)(s.c,{type:"primary",icon:(0,j.jsx)(r.c,{}),onClick:()=>N(e),disabled:!(null!==e&&void 0!==e&&null!==(l=e.group)&&void 0!==l&&l.shop_id)}),(0,j.jsx)(C.c,{type:"primary",danger:!0,icon:(0,j.jsx)(d.c,{}),onClick:()=>O([e.id]),disabled:!(null!==e&&void 0!==e&&null!==(t=e.group)&&void 0!==t&&t.shop_id)})]})}}]),R=null===z||void 0===z?void 0:z.data,T={perPage:null===R||void 0===R?void 0:R.perPage,page:null===R||void 0===R?void 0:R.page};return(0,_.c)((()=>{V((0,x.g$)(T))}),[null===z||void 0===z?void 0:z.data]),(0,a.useEffect)((()=>{z.refetch&&(V((0,x.g$)()),V((0,w.CO)(z)))}),[z.refetch]),(0,j.jsxs)(o.default,{title:f("extra.value"),extra:(0,j.jsxs)(n.c,{wrap:!0,children:[(0,j.jsx)(s.c,{type:"primary",icon:(0,j.jsx)(u.c,{}),onClick:()=>N({}),children:f("add.extra")}),(0,j.jsx)(k.c,{columns:$,setColumns:E})]}),children:[(0,j.jsx)(c.c,{scroll:{x:!0},loading:H,columns:null===$||void 0===$?void 0:$.filter((e=>e.is_show)),dataSource:S,rowKey:e=>e.id,pagination:{pageSize:T.perPage,page:(null===(e=z.data)||void 0===e?void 0:e.page)||1,total:I.total,defaultCurrent:null===(l=z.data)||void 0===l?void 0:l.page,current:null===(t=z.data)||void 0===t?void 0:t.page},onChange:function(e,l,t){const{pageSize:a,current:n}=e,{field:i}=t;V((0,w.MH)({activeMenu:z,data:{...z.data,perPage:a,page:n,column:i}}))}}),M&&(0,j.jsx)(m.c,{modal:M,handleCancel:()=>N(null)}),G&&(0,j.jsx)(y,{id:G,click:()=>{P(!0);const e={...Object.assign({},...G.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};g.c.deleteValue(e).then((()=>{v.m4.success(f("successfully.deleted")),O(null),V((0,x.g$)())})).finally((()=>P(!1)))},text:f("delete.extra"),loading:F,handleClose:()=>O(null)})]})}},3952:(e,l,t)=>{t.d(l,{c:()=>c});var a=t(30800),n=t(99584);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=t(47164),o=function(e,l){return n.createElement(s.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:i}))};o.displayName="PlusCircleOutlined";const c=n.forwardRef(o)},55512:(e,l,t)=>{t.d(l,{c:()=>c});var a=t(30800),n=t(99584);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var s=t(47164),o=function(e,l){return n.createElement(s.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:i}))};o.displayName="TableOutlined";const c=n.forwardRef(o)}}]);