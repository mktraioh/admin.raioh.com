"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7952],{37952:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var l=a(99584),n=a(23424),c=a(61072),i=a(65732),s=a(68496),o=a(37728),u=a(32712),r=a(18896),d=a(65344),v=a(88816),h=a(65236),f=a(424),p=a(56384),m=a(18736),b=a(97884);const g=()=>{const{t:e}=(0,h.G)(),{activeMenu:t}=(0,u.w1)((e=>e.menu),u.G),a=(0,u.OY)(),[g]=i.c.useForm(),x=(0,n.i6)(),{id:j}=(0,n.W4)(),[k,M]=(0,l.useState)(!1),{languages:_}=(0,u.w1)((e=>e.formLang),u.G);(0,l.useEffect)((()=>()=>{const e=g.getFieldsValue(!0);a((0,r.MH)({activeMenu:t,data:e}))}),[]);function w(e){if(!e)return{};const{translations:t}=e,a=_.map((e=>{var a,l,n;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,["button_text[".concat(e.locale,"]")]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.button_text}}));return Object.assign({},...a)}return(0,l.useEffect)((()=>{var e;t.refetch&&(e=j,M(!0),v.c.getById(e).then((e=>{var l;let n=e.data;const c={...n,img:(i=n.galleries,i.map((e=>({uid:e.id,name:e.path,url:e.path})))),shops:null===(l=n.shops)||void 0===l?void 0:l.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}})),...w(n)};var i;g.setFieldsValue(c),a((0,r.MH)({activeMenu:t,data:c}))})).finally((()=>{a((0,r.CO)(t)),M(!1)})))}),[t.refetch]),(0,b.jsx)(s.default,{title:e("clone.banner"),className:"h-100",extra:(0,b.jsx)(f.c,{}),children:k?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(o.c,{size:"large",className:"py-5"})}):(0,b.jsx)(m.c,{form:g,handleSubmit:(l,n)=>{var i;const s="banners",o={status:"published"},h={url:l.url,shops:null===(i=l.shops)||void 0===i?void 0:i.map((e=>e.value)),images:n.map((e=>e.name)),clickable:l.clickable,title:(0,p.c)(_,l,"title"),description:(0,p.c)(_,l,"description"),button_text:(0,p.c)(_,l,"button_text")};return v.c.create(h).then((()=>{c.m4.success(e("successfully.cloned")),(0,u.wN)((()=>{a((0,r.MF)({...t,nextUrl:s})),a((0,d.S)(o))})),x("/".concat(s))}))}})})}}}]);