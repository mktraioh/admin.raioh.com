"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3376],{88200:(e,t,s)=>{s.d(t,{c:()=>d});s(99584);var l=s(95884),n=s(31508),i=s(87228),r=s(65236),a=s(97884);const d=e=>{let{open:t,handleCancel:s,text:d,click:o,loading:c,subTitle:u}=e;const{t:h}=(0,r.G)();return(0,a.jsxs)(l.default,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,a.jsx)(n.cp,{status:"warning",title:d,subTitle:u}),(0,a.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,a.jsx)(i.c,{type:"primary",className:"mr-2",onClick:o,loading:c,children:h("yes")}),(0,a.jsx)(i.c,{onClick:()=>s(),children:h("no")})]})]})}},3376:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var l=s(99584),n=s(98948),i=s(59424),r=s(46162),a=s(66296),d=s(87228),o=s(68496),c=s(15752),u=s(61072),h=s(46003),x=s(98016),p=s(32712),v=s(18896),m=s(68256),g=s(19576),f=s(65236),j=s(94336),C=s(27680),k=s(30664),w=s(83072),y=s.n(w),b=s(23424),_=s(1428),S=s(53992),z=s(88200),I=s(97884);function M(){const{t:e}=(0,f.G)(),t=(0,p.OY)(),s=(0,b.i6)(),[w,M]=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:l=>(0,I.jsxs)("div",{className:"text-hover",onClick:()=>(l=>{t((0,v.WC)({id:"order_details",url:"order/details/".concat(l),name:e("order.details")})),s("/order/details/".concat(l))})(l.id),children:["#",l.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:l=>(0,I.jsxs)("div",{className:"text-hover",onClick:()=>{return n=l,t((0,v.WC)({url:"/users/user/".concat(n.uuid),id:"user_info",name:e("user.info")})),void s("/users/user/".concat(n.uuid),{state:{user_id:n.id}});var n},children:[null===l||void 0===l?void 0:l.firstname," ",(null===l||void 0===l?void 0:l.lastname)||""]})},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:l=>{var n;return(0,I.jsx)("div",{className:"text-hover",onClick:()=>{return n=l,t((0,v.WC)({id:"edit-shop",url:"shop/".concat(n.uuid),name:e("edit.shop")})),void s("/shop/".concat(n.uuid));var n},children:null===l||void 0===l||null===(n=l.translation)||void 0===n?void 0:n.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,I.jsx)(r.c,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>y()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,I.jsxs)(a.c,{children:[(0,I.jsx)(d.c,{type:"primary",icon:(0,I.jsx)(n.c,{}),onClick:()=>P(t.id)}),(0,I.jsx)(_.c,{icon:(0,I.jsx)(i.c,{}),onClick:()=>{Y([t.id]),N(!0),A(!0)}})]})}]),{setIsModalVisible:N}=(0,l.useContext)(x.e),[T,Y]=(0,l.useState)(null),[G,P]=(0,l.useState)(null),[H,O]=(0,l.useState)(!1),[W,A]=(0,l.useState)(null),[D,V]=(0,l.useState)(null),{activeMenu:E}=(0,p.w1)((e=>e.menu),p.G),{reviews:K,meta:R,loading:q,params:B}=(0,p.w1)((e=>e.orderReview),p.G);console.log("reviews => ",K);(0,l.useEffect)((()=>{E.refetch&&(t((0,C.zt)()),t((0,v.CO)(E)))}),[E.refetch]),(0,m.c)((()=>{const e=E.data,s={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,C.zt)(s))}),[E.data]);const F={id:T,onChange:e=>{Y(e)}};return(0,I.jsxs)(o.default,{title:e("order.reviews"),extra:(0,I.jsxs)(a.c,{wrap:!0,children:[(0,I.jsx)(_.c,{size:"",onClick:()=>{null===T||0===T.length?u.m4.warning(e("select.the.product")):(N(!0),A(!1))},children:e("delete.selected")}),(0,I.jsx)(S.c,{columns:w,setColumns:M})]}),children:[(0,I.jsx)(c.c,{scroll:{x:!0},rowSelection:F,columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:K,pagination:{pageSize:B.perPage,page:B.page,total:R.total,defaultCurrent:B.page},rowKey:e=>e.id,onChange:function(e,s,l){const{pageSize:n,current:i}=e,{field:r,order:a}=l,d=(0,g.c)(a);t((0,v.MH)({activeMenu:E,data:{perPage:n,page:i,column:r,sort:d}}))},loading:q}),(0,I.jsx)(h.c,{click:()=>{O(!0);const s={...Object.assign({},...T.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};j.c.delete(s).then((()=>{u.m4.success(e("successfully.deleted")),t((0,C.zt)()),N(!1)})).finally((()=>O(!1)))},text:e(W?"delete":"all.delete"),setText:Y,loading:H}),G&&(0,I.jsx)(k.c,{id:G,handleCancel:()=>P(null)}),D&&(0,I.jsx)(z.c,{open:D,handleCancel:()=>V(null),click:D.restore?()=>{O(!0),j.c.restoreAll().then((()=>{u.m4.success(e("successfully.restored")),t((0,C.zt)()),V(null)})).finally((()=>O(!1)))}:()=>{O(!0),j.c.dropAll().then((()=>{u.m4.success(e("successfully.deleted")),t((0,C.zt)()),V(null)})).finally((()=>O(!1)))},text:D.restore?e("restore.modal.text"):e("read.carefully"),subTitle:D.restore?"":e("confirm.deletion"),loading:H,setText:Y})]})}}}]);