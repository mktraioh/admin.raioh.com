"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[106],{53992:(e,l,a)=>{a.d(l,{c:()=>v});var n=a(99584),t=a(49308),s=a(92200),i=a(66296),o=a(26012),d=a(72192),c=a(35928),r=a(87228),u=a(55512),h=a(65236),m=a(97884);const{Text:p}=t.default,v=e=>{let{columns:l=[],setColumns:a,style:t,size:v="",iconOnly:x}=e;const{t:j}=(0,h.G)(),[g,f]=(0,n.useState)(!1),b=(0,m.jsx)(s.c,{children:null===l||void 0===l?void 0:l.map(((e,n)=>(0,m.jsx)(s.c.Item,{children:(0,m.jsxs)(i.c,{className:"d-flex justify-content-between",children:[(0,m.jsx)(p,{children:e.title}),(0,m.jsx)(o.c,{defaultChecked:!0,onClick:()=>function(e){const n=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));a(n)}(e),disabled:1===n})]})},e+n)))});return(0,m.jsx)(d.c,{overlay:b,trigger:["click"],onVisibleChange:e=>{f(e)},visible:g,children:(0,m.jsx)(c.c,{title:j("change.columns"),children:(0,m.jsx)(r.c,{style:{...t},size:v,icon:(0,m.jsx)(u.c,{}),children:x?null:j("Columns")})})})}},19576:(e,l,a)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(l,{c:()=>n})},24968:(e,l,a)=>{function n(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}a.d(l,{c:()=>n})},50106:(e,l,a)=>{a.r(l),a.d(l,{default:()=>S});var n=a(99584),t=a(98948),s=a(84616),i=a(66296),o=a(87228),d=a(68496),c=a(15752),r=a(32712),u=a(2272),h=a(19576),m=a(18896),p=a(68256),v=a(95884),x=a(68768),j=a(10260),g=a(37564),f=a(87968),b=a(77632),I=a(65236),w=a(77180),y=a(24968),C=a(30620),_=a(97884);function z(e){var l,a,t;let{uuid:s,handleCancel:i}=e;const[d,c]=(0,n.useState)({}),[u,h]=(0,n.useState)(!1),{t:m}=(0,I.G)(),{defaultCurrency:p}=(0,r.w1)((e=>e.currency),r.G);return(0,n.useEffect)((()=>{!function(e){h(!0),b.c.getById(e).then((e=>c(e.data))).finally((()=>h(!1)))}(s)}),[s]),(0,_.jsx)(v.default,{visible:!!s,title:m("user"),onCancel:i,footer:[(0,_.jsx)(o.c,{type:"default",onClick:i,children:m("cancel")})],className:d.shop?"large-modal":"",children:u?(0,_.jsx)(w.c,{}):(0,_.jsxs)(x.c,{gutter:24,children:[(0,_.jsx)(j.c,{span:d.shop?12:24,children:(0,_.jsxs)(g.c,{bordered:!0,children:[(0,_.jsx)(g.c.Item,{span:3,label:m("avatar"),children:(0,_.jsx)(f.c,{src:(0,C.c)(d.img),alt:d.firstname,width:80,className:"rounded"})}),(0,_.jsx)(g.c.Item,{span:3,label:m("user.id"),children:d.id}),(0,_.jsxs)(g.c.Item,{span:3,label:m("name"),children:[d.firstname," ",d.lastname||""]}),(0,_.jsx)(g.c.Item,{span:3,label:m("gender"),children:d.gender}),(0,_.jsx)(g.c.Item,{span:3,label:m("birthday"),children:d.birthday}),(0,_.jsx)(g.c.Item,{span:3,label:m("email"),children:d.email}),(0,_.jsx)(g.c.Item,{span:3,label:m("phone"),children:d.phone}),(0,_.jsx)(g.c.Item,{span:3,label:m("role"),children:d.role}),(0,_.jsx)(g.c.Item,{span:3,label:m("wallet"),children:(0,y.c)(null===(l=d.wallet)||void 0===l?void 0:l.price,null===p||void 0===p?void 0:p.symbol)})]})}),d.shop?(0,_.jsx)(j.c,{span:12,children:(0,_.jsxs)(g.c,{bordered:!0,children:[(0,_.jsx)(g.c.Item,{span:3,label:m("shop.id"),children:d.shop.id}),(0,_.jsx)(g.c.Item,{span:3,label:m("shop.name"),children:null===(a=d.shop.translation)||void 0===a?void 0:a.title}),(0,_.jsx)(g.c.Item,{span:3,label:m("shop.logo"),children:(0,_.jsx)("img",{src:(0,C.c)(d.shop.logo_img),alt:null===(t=d.shop.translation)||void 0===t?void 0:t.title,width:100,className:"rounded"})}),(0,_.jsx)(g.c.Item,{span:3,label:m("shop.phone"),children:d.shop.phone}),(0,_.jsxs)(g.c.Item,{span:3,label:m("shop.open_close.time"),children:[d.shop.open_time," - ",d.shop.close_time]}),(0,_.jsx)(g.c.Item,{span:3,label:m("delivery.range"),children:d.shop.delivery_range})]})}):""]})})}var H=a(53992);const{TabPane:V}=s.default,k=["moderator","cook","waiter","deliveryman","user"];function S(){var e;const{t:l}=(0,I.G)(),a=(0,r.OY)(),{activeMenu:v}=(0,r.w1)((e=>e.menu),r.G),{users:x,loading:j,meta:g,params:f}=(0,r.w1)((e=>e.user),r.G),[b,w]=(0,n.useState)(null),[y,C]=(0,n.useState)([{title:l("id"),dataIndex:"id",sorter:!0,is_show:!0},{title:l("firstname"),dataIndex:"firstname",is_show:!0},{title:l("lastname"),dataIndex:"lastname",is_show:!0},{title:l("email"),dataIndex:"email",is_show:!0},{title:l("role"),dataIndex:"role",is_show:!0},{title:l("options"),dataIndex:"options",is_show:!0,render:(e,l)=>(0,_.jsx)(i.c,{children:(0,_.jsx)(o.c,{icon:(0,_.jsx)(t.c,{}),onClick:()=>w(l.uuid)})})}]);(0,n.useEffect)((()=>{if(v.refetch){const e=v.data,l={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:(null===e||void 0===e?void 0:e.role)||"moderator",perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};a((0,u.Qj)(l)),a((0,m.CO)(v))}}),[v.refetch]),(0,p.c)((()=>{const e=v.data,l={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:null===e||void 0===e?void 0:e.role,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};a((0,u.Qj)(l))}),[v.data]);return(0,_.jsxs)(d.default,{title:l("shop.users"),extra:(0,_.jsx)(H.c,{columns:y,setColumns:C}),children:[(0,_.jsx)(s.default,{activeKey:(null===(e=v.data)||void 0===e?void 0:e.role)||"moderator",onChange:e=>{a((0,m.MH)({activeMenu:v,data:{...v.data,role:e}}))},type:"card",children:k.map((e=>(0,_.jsx)(V,{tab:l(e)},e)))}),(0,_.jsx)(c.c,{scroll:{x:!0},columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:x,loading:j,pagination:{pageSize:f.perPage,page:f.page,total:g.total,defaultCurrent:f.page},rowKey:e=>e.id,onChange:function(e,l,n){const{pageSize:t,current:s}=e,{field:i,order:o}=n,d=(0,h.c)(o);a((0,m.MH)({activeMenu:v,data:{...v.data,perPage:t,page:s,column:i,sort:d}}))}}),b&&(0,_.jsx)(z,{uuid:b,handleCancel:()=>w(null)})]})}},55512:(e,l,a)=>{a.d(l,{c:()=>d});var n=a(30800),t=a(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=a(47164),o=function(e,l){return t.createElement(i.c,(0,n.c)((0,n.c)({},e),{},{ref:l,icon:s}))};o.displayName="TableOutlined";const d=t.forwardRef(o)}}]);