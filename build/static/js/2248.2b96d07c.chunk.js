"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2248],{42248:(l,e,n)=>{n.r(e),n.d(e,{default:()=>S});var i=n(99584),t=n(32712),a=n(18896),d=n(23424),o=n(65236),c=n(61072),s=n(49308),r=n(68496),u=n(37564),v=n(68768),m=n(10260),h=n(35480),x=n(66296),p=n(87228),j=n(37728),b=n(52640),g=n(44512),y=n(68660),I=n(65732),f=n(95884),q=n(46712),k=n(97884);function C(l){let{data:e,handleCancel:n,handleOk:t,visible:a}=l;const{t:d}=(0,o.G)(),[c]=I.c.useForm(),[s,r]=(0,i.useState)(!1);return(0,k.jsx)(f.default,{title:d(e.title),visible:a,onCancel:n,footer:[(0,k.jsx)(p.c,{type:"primary",onClick:()=>c.submit(),loading:s,children:d("save")}),(0,k.jsx)(p.c,{type:"default",onClick:n,children:d("cancel")})],children:(0,k.jsx)(I.c,{layout:"vertical",onFinish:l=>{r(!0);const e={...l,status:"canceled"};t(e)},form:c,children:(0,k.jsx)(I.c.Item,{children:(0,k.jsx)(v.c,{className:"mt-4",children:(0,k.jsx)(m.c,{span:24,children:(0,k.jsx)(I.c.Item,{name:"status_note",label:d("note"),rules:[{validator:(l,e)=>e?e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error(d("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<2?Promise.reject(new Error(d("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(d("required")))}],children:(0,k.jsx)(q.default.TextArea,{maxLength:250,showCount:!0})})})})})})})}const{Text:w}=s.default,N={type:"product"},S=()=>{var l,e,n,s,I,f,q,S,_,E,F,O,P,G,L,M,T,z,A,B;const Q=(0,t.OY)(),U=(0,d.i6)(),{t:W}=(0,o.G)(),{id:Y}=(0,d.W4)(),{activeMenu:D}=(0,t.w1)((l=>l.menu)),{defaultLang:H}=(0,t.w1)((l=>l.formLang),t.G),[J,K]=(0,i.useState)(!1),[R,V]=(0,i.useState)(!1),[X,Z]=(0,i.useState)({}),[$,ll]=(0,i.useState)({}),[el,nl]=(0,i.useState)(""),[il,tl]=(0,i.useState)(!1);function al(l){V(!0);const e="catalog/products";y.c.changeStatus(Y,l).then((()=>{U("/".concat(e),{state:{tab:"request"}}),Q((0,a.MF)({...D,nextUrl:e})),c.m4.success(W("successfully.changed")),Q((0,g.eQ)(N))})).finally((()=>{tl(!1),V(!1)}))}(0,i.useEffect)((()=>{var l;l=Y,K(!0),y.c.getById(l).then((l=>{var e;Z(l.data.data),ll(l.data.model),nl(null===(e=l.data)||void 0===e?void 0:e.status_note)})).finally((()=>{K(!1),Q((0,a.CO)(D))}))}),[Y]);const dl=X,ol=$;return J?(0,k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,k.jsx)(j.c,{size:"large",className:"py-5"})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(r.default,{children:[(0,k.jsxs)(u.c,{bordered:!0,title:W("changed.info"),children:[(0,k.jsx)(u.c.Item,{label:"".concat(W("title")," (").concat(H,")"),span:3,children:(0,k.jsx)(w,{type:(null===dl||void 0===dl?void 0:dl["title[".concat(H,"]")])!==(null===ol||void 0===ol||null===(l=ol.translation)||void 0===l?void 0:l.title)?"danger":void 0,children:null===dl||void 0===dl?void 0:dl["title[".concat(H,"]")]})}),(0,k.jsx)(u.c.Item,{label:"".concat(W("description")," (").concat(H,")"),span:3,children:(0,k.jsx)(w,{type:dl["description[".concat(H,"]")]!==(null===ol||void 0===ol||null===(e=ol.translation)||void 0===e?void 0:e.description)?"danger":void 0,children:dl["description[".concat(H,"]")]})}),(0,k.jsx)(u.c.Item,{label:W("shop"),span:1.5,children:(0,k.jsx)(w,{type:(null===dl||void 0===dl||null===(n=dl.shop)||void 0===n?void 0:n.translation.title)!==(null===ol||void 0===ol||null===(s=ol.shop)||void 0===s?void 0:s.translation.title)?"danger":void 0,children:null===dl||void 0===dl||null===(I=dl.shop)||void 0===I?void 0:I.translation.title})}),(0,k.jsx)(u.c.Item,{label:W("category"),span:1.5,children:(0,k.jsx)(w,{type:(null===dl||void 0===dl||null===(f=dl.category)||void 0===f?void 0:f.label)!==(null===ol||void 0===ol||null===(q=ol.category)||void 0===q?void 0:q.translation.title)?"danger":void 0,children:null===dl||void 0===dl||null===(S=dl.category)||void 0===S?void 0:S.label})}),(0,k.jsx)(u.c.Item,{label:W("brand"),span:1.5,children:null===dl||void 0===dl||null===(_=dl.brand)||void 0===_?void 0:_.label}),(0,k.jsx)(u.c.Item,{label:W("unit"),span:1.5,children:null===dl||void 0===dl||null===(E=dl.unit)||void 0===E?void 0:E.label}),(0,k.jsx)(u.c.Item,{label:W("images"),span:3,children:(0,k.jsx)(v.c,{gutter:12,children:null===dl||void 0===dl||null===(F=dl.images)||void 0===F?void 0:F.map(((l,e)=>(0,k.jsx)(m.c,{children:(0,k.jsx)("img",{width:80,alt:"product",src:l.url})},"image"+e)))})}),(0,k.jsx)(u.c.Item,{label:W("tax"),children:null===dl||void 0===dl?void 0:dl.tax}),(0,k.jsx)(u.c.Item,{label:W("min.quantity"),children:null===dl||void 0===dl?void 0:dl.min_qty}),(0,k.jsx)(u.c.Item,{label:W("max.quantity"),children:null===dl||void 0===dl?void 0:dl.max_qty})]}),null===dl||void 0===dl||null===(O=dl.stocks)||void 0===O?void 0:O.map(((l,e)=>{var n;return l?(0,k.jsxs)(u.c,{bordered:!0,className:"mt-4",children:[(0,k.jsx)(u.c.Item,{label:W("price"),span:2,children:l.price}),(0,k.jsx)(u.c.Item,{label:W("quantity"),span:2,children:l.quantity}),null===l||void 0===l||null===(n=l.ids)||void 0===n?void 0:n.map(((l,e)=>(0,k.jsx)(u.c.Item,{label:null===dl||void 0===dl?void 0:dl.extras[e].label,children:null===l||void 0===l?void 0:l.label},"extra"+e)))]},"desc"+e):""})),(0,k.jsxs)(u.c,{bordered:!0,className:"mt-4",title:W("original.info"),children:[(0,k.jsx)(u.c.Item,{label:"".concat(W("title")," (").concat(H,")"),span:3,column:3,children:null===ol||void 0===ol||null===(P=ol.translation)||void 0===P?void 0:P.title}),(0,k.jsx)(u.c.Item,{label:"".concat(W("description")," (").concat(H,")"),span:3,column:3,children:null===ol||void 0===ol||null===(G=ol.translation)||void 0===G?void 0:G.description}),(0,k.jsx)(u.c.Item,{label:W("shop"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(L=ol.shop)||void 0===L?void 0:L.translation.title}),(0,k.jsx)(u.c.Item,{label:W("category"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(M=ol.category)||void 0===M?void 0:M.translation.title}),(0,k.jsx)(u.c.Item,{label:W("brand"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(T=ol.brand)||void 0===T?void 0:T.title}),(0,k.jsx)(u.c.Item,{label:W("unit"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(z=ol.unit)||void 0===z?void 0:z.translation.title}),(0,k.jsx)(u.c.Item,{label:W("images"),span:3,column:3,children:(0,k.jsx)(v.c,{gutter:12,children:null===ol||void 0===ol||null===(A=ol.galleries)||void 0===A?void 0:A.map(((l,e)=>(0,k.jsx)(m.c,{children:(0,k.jsx)("img",{width:80,alt:"product",src:b.cd+l.path})},"image"+e)))})}),(0,k.jsx)(u.c.Item,{span:3,column:3,label:W("tax"),children:null===ol||void 0===ol?void 0:ol.tax}),(0,k.jsx)(u.c.Item,{span:3,column:3,label:W("min.quantity"),children:null===ol||void 0===ol?void 0:ol.min_qty}),(0,k.jsx)(u.c.Item,{span:3,column:3,label:W("max.quantity"),children:null===ol||void 0===ol?void 0:ol.max_qty})]}),null===ol||void 0===ol||null===(B=ol.stocks)||void 0===B?void 0:B.map(((l,e)=>{var n;return l?(0,k.jsxs)(u.c,{bordered:!0,className:"mt-4",children:[(0,k.jsx)(u.c.Item,{label:W("price"),span:2,column:2,children:null===l||void 0===l?void 0:l.price}),(0,k.jsx)(u.c.Item,{label:W("quantity"),span:2,column:2,children:null===l||void 0===l?void 0:l.quantity}),null===l||void 0===l||null===(n=l.extras)||void 0===n?void 0:n.map(((l,e)=>{var n,i;return(0,k.jsx)(u.c.Item,{label:null===l||void 0===l||null===(n=l.group)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title,span:2,column:2,children:null===l||void 0===l?void 0:l.value},"extra"+e)}))]},"desc"+e):""})),el&&(0,k.jsx)(h.c,{className:"mt-4",message:W("status.note"),description:el,type:"error"}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,k.jsxs)(x.c,{children:[(0,k.jsx)(p.c,{type:"primary",onClick:()=>{al({status:"approved"})},children:W("accept")}),(0,k.jsx)(p.c,{type:"primary",danger:!0,onClick:()=>{tl(!0)},children:W("decline")})]})})]}),(0,k.jsx)(C,{data:{title:"decline"},visible:il,handleCancel:()=>tl(!1),handleOk:al,laoding:R})]})}}}]);