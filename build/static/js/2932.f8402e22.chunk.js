"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2932],{64408:(e,t,d)=>{function l(e){var t,d;let l=null===e||void 0===e?void 0:e.slice(0,1),i=null===e||void 0===e?void 0:e.lastIndexOf("@"),o=null===e||void 0===e?void 0:e.slice(1,i-1);o=null===(t=o)||void 0===t?void 0:t.replace(/./g,"*");let a=null===e||void 0===e?void 0:e.slice(i-1,e.length);return null===l||void 0===l||null===(d=l.concat(o))||void 0===d?void 0:d.concat(a)}d.d(t,{c:()=>l})},19576:(e,t,d)=>{function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}d.d(t,{c:()=>l})},24968:(e,t,d)=>{function l(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}d.d(t,{c:()=>l})},32932:(e,t,d)=>{d.r(t),d.d(t,{default:()=>R});var l=d(66296),i=d(98044),o=d(49308),a=d(15752),n=d(37728),r=d(63880),c=d(87228),s=d(68768),u=d(10260),v=d(68496),p=d(87968),h=d(37564),x=d(94604),m=d(83072),g=d.n(m),y=d(99584),j=d(65236),b=d(32712),f=d(23424),k=d(24968),I=d(18896),_=d(42080),w=d(71836),C=d(58896),S=d(19576),Y=d(75088),M=d(68256),G=d(77020),P=d(97884);const D=e=>{let{id:t}=e;const{t:d}=(0,j.G)(),o=(0,b.OY)(),n=(0,f.i6)(),[r,c]=(0,y.useState)([]),[s,u]=(0,y.useState)(!1),{defaultCurrency:h}=(0,b.w1)((e=>e.currency),b.G),x=e=>{u(!0),G.c.getUserTopProducts(t,e).then((e=>c(e.data))).finally((()=>u(!1)))};return(0,y.useEffect)((()=>{x()}),[]),(0,P.jsx)(v.default,{title:d("top.products"),children:(0,P.jsx)(a.c,{loading:s,dataSource:null===r||void 0===r?void 0:r.data,pagination:{total:null===r||void 0===r?void 0:r.total,current:null===r||void 0===r?void 0:r.current_page,pageSize:null===r||void 0===r?void 0:r.per_page},columns:[{title:d("product"),dataIndex:"stock",key:"stock",render:e=>{var t,i,a;return(0,P.jsxs)(l.c,{children:[(0,P.jsx)(p.c,{width:100,src:null===e||void 0===e||null===(t=e.countable)||void 0===t?void 0:t.img,placeholder:!0,style:{borderRadius:4}}),(0,P.jsx)("div",{onClick:()=>(e=>{o((0,I.WC)({id:"product-edit",url:"product/".concat(e.uuid),name:d("edit.product")})),n("/product/".concat(e.uuid))})(null===e||void 0===e?void 0:e.countable),className:"text-hover",children:null===e||void 0===e||null===(i=e.countable)||void 0===i||null===(a=i.translation)||void 0===a?void 0:a.title})]})}},{title:d("count"),dataIndex:"count",key:"count"},{title:d("total.price"),dataIndex:"total_price",key:"total_price",render:e=>(0,k.c)(e,null===h||void 0===h?void 0:h.symbol)},{title:d("status"),dataIndex:"status",key:"status",render:(e,t)=>{var l,o;return(0,P.jsx)(i.c,{children:null!==(l=t.stock)&&void 0!==l&&null!==(o=l.countable)&&void 0!==o&&o.active?d("active"):d("inactive")})}}],onChange:e=>x({page:null===e||void 0===e?void 0:e.current,perPage:null===e||void 0===e?void 0:e.pageSize})})})};var N=d(2664),z=d(91840);const W=e=>{var t,d,l;let{id:o}=e;const{t:n}=(0,j.G)(),[r,c]=(0,y.useState)({}),[s,u]=(0,y.useState)(!1),{defaultCurrency:p}=(0,b.w1)((e=>e.currency),b.G),h=e=>{u(!0),z.c.getAll({user_uuid:o,...e}).then((e=>{c(e)})).finally((()=>{u(!1)}))};return(0,y.useEffect)((()=>{h()}),[]),(0,P.jsx)(v.default,{title:n("order.refunds"),extra:(0,P.jsx)(N.default,{options:[{label:n("pending"),value:"pending"},{label:n("accepted"),value:"accepted"},{label:n("canceled"),value:"canceled"}],onChange:e=>h({status:e}),placeholder:n("status"),allowClear:!0}),children:(0,P.jsx)(a.c,{loading:s,dataSource:null===r||void 0===r?void 0:r.data,pagination:{total:null===r||void 0===r||null===(t=r.meta)||void 0===t?void 0:t.total,current:null===r||void 0===r||null===(d=r.meta)||void 0===d?void 0:d.current_page,pageSize:null===r||void 0===r||null===(l=r.meta)||void 0===l?void 0:l.per_page},columns:[{title:n("cause"),dataIndex:"cause",key:"cause"},{title:n("answer"),dataIndex:"answer",key:"answer"},{title:n("total.price"),dataIndex:"total_price",key:"total_price",render:(e,t)=>{var d;return(0,k.c)(null===(d=t.order)||void 0===d?void 0:d.total_price,null===p||void 0===p?void 0:p.symbol)}},{title:n("status"),dataIndex:"status",key:"status",render:e=>(0,P.jsx)(i.c,{children:e})},{title:n("created.date.&.time"),dataIndex:"created_at",key:"created_at"}],onChange:e=>h({page:e.current,perPage:e.pageSize})})})};var E=d(64408);const R=()=>{var e;const{id:t}=(0,f.W4)(),d=(0,f.i6)(),[m,G]=(0,y.useState)({}),N=(0,b.OY)(),[z,R]=(0,y.useState)(!1),{t:q}=(0,j.G)(),{activeMenu:F}=(0,b.w1)((e=>e.menu),b.G),{defaultCurrency:H}=(0,b.w1)((e=>e.currency),b.G),{orders:O,meta:A,loading:K,params:T,statistic:Z}=(0,b.w1)((e=>e.orders),b.G),{isDemo:$,demoDeliveryman:B,demoSeller:U,demoAdmin:J,demoModerator:L,demoMeneger:Q}=(0,Y.c)();const V=e=>{N((0,I.WC)({id:"product-edit",url:"product/".concat(e),name:q("edit.product")})),d("/product/".concat(e))};return(0,y.useEffect)((()=>{var e;e=t,R(!0),_.c.getById(e).then((e=>G(e.data))).finally((()=>R(!1)))}),[t]),(0,y.useEffect)((()=>{const e={user_id:t,page:1,perPage:10};N((0,C.ob)(e))}),[]),(0,M.c)((()=>{var e,d;const l={user_id:t,page:(null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.page)||1,perPage:(null===F||void 0===F||null===(d=F.data)||void 0===d?void 0:d.perPage)||10};N((0,C.ob)(l))}),[F.data]),z?(0,P.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,P.jsx)(n.c,{})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.c,{title:q("user.info"),extra:(0,P.jsx)(c.c,{type:"primary",disabled:$&&(null===m||void 0===m?void 0:m.id)==B||$&&(null===m||void 0===m?void 0:m.id)==L||$&&(null===m||void 0===m?void 0:m.id)==Q||$&&(null===m||void 0===m?void 0:m.id)==U||$&&(null===m||void 0===m?void 0:m.id)===J,onClick:()=>{N((0,I.WC)({url:"user/".concat(t),id:"user_edit",name:q("edit.user")})),d("/user/".concat(t),{state:"user"})},children:q("edit")})}),(0,P.jsxs)(s.c,{gutter:24,children:[(0,P.jsx)(u.c,{span:16,children:(0,P.jsxs)(v.default,{title:"".concat(null===m||void 0===m?void 0:m.firstname," ").concat((null===m||void 0===m?void 0:m.lastname)||""," #").concat(null===m||void 0===m?void 0:m.id),children:[(0,P.jsx)(p.c,{src:(0,w.c)(null===m||void 0===m?void 0:m.img),alt:null===m||void 0===m?void 0:m.firstname,width:100,height:100,style:{borderRadius:"10px",objectFit:"cover"}}),(0,P.jsxs)(h.c,{column:2,children:[(0,P.jsx)(h.c.Item,{label:q("registration.date"),children:g()(null===m||void 0===m?void 0:m.registered_at).format("YYYY-MM-DD HH:mm")}),(0,P.jsx)(h.c.Item,{label:q("status"),children:(0,P.jsx)(i.c,{color:null!==m&&void 0!==m&&m.active?"cyan":"red",children:null!==m&&void 0!==m&&m.active?q("active"):q("inactive")})}),(0,P.jsx)(h.c.Item,{label:q("birthday"),children:g()(null===m||void 0===m?void 0:m.birthday).format("YYYY-MM-DD")}),(0,P.jsx)(h.c.Item,{label:q("email"),children:$?(0,E.c)(null===m||void 0===m?void 0:m.email):null===m||void 0===m?void 0:m.email}),(0,P.jsx)(h.c.Item,{label:q("gender"),children:null===m||void 0===m?void 0:m.gender}),(0,P.jsx)(h.c.Item,{label:q("role"),children:null===m||void 0===m?void 0:m.role}),(0,P.jsx)(h.c.Item,{label:q("wallet"),children:(0,k.c)(null===m||void 0===m||null===(e=m.wallet)||void 0===e?void 0:e.price,null===H||void 0===H?void 0:H.symbol)}),(0,P.jsx)(h.c.Item,{label:q("phone"),children:null===m||void 0===m?void 0:m.phone})]})]})}),(0,P.jsxs)(u.c,{span:8,children:[(0,P.jsx)(v.default,{title:q("successfull.orders"),children:(0,P.jsxs)(h.c,{column:1,children:[(0,P.jsx)(h.c.Item,{label:q("delivered.orders.count"),children:(0,P.jsx)(x.c,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===Z||void 0===Z?void 0:Z.delivered_orders_count)||0})}),(0,P.jsx)(h.c.Item,{label:q("spent.since.registration"),children:(0,P.jsx)(x.c,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,k.c)(null===Z||void 0===Z?void 0:Z.total_delivered_price,null===H||void 0===H?void 0:H.symbol)||0})})]})}),(null===m||void 0===m?void 0:m.shop)&&(0,P.jsx)(v.default,{title:"".concat(q("shop.info")," #").concat(null===m||void 0===m?void 0:m.shop.id),children:(0,P.jsxs)(h.c,{column:2,children:[(0,P.jsx)(h.c.Item,{label:q("name"),children:null===m||void 0===m?void 0:m.shop.translation.title}),(0,P.jsx)(h.c.Item,{label:q("phone"),children:null===m||void 0===m?void 0:m.shop.phone}),(0,P.jsx)(h.c.Item,{label:q("shop.type"),children:null===m||void 0===m?void 0:m.shop.type})]})})]}),(0,P.jsxs)(u.c,{span:24,children:[(0,P.jsx)(v.default,{title:q("orders"),children:(0,P.jsx)(a.c,{expandable:{expandedRowRender:e=>{const t=[{title:q("product"),dataIndex:"product",render:(e,t)=>{var d,o,a,n;return(0,P.jsx)("div",{className:"text-hover",onClick:()=>{var e,d;return V(null===(e=t.stock)||void 0===e||null===(d=e.product)||void 0===d?void 0:d.uuid)},children:(0,P.jsxs)(l.c,{wrap:!0,children:[null===(d=t.stock)||void 0===d||null===(o=d.product)||void 0===o||null===(a=o.translation)||void 0===a?void 0:a.title,null===(n=t.addons)||void 0===n?void 0:n.map((e=>{var t,d,l;return(0,P.jsxs)(i.c,{children:[null===e||void 0===e||null===(t=e.stock)||void 0===t||null===(d=t.product)||void 0===d||null===(l=d.translation)||void 0===l?void 0:l.title," x ",e.quantity]},e.id)}))]})})},key:"product"},{title:q("quantity"),dataIndex:"quantity",key:"quantity"},{title:q("total.price"),dataIndex:"total_price",render:e=>(0,k.c)(e,null===H||void 0===H?void 0:H.symbol),key:"total_price"},{title:q("discount"),dataIndex:"discount",key:"discount"}];return(0,P.jsxs)(l.c,{direction:"vertical",className:"w-100",children:[(0,P.jsx)(o.default.Text,{children:q("ordered.products")}),(0,P.jsx)(a.c,{scroll:{x:!0},columns:t,dataSource:e.details,pagination:!1})]})},defaultExpandedRowKeys:["0"]},dataSource:O,columns:[{title:"ID",dataIndex:"id",key:"id",render:e=>(0,P.jsxs)("div",{onClick:()=>(e=>{N((0,I.WC)({url:"/order/details/".concat(e),id:"order.details",name:q("order.details")})),d("/order/details/".concat(e))})(e),className:"text-hover",children:["#",e]})},{title:q("shop"),dataIndex:"shop",key:"shop",render:e=>{var t;return(0,P.jsx)("div",{className:"text-hover",onClick:()=>{return t=e.uuid,N((0,I.WC)({url:"/shop/".concat(t),id:"edit.shop",name:q("edit.shop")})),void d("/shop/".concat(t));var t},children:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title})}},{title:q("number.of.products"),dataIndex:"order_details_count",key:"order_details_count",render:e=>"".concat(e||0," ").concat(q(e&&e<2?"products":"product"))},{title:q("total.price"),dataIndex:"total_price",key:"total_price",render:e=>(0,k.c)(e,null===H||void 0===H?void 0:H.symbol)},{title:q("delivery.date.&.time"),dataIndex:"delivery_date",key:"delivery_date",render:(e,t)=>"".concat(t.delivery_date," ").concat((null===t||void 0===t?void 0:t.delivery_time)||"")},{title:q("status"),dataIndex:"status",key:"status",render:e=>(0,P.jsx)(i.c,{children:e})},{title:q("delivery.address"),dataIndex:"address",key:"address",render:e=>null===e||void 0===e?void 0:e.address}],loading:K,pagination:{pageSize:T.perPage,page:T.page,total:A.last_page*A.per_page,defaultCurrent:T.page},rowKey:e=>e.id,onChange:function(e,t,d){const{pageSize:l,current:i}=e,{field:o,order:a}=d,n=(0,S.c)(a);N((0,I.MH)({activeMenu:F,data:{...F.data,perPage:l,page:i,column:o,sort:n}}))}})}),(0,P.jsx)(W,{id:t}),(0,P.jsx)(D,{id:t})]})]})]})}}}]);