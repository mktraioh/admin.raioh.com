"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1620],{4400:(e,t,o)=>{o.d(t,{c:()=>h});var l=o(99584),a=o(68496),r=o(11672),i=o(36228),n=o(98980),s=o(97884);const c={position:"absolute",zIndex:"1"},d={position:"absolute",zIndex:"1",right:"0",top:"-2px"},u=e=>{let{title:t,series:o,width:u,height:h,xAxis:v,customOptions:p,card:x,type:f,extra:m,direction:g,bodyClass:y}=e,j=JSON.parse(JSON.stringify((e=>{switch(e){case"line":default:return n.YQ;case"bar":return n.YA;case"area":return n.Ur;case"pie":return n.cX}})(f)));const b=window.innerWidth<768,w=()=>{if(C.current){var e;const t=C.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight="".concat(b?0:null===(e=_.current)||void 0===e?void 0:e.offsetWidth,"px"),"rtl"===g&&(t.style.right="auto",t.style.left="0"),b&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,l.useEffect)((()=>{w()}),[]);const _=(0,l.useRef)(null),C=(0,l.useRef)();j.xaxis={categories:v},p&&(j={...j,...p});const z=()=>(0,s.jsx)(i.cp,{onResize:void setTimeout((()=>{w()}),600),children:(0,s.jsx)("div",{style:"rtl"===g?{direction:"ltr"}:{},className:"chartRef",ref:C,children:(0,s.jsx)(r.c,{options:j,type:f,series:o,width:u,height:h})})});return(0,s.jsx)(s.Fragment,{children:x?(0,s.jsx)(a.default,{children:(0,s.jsxs)("div",{className:"position-relative ".concat(y),children:[(0,s.jsx)("div",{style:b?{}:c,children:t})&&(0,s.jsx)("h4",{className:"font-weight-bold",style:b?{}:c,children:t}),m&&(0,s.jsx)("div",{ref:_,style:b?{}:d,children:m}),z()]})}):z()})};u.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};const h=u},53992:(e,t,o)=>{o.d(t,{c:()=>x});var l=o(99584),a=o(49308),r=o(92200),i=o(66296),n=o(26012),s=o(72192),c=o(35928),d=o(87228),u=o(55512),h=o(65236),v=o(97884);const{Text:p}=a.default,x=e=>{let{columns:t=[],setColumns:o,style:a,size:x="",iconOnly:f}=e;const{t:m}=(0,h.G)(),[g,y]=(0,l.useState)(!1),j=(0,v.jsx)(r.c,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,v.jsx)(r.c.Item,{children:(0,v.jsxs)(i.c,{className:"d-flex justify-content-between",children:[(0,v.jsx)(p,{children:e.title}),(0,v.jsx)(n.c,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));o(l)}(e),disabled:1===l})]})},e+l)))});return(0,v.jsx)(s.c,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:g,children:(0,v.jsx)(c.c,{title:m("change.columns"),children:(0,v.jsx)(d.c,{style:{...a},size:x,icon:(0,v.jsx)(u.c,{}),children:f?null:m("Columns")})})})}},53680:(e,t,o)=>{o.d(t,{c:()=>y});var l=o(49308),a=o(68768),r=o(10260),i=o(68496),n=o(66296),s=o(2664),c=o(50452),d=o(99584),u=o(58048),h=o(44672),v=o(4400),p=o(98980),x=o(65236),f=o(9147),m=o(97884);const{Title:g}=l.default,y=e=>{let{reportData:t={}}=e;const{by_time:o,options:l,handleByTime:y,chart_type:j,setChartType:b}=(0,d.useContext)(f.a),{t:w}=(0,x.G)(),_=(0,d.useMemo)((()=>{var e;return null===t||void 0===t||null===(e=t.chart)||void 0===e?void 0:e.map((e=>e.time))}),[null===t||void 0===t?void 0:t.chart]),C=(0,d.useMemo)((()=>{var e;return Boolean(t.charts)?t.charts.map((e=>{var t;return{name:e.translation.title,data:(null===(t=e.stocks)||void 0===t?void 0:t.map((e=>e.total_order_quantity||e.avg_quantity||e.quantity||e.count||e.price||e.order_details_sum_quantity||0)))||[]}})):[{name:w("orders"),data:(null===t||void 0===t||null===(e=t.chart)||void 0===e?void 0:e.map((e=>parseInt(e.count||e.total_price||e.quantity||e.price||e.products_count||e.order_details_avg_quantity||e.order_details_avg_total_price||e.order_details_sum_quantity||e.avg_price||e.avg_quantity||0,10))))||[]}]}),[null===t||void 0===t?void 0:t.chart]);return(0,m.jsx)(a.c,{gutter:24,children:(0,m.jsx)(r.c,{span:24,children:(0,m.jsxs)(i.default,{children:[(0,m.jsx)(a.c,{gutter:24,className:"w-100",children:(0,m.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,m.jsx)(n.c,{size:"large",className:"d-flex",children:(0,m.jsx)(g,{level:3,className:"mb-0",children:w("item.sold")})}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)(s.default,{style:{width:100},onChange:y,options:l,defaultValue:o}),(0,m.jsx)(c.c,{type:"vertical",style:{height:"100%"}}),(0,m.jsxs)(n.c,{children:[(0,m.jsx)(u.c,{style:{fontSize:"22px",cursor:"pointer",color:"area"===j?"green":""},onClick:()=>b("area")}),(0,m.jsx)(h.c,{style:{fontSize:"22px",cursor:"pointer",color:"bar"===j?"green":""},onClick:()=>b("bar")})]})]})]})}),(0,m.jsx)(c.c,{}),(0,m.jsx)(v.c,{type:j||"area",card:!1,series:C,xAxis:_,height:280,customOptions:{colors:[p.yY[1],p.yY[2],p.yY[3],p.yY[4],p.yY[5],p.yY[6],p.yY[0]],legend:{show:!1},stroke:{width:2.5,curve:"smooth"}}})]})})})}},40748:(e,t,o)=>{o.d(t,{c:()=>s});var l=o(99584),a=o(46712),r=o(78816),i=o(6724),n=o(97884);function s(e){let{handleChange:t,defaultValue:o,resetSearch:s,...c}=e;const[d,u]=(0,l.useState)(o),h=(0,l.useMemo)((()=>(0,r.debounce)((e=>{t(e)}),800)),[t]);return(0,l.useEffect)((()=>{u(o)}),[s,o]),(0,n.jsx)(a.default,{value:d,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,n.jsx)(i.c,{}),...c})}},98980:(e,t,o)=>{o.d(t,{Ur:()=>r,YA:()=>i,YQ:()=>a,cX:()=>n,yY:()=>l});const l=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],a={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[...l],dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},r={...a},i={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[...l],dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:e=>"".concat(e)}}},n={colors:[...l],plotOptions:{pie:{size:200,donut:{labels:{show:!0,total:{show:!1,showAlways:!0,label:"",fontSize:"18px",fontFamily:"Roboto",fontWeight:"bold",color:"#1a3353",formatter:function(e){return e.globals.seriesTotals.reduce(((e,t)=>e+t),0)+"Orders count"}}},size:"100%"}}},labels:[],dataLabels:{enabled:!0},legend:{show:!0}}},24968:(e,t,o)=>{function l(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}o.d(t,{c:()=>l})},51620:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var l=o(49308),a=o(73568),r=o(37728),i=o(68768),n=o(10260),s=o(66296),c=o(68496),d=o(87228),u=o(15752),h=o(99584),v=o(40748),p=o(34296),x=o(15344),f=o(18896),m=o(32712),g=o(53680),y=o(83072),j=o.n(y),b=o(9147),w=o(53992),_=o(90312),C=o(68256),z=o(23424),k=o(16940),q=o(65236),N=o(24968),S=o(97884);const{Text:H,Title:O}=l.default,{RangePicker:V}=a.default,I=()=>{var e,t,o;const l=(0,m.OY)(),a=(0,z.i6)(),{t:y}=(0,q.G)(),{date_from:I,date_to:Y,by_time:M,chart:R,handleChart:T,handleDateRange:A}=(0,h.useContext)(b.a),{activeMenu:L}=(0,m.w1)((e=>e.menu),m.G),{loading:E,chartData:G,productList:B}=(0,m.w1)((e=>e.categoryReport),m.G),{defaultCurrency:D}=(0,m.w1)((e=>e.currency),m.G),[F,W]=(0,h.useState)([]),[P,J]=(0,h.useState)(),[K,Q]=(0,h.useState)(!1),[U,X]=(0,h.useState)([{title:y("category"),key:"category",dataIndex:"category",render:(e,t)=>{var o;const l=null===t||void 0===t||null===(o=t.title)||void 0===o?void 0:o.split("-");return null===l||void 0===l?void 0:l.map(((e,o)=>o===(null===l||void 0===l?void 0:l.length)-1?(0,S.jsx)(k.cH,{to:"/report/products?category_id=".concat(null===t||void 0===t?void 0:t.id),children:e}):e))},sorter:(e,t)=>{var o;return null===e||void 0===e||null===(o=e.title)||void 0===o?void 0:o.localeCompare(null===t||void 0===t?void 0:t.title)},is_show:!0},{title:y("item.sold"),dataIndex:"quantity",key:"quantity",is_show:!0,sorter:(e,t)=>(null===e||void 0===e?void 0:e.quantity)-(null===t||void 0===t?void 0:t.quantity)},{title:y("price"),dataIndex:"price",key:"price",is_show:!0,sorter:(e,t)=>(null===e||void 0===e?void 0:e.price)-(null===t||void 0===t?void 0:t.price),render:(e,t)=>(0,N.c)(null===t||void 0===t?void 0:t.price,null===D||void 0===D?void 0:D.symbol)},{title:y("products"),key:"products_count",dataIndex:"products_count",sorter:(e,t)=>(null===e||void 0===e?void 0:e.products_count)-(null===t||void 0===t?void 0:t.products_count),render:(e,t)=>(0,S.jsx)("span",{onClick:()=>{return e=t,l((0,f.WC)({url:"report/products",id:"report.products",name:y("report.products")})),void a("/report/products?category_id=".concat(e.id));var e},children:null===t||void 0===t?void 0:t.products_count}),is_show:!0},{title:y("orders"),key:"count",dataIndex:"count",is_show:!0,sorter:(e,t)=>(null===e||void 0===e?void 0:e.count)-(null===t||void 0===t?void 0:t.count)}]),$=(0,h.useMemo)((()=>[{value:"quantity",label:"Item sold",qty:"total_quantity"},{value:"price",label:"Net Sales",qty:"total_price"},{value:"count",label:"Orders",qty:"total_count"},{value:"total_products_count",label:"Order products",qty:"total_products_count"}]),[]),Z=()=>{if($.find((e=>e.value===R))){const e={date_from:I,date_to:Y,type:M,chart:R,search:""===(null===P||void 0===P?void 0:P.trim())||null===P||void 0===P?void 0:P.trim()};l((0,_.c1)(e))}};(0,h.useEffect)((()=>{$.every((e=>e.value!==R))&&T($[0].value)}),[]),(0,h.useEffect)((()=>{L.refetch&&(Z(),l((0,f.CO)(L)))}),[L.refetch]),(0,C.c)((()=>{Z()}),[Y,M,R,P,I]);const ee={selectedRowKeys:F,onChange:e=>{W(e)}};return(0,S.jsxs)(r.c,{size:"large",spinning:E,children:[(0,S.jsx)(i.c,{gutter:24,className:"mb-3",children:(0,S.jsx)(n.c,{span:12,children:(0,S.jsx)(s.c,{size:"large",children:(0,S.jsx)(V,{defaultValue:[j()(I),j()(Y)],onChange:A})})})}),(0,S.jsx)(i.c,{gutter:24,className:"report-products",children:null===$||void 0===$?void 0:$.map((e=>(0,S.jsx)(n.c,{span:6,onClick:()=>T(e.value),children:(0,S.jsxs)(c.default,{className:R===e.value&&"active",children:[(0,S.jsx)(i.c,{className:"mb-5",children:(0,S.jsx)(n.c,{children:(0,S.jsx)(H,{children:e.label})})}),(0,S.jsx)(i.c,{gutter:24,children:(0,S.jsx)(n.c,{span:12,children:(0,S.jsx)(O,{level:2,children:"total_price"===e.qty?(0,N.c)(G[e.qty]):G[e.qty]})})})]})},e.label)))}),(0,S.jsx)(g.c,{reportData:G,chart_data:"quantities_sum"}),(0,S.jsxs)(c.default,{children:[(0,S.jsxs)(s.c,{className:"align-items-center justify-content-between mb-4 w-100",children:[(0,S.jsx)(O,{level:2,className:"mb-0",children:y("categories")}),(0,S.jsxs)(s.c,{children:[(0,S.jsx)(v.c,{style:{width:"100%"},handleChange:e=>J(e),defaultValue:null===(e=L.data)||void 0===e?void 0:e.search,resetSearch:!(null!==(t=L.data)&&void 0!==t&&t.search)}),(0,S.jsx)(d.c,{icon:(0,S.jsx)(p.c,{}),loading:K,disabled:0===(null===B||void 0===B||null===(o=B.data)||void 0===o?void 0:o.length),onClick:()=>{Q(!0),x.c.getCategoriesChart({date_from:I,date_to:Y,type:M,export:"excel"}).then((e=>{const t=e.data.link;t&&(window.location.href=t)})).finally((()=>Q(!1)))},children:y("download")}),(0,S.jsx)(w.c,{columns:U,setColumns:X})]})]}),(0,S.jsx)(u.c,{scroll:{x:!0},rowSelection:ee,columns:null===U||void 0===U?void 0:U.filter((e=>e.is_show)),dataSource:Object.values(B)||[],rowKey:e=>e.id,loading:E,pagination:{pageSize:null===B||void 0===B?void 0:B.per_page,page:(null===B||void 0===B?void 0:B.current_page)||1,total:null===B||void 0===B?void 0:B.total,defaultCurrent:1}})]})]})}},34296:(e,t,o)=>{o.d(t,{c:()=>s});var l=o(30800),a=o(99584);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};var i=o(47164),n=function(e,t){return a.createElement(i.c,(0,l.c)((0,l.c)({},e),{},{ref:t,icon:r}))};n.displayName="CloudDownloadOutlined";const s=a.forwardRef(n)},58048:(e,t,o)=>{o.d(t,{c:()=>s});var l=o(30800),a=o(99584);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"};var i=o(47164),n=function(e,t){return a.createElement(i.c,(0,l.c)((0,l.c)({},e),{},{ref:t,icon:r}))};n.displayName="LineChartOutlined";const s=a.forwardRef(n)},55512:(e,t,o)=>{o.d(t,{c:()=>s});var l=o(30800),a=o(99584);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=o(47164),n=function(e,t){return a.createElement(i.c,(0,l.c)((0,l.c)({},e),{},{ref:t,icon:r}))};n.displayName="TableOutlined";const s=a.forwardRef(n)}}]);