"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4260],{54260:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var i=a(99584),s=a(65732),r=a(68496),l=a(37728),c=a(61072),n=a(23424),d=a(32712),u=a(18896),m=a(52640),o=a(65236),v=a(11648),h=a(34528),j=a(63800),f=a(97884);const b=()=>{const{t:e}=(0,o.G)(),{activeMenu:t}=(0,d.w1)((e=>e.menu),d.G),{id:a}=(0,n.W4)(),b=(0,d.OY)(),{params:g}=(0,d.w1)((e=>e.brand),d.G),[x]=s.c.useForm(),p=(0,n.i6)(),[y,w]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);b((0,u.MH)({activeMenu:t,data:e}))}),[]);return(0,i.useEffect)((()=>{t.refetch&&(e=>{w(!0),v.c.getById(e).then((e=>{let a=e.data;const i={...a,image:[(s=a.img,{name:s,url:m.cd+s})]};var s;x.setFieldsValue(i),b((0,u.MH)({activeMenu:t,data:i}))})).finally((()=>{w(!1),b((0,u.CO)(t))}))})(a)}),[t.refetch]),(0,f.jsx)(r.default,{title:e("edit.brand"),children:y?(0,f.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,f.jsx)(l.c,{size:"large",className:"py-5"})}):(0,f.jsx)(j.c,{form:x,handleSubmit:(i,s)=>{var r;const l={...i,active:i.active?1:0,"images[0]":null===(r=s[0])||void 0===r?void 0:r.name},n={...g},m="seller/brands";return v.c.update(a,l).then((()=>{c.m4.success(e("successfully.updated")),(0,d.wN)((()=>{b((0,u.MF)({...t,nextUrl:m})),b((0,h.MT)(n))})),p("/".concat(m))}))}})})}},63800:(e,t,a)=>{a.d(t,{c:()=>h});var i=a(99584),s=a(65732),r=a(68768),l=a(10260),c=a(46712),n=a(26012),d=a(87228),u=a(40936),m=a(32712),o=a(65236),v=a(97884);function h(e){var t,a;let{form:h,handleSubmit:j}=e;const{t:f}=(0,o.G)(),{activeMenu:b}=(0,m.w1)((e=>e.menu),m.G),[g,x]=(0,i.useState)(null!==(t=b.data)&&void 0!==t&&t.image?null===(a=b.data)||void 0===a?void 0:a.image:[]),[p,y]=(0,i.useState)(!1);return(0,v.jsxs)(s.c,{name:"basic",layout:"vertical",onFinish:e=>{y(!0),j(e,g).finally((()=>y(!1)))},form:h,initialValues:{active:!0,...b.data},children:[(0,v.jsxs)(r.c,{gutter:12,children:[(0,v.jsx)(l.c,{span:12,children:(0,v.jsx)(s.c.Item,{label:f("title"),name:"title",rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(f("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(f("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(f("required")))}],children:(0,v.jsx)(c.default,{})})}),(0,v.jsx)(l.c,{span:6,children:(0,v.jsx)(s.c.Item,{label:f("image"),name:"images",rules:[{validator:()=>0===(null===g||void 0===g?void 0:g.length)?Promise.reject(new Error(f("required"))):Promise.resolve()}],children:(0,v.jsx)(u.c,{type:"brands",imageList:g,setImageList:x,form:h,multiple:!1})})}),(0,v.jsx)(l.c,{span:6,children:(0,v.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,v.jsx)(s.c.Item,{label:f("active"),name:"active",valuePropName:"checked",children:(0,v.jsx)(n.c,{})})})})]}),(0,v.jsx)(d.c,{type:"primary",htmlType:"submit",loading:p,children:f("submit")})]})}}}]);