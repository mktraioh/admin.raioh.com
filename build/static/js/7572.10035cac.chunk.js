"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7572],{424:(e,t,o)=>{o.d(t,{c:()=>s});var n=o(99584),l=o(79416),a=o(32712),i=o(51840),r=o(48376),d=o(97884);const s=()=>{const e=(0,a.OY)(),{languages:t,defaultLang:o}=(0,a.w1)((e=>e.formLang),a.G);(0,n.useEffect)((()=>{r.c.getAllActive().then((t=>{let{data:o}=t;e((0,i.Up)(o)),e((0,i.uY)(o.find((e=>1===e.default)).locale))}))}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.cp.Group,{value:o,onChange:t=>{let{target:{value:o}}=t;e((0,i.uY)(o))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((e=>(0,d.jsx)(l.cp.Button,{value:e.locale,children:e.title},e.id)))})})}},89952:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(99584),l=o(67692),a=o(65732),i=o(68496),r=o(23424),d=o(32712),s=o(424),c=o(65236),u=o(49600),v=o(84832),p=o(95688),f=o(78016),m=o(20556),y=o(18896),h=o(33131),g=o(83072),_=o.n(g),b=o(29480),x=o(12344),C=o(61072),k=o(49580),O=o(77180),j=o(97884);const{Step:E}=l.default;function w(){var e,t,o,g,w,F,M,S,N,P,K,Y;const{t:D}=(0,c.G)(),[I]=a.c.useForm(),{id:H}=(0,r.W4)(),L=(0,m.W)(),T=(0,d.OY)(),B=(0,r.i6)(),{activeMenu:G}=(0,d.w1)((e=>e.menu),d.G),{settings:U}=(0,d.w1)((e=>e.globalSettings),d.G),{defaultCurrency:R}=(0,d.w1)((e=>e.currency),d.G),q=Number((null===(e=L.values)||void 0===e?void 0:e.step)||0),[V,A]=(0,n.useState)(!1),[J,W]=(0,n.useState)(!1),[z,Q]=(0,n.useState)((null===G||void 0===G||null===(t=G.data)||void 0===t?void 0:t.images)||[]),[X,Z]=(0,n.useState)(null!==G&&void 0!==G&&null!==(o=G.data)&&void 0!==o&&o.location_from?{lat:parseFloat(null===G||void 0===G||null===(g=G.data)||void 0===g||null===(w=g.location_from)||void 0===w?void 0:w.latitude),lng:parseFloat(null===G||void 0===G||null===(F=G.data)||void 0===F||null===(M=F.location_from)||void 0===M?void 0:M.longitude)}:(0,h.c)(U)),[$,ee]=(0,n.useState)(null!==G&&void 0!==G&&null!==(S=G.data)&&void 0!==S&&S.location_to?{lat:parseFloat(null===G||void 0===G||null===(N=G.data)||void 0===N||null===(P=N.location_to)||void 0===P?void 0:P.latitude),lng:parseFloat(null===G||void 0===G||null===(K=G.data)||void 0===K||null===(Y=K.location_to)||void 0===Y?void 0:Y.longitude)}:(0,h.c)(U));(0,n.useEffect)((()=>()=>{const e=I.getFieldsValue(!0),t=JSON.stringify(e.delivery_date),o=JSON.stringify(e.delivery_time),n={...e,date:t,time:o};T((0,y.MH)({activeMenu:G,data:n}))}),[]);const te=()=>{const e=q+1;L.set("step",e)},oe=()=>{const e=q-1;L.set("step",e)};(0,n.useEffect)((()=>{G.refetch&&H&&(e=>{A(!0),b.c.getById(e).then((e=>{var t,o,n,l,a,i,r,d,s,c,u,v,p,f,m,h,g,b,x;let C=e.data;Q([(0,k.c)(C.img)]),Z({lat:null===C||void 0===C||null===(t=C.address_from)||void 0===t?void 0:t.latitude,lng:null===C||void 0===C||null===(o=C.address_from)||void 0===o?void 0:o.longitude}),ee({lat:null===C||void 0===C||null===(n=C.address_to)||void 0===n?void 0:n.latitude,lng:null===C||void 0===C||null===(l=C.address_to)||void 0===l?void 0:l.longitude});const O={...C,image:[(0,k.c)(C.img)],delivery_time:_()(null===C||void 0===C?void 0:C.delivery_time,"HH:mm:ss"),delivery_date:_()(C.delivery_date,"YYYY-MM-DD"),address_from:null===C||void 0===C||null===(a=C.address_from)||void 0===a?void 0:a.address,address_to:null===C||void 0===C||null===(i=C.address_to)||void 0===i?void 0:i.address,house_from:null===C||void 0===C||null===(r=C.address_from)||void 0===r?void 0:r.house,house_to:null===C||void 0===C||null===(d=C.address_to)||void 0===d?void 0:d.house,stage_from:null===C||void 0===C||null===(s=C.address_from)||void 0===s?void 0:s.stage,stage_to:null===C||void 0===C||null===(c=C.address_to)||void 0===c?void 0:c.stage,room_from:null===C||void 0===C||null===(u=C.address_from)||void 0===u?void 0:u.room,room_to:null===C||void 0===C||null===(v=C.address_to)||void 0===v?void 0:v.room,user_from:{label:[null===(p=C.user)||void 0===p?void 0:p.firstname,null===(f=C.user)||void 0===f?void 0:f.lastname].join(" "),value:null===(m=C.user)||void 0===m?void 0:m.id},type:{label:null===(h=C.type)||void 0===h?void 0:h.type,value:null===(g=C.type)||void 0===g?void 0:g.id},payment_type:{label:D(null===C||void 0===C||null===(b=C.transaction)||void 0===b?void 0:b.payment_system.tag),value:null===C||void 0===C||null===(x=C.transaction)||void 0===x?void 0:x.payment_system.id}};I.setFieldsValue(O),T((0,y.MH)({activeMenu:G,data:O}))})).finally((()=>{A(!1),T((0,y.CO)(G))}))})(H)}),[G.refetch]);return(0,j.jsxs)(i.default,{title:D("add.parcel.order"),extra:(0,j.jsx)(s.c,{}),children:[(0,j.jsx)(l.default,{current:q,onChange:e=>{L.set("step",e)},children:u.C.map((e=>(0,j.jsx)(E,{title:D(e.title)},e.title)))}),(0,j.jsx)("div",{className:"steps-content",children:V?(0,j.jsx)(O.c,{}):(0,j.jsxs)(a.c,{form:I,name:"parcel-create",layout:"vertical",onFinish:e=>{var t,o;console.log("values => ",e),W(!0);const n={user_id:null===(t=e.user_from)||void 0===t?void 0:t.value,currency_id:null===R||void 0===R?void 0:R.id,type_id:null===(o=e.type)||void 0===o?void 0:o.value,rate:null===R||void 0===R?void 0:R.rate,phone_from:e.phone_from.toString(),username_from:e.username_from,address_from:{longitude:null===X||void 0===X?void 0:X.lng,latitude:null===X||void 0===X?void 0:X.lat,address:e.address_from,house:e.house_from,stage:e.stage_from,room:e.room_from},phone_to:e.phone_to.toString(),username_to:e.username_to,address_to:{longitude:null===$||void 0===$?void 0:$.lng,latitude:null===$||void 0===$?void 0:$.lat,address:e.address_to,house:e.house_to,stage:e.stage_to,room:e.room_to},delivery_date:_()(e.delivery_date).format("YYYY-MM-DD"),delivery_time:_()(e.delivery_time,"HH:mm").format("HH:mm"),note:e.note,images:z.map((e=>e.name))},l="parcel-orders";b.c.update(H,n).then((()=>{T((0,x.Q1)()),C.m4.success(D("successfully.created")),T((0,y.MF)({...G,nextUrl:l})),B("/".concat(l))})).finally((()=>W(!1)))},initialValues:{...G.data},onFinishFailed:e=>{const t=["","",""];e.errorFields.map((e=>e.name[0])).forEach((e=>{e.includes("_from")?t[0]="sender.details.invalid":e.includes("_to")?t[1]="receiver.details.invalid":t[2]="parcel.details.invalid"})),t.forEach((e=>{e&&C.m4.error(D(e))}))},children:[(0,j.jsx)("div",{className:"First-content"===u.C[q].content?"":"d-none",children:(0,j.jsx)(v.c,{form:I,next:te,location:X,setLocation:Z})}),(0,j.jsx)("div",{className:"Second-content"===u.C[q].content?"":"d-none",children:(0,j.jsx)(p.c,{form:I,next:te,prev:oe,location:$,setLocation:ee})}),(0,j.jsx)("div",{className:"Third-content"===u.C[q].content?"":"d-none",children:(0,j.jsx)(f.c,{form:I,loading:J,prev:oe,locationFrom:X,locationTo:$,image:z,setImage:Q})})]})})]})}},79416:(e,t,o)=>{o.d(t,{cp:()=>N});var n=o(52536),l=o(45072),a=o(99584),i=o(76436),r=o(46736),d=o.n(r),s=o(71072),c=o(93500),u=o(67648),v=a.createContext(null),p=v.Provider;const f=v;var m=a.createContext(null),y=m.Provider,h=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},g=function(e,t){var o,r=a.useContext(f),v=a.useContext(m),p=a.useContext(u.MT),y=p.getPrefixCls,g=p.direction,_=a.useRef(),b=(0,s.qC)(t,_),x=(0,a.useContext)(c.A9).isFormItemInput,C=e.prefixCls,k=e.className,O=e.children,j=e.style,E=h(e,["prefixCls","className","children","style"]),w=y("radio",C),F="button"===((null===r||void 0===r?void 0:r.optionType)||v)?"".concat(w,"-button"):w,M=(0,l.c)({},E);r&&(M.name=r.name,M.onChange=function(t){var o,n;null===(o=e.onChange)||void 0===o||o.call(e,t),null===(n=null===r||void 0===r?void 0:r.onChange)||void 0===n||n.call(r,t)},M.checked=e.value===r.value,M.disabled=e.disabled||r.disabled);var S=d()("".concat(F,"-wrapper"),(o={},(0,n.c)(o,"".concat(F,"-wrapper-checked"),M.checked),(0,n.c)(o,"".concat(F,"-wrapper-disabled"),M.disabled),(0,n.c)(o,"".concat(F,"-wrapper-rtl"),"rtl"===g),(0,n.c)(o,"".concat(F,"-wrapper-in-form-item"),x),o),k);return a.createElement("label",{className:S,style:j,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},a.createElement(i.c,(0,l.c)({},M,{type:"radio",prefixCls:F,ref:b})),void 0!==O?a.createElement("span",null,O):null)},_=a.forwardRef(g);_.displayName="Radio";const b=_;var x=o(32920),C=o(68576),k=o(62672),O=o(45792),j=a.forwardRef((function(e,t){var o=a.useContext(u.MT),i=o.getPrefixCls,r=o.direction,s=a.useContext(k.c),c=(0,C.c)(e.defaultValue,{value:e.value}),v=(0,x.c)(c,2),f=v[0],m=v[1];return a.createElement(p,{value:{onChange:function(t){var o=f,n=t.target.value;"value"in e||m(n);var l=e.onChange;l&&n!==o&&l(t)},value:f,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var o,c=e.prefixCls,u=e.className,v=void 0===u?"":u,p=e.options,m=e.buttonStyle,y=void 0===m?"outline":m,h=e.disabled,g=e.children,_=e.size,x=e.style,C=e.id,k=e.onMouseEnter,j=e.onMouseLeave,E=i("radio",c),w="".concat(E,"-group"),F=g;p&&p.length>0&&(F=p.map((function(e){return"string"===typeof e||"number"===typeof e?a.createElement(b,{key:e.toString(),prefixCls:E,disabled:h,value:e,checked:f===e},e):a.createElement(b,{key:"radio-group-value-options-".concat(e.value),prefixCls:E,disabled:e.disabled||h,value:e.value,checked:f===e.value,style:e.style},e.label)})));var M=_||s,S=d()(w,"".concat(w,"-").concat(y),(o={},(0,n.c)(o,"".concat(w,"-").concat(M),M),(0,n.c)(o,"".concat(w,"-rtl"),"rtl"===r),o),v);return a.createElement("div",(0,l.c)({},(0,O.c)(e),{className:S,style:x,onMouseEnter:k,onMouseLeave:j,id:C,ref:t}),F)}())}));const E=a.memo(j);var w=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},F=function(e,t){var o=a.useContext(u.MT).getPrefixCls,n=e.prefixCls,i=w(e,["prefixCls"]),r=o("radio",n);return a.createElement(y,{value:"button"},a.createElement(b,(0,l.c)({prefixCls:r},i,{type:"radio",ref:t})))};const M=a.forwardRef(F);var S=b;S.Button=M,S.Group=E;const N=S},76436:(e,t,o)=>{o.d(t,{c:()=>m});var n=o(45072),l=o(52536),a=o(31024),i=o(30800),r=o(87088),d=o(92920),s=o(62988),c=o(33504),u=o(99584),v=o(46736),p=o.n(v),f=function(e){(0,s.c)(o,e);var t=(0,c.c)(o);function o(e){var n;(0,r.c)(this,o),(n=t.call(this,e)).handleChange=function(e){var t=n.props,o=t.disabled,l=t.onChange;o||("checked"in n.props||n.setState({checked:e.target.checked}),l&&l({target:(0,i.c)((0,i.c)({},n.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},n.saveInput=function(e){n.input=e};var l="checked"in e?e.checked:e.defaultChecked;return n.state={checked:l},n}return(0,d.c)(o,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,o=t.prefixCls,i=t.className,r=t.style,d=t.name,s=t.id,c=t.type,v=t.disabled,f=t.readOnly,m=t.tabIndex,y=t.onClick,h=t.onFocus,g=t.onBlur,_=t.onKeyDown,b=t.onKeyPress,x=t.onKeyUp,C=t.autoFocus,k=t.value,O=t.required,j=(0,a.c)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(j).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=j[t]),e}),{}),w=this.state.checked,F=p()(o,i,(e={},(0,l.c)(e,"".concat(o,"-checked"),w),(0,l.c)(e,"".concat(o,"-disabled"),v),e));return u.createElement("span",{className:F,style:r},u.createElement("input",(0,n.c)({name:d,id:s,type:c,required:O,readOnly:f,disabled:v,tabIndex:m,className:"".concat(o,"-input"),checked:!!w,onClick:y,onFocus:h,onBlur:g,onKeyUp:x,onKeyDown:_,onKeyPress:b,onChange:this.handleChange,autoFocus:C,ref:this.saveInput,value:k},E)),u.createElement("span",{className:"".concat(o,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,i.c)((0,i.c)({},t),{},{checked:e.checked}):null}}]),o}(u.Component);f.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const m=f}}]);