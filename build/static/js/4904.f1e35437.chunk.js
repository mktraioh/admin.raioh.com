"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4904],{29376:(e,l,t)=>{t.d(l,{c:()=>h});var a=t(65732),n=t(2092),s=t(68768),c=t(10260),i=t(87228),d=t(2664),r=(t(99584),t(65236)),o=t(32712),u=t(97884);const h=e=>{var l;let{handleClose:t,openDrower:h,setMenuData:v}=e;const{t:m}=(0,r.G)(),{direction:x}=(0,o.w1)((e=>e.theme.theme),o.G),{languages:p}=(0,o.w1)((e=>e.formLang),o.G),[j]=a.c.useForm(),f=(0,o.OY)(),{activeMenu:g}=(0,o.w1)((e=>e.menu),o.G);return(0,u.jsx)(n.c,{title:m("filter"),placement:"rtl"===x?"left":"right",closable:!0,onClose:t,visible:h,footer:(0,u.jsxs)(s.c,{gutter:12,children:[(0,u.jsx)(c.c,{span:12,children:(0,u.jsx)(i.c,{className:"w-100",type:"primary",onClick:()=>j.submit(),children:m("result")})}),(0,u.jsx)(c.c,{span:12,children:(0,u.jsx)(i.c,{className:"w-100",onClick:()=>(()=>{const e=g.data;f(v({activeMenu:g,data:{...e,filter:void 0}})),t()})(),children:m("clear")})})]}),children:(0,u.jsxs)(a.c,{form:j,name:"basic",layout:"vertical",onFinish:e=>{const l=g.data;f(v({activeMenu:g,data:{...l,filter:e}})),t()},initialValues:{...null===(l=g.data)||void 0===l?void 0:l.filter},children:[(0,u.jsx)(a.c.Item,{label:m("language"),rules:[{required:!0,message:m("required")}],name:"equal",children:(0,u.jsxs)(d.default,{children:[(0,u.jsx)(d.default.Option,{value:"equal",children:m("equal")}),(0,u.jsx)(d.default.Option,{value:"not_equal",children:m("not.equal")})]})}),(0,u.jsx)(a.c.Item,{label:m("locale"),rules:[{required:!0,message:m("required")}],name:"lang",children:(0,u.jsx)(d.default,{children:p.map(((e,l)=>(0,u.jsx)(d.default.Option,{value:e.locale,children:e.title},e.locale+l)))})})]})},"left")}},1428:(e,l,t)=>{t.d(l,{c:()=>r});t(99584);var a=t(87228),n=t(59424),s=t(61072),c=t(65236),i=t(75088),d=t(97884);function r(e){let{size:l="",onClick:t,type:r="default",...o}=e;const{t:u}=(0,c.G)(),{isDemo:h}=(0,i.c)();return(0,d.jsx)(a.c,{size:l,icon:(0,d.jsx)(n.c,{}),onClick:e=>{h?s.m4.warning(u("cannot.work.demo")):t(e)},type:r,...o})}},53992:(e,l,t)=>{t.d(l,{c:()=>x});var a=t(99584),n=t(49308),s=t(92200),c=t(66296),i=t(26012),d=t(72192),r=t(35928),o=t(87228),u=t(55512),h=t(65236),v=t(97884);const{Text:m}=n.default,x=e=>{let{columns:l=[],setColumns:t,style:n,size:x="",iconOnly:p}=e;const{t:j}=(0,h.G)(),[f,g]=(0,a.useState)(!1),w=(0,v.jsx)(s.c,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,v.jsx)(s.c.Item,{children:(0,v.jsxs)(c.c,{className:"d-flex justify-content-between",children:[(0,v.jsx)(m,{children:e.title}),(0,v.jsx)(i.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(a)}(e),disabled:1===a})]})},e+a)))});return(0,v.jsx)(d.c,{overlay:w,trigger:["click"],onVisibleChange:e=>{g(e)},visible:f,children:(0,v.jsx)(r.c,{title:j("change.columns"),children:(0,v.jsx)(o.c,{style:{...n},size:x,icon:(0,v.jsx)(u.c,{}),children:p?null:j("Columns")})})})}},88200:(e,l,t)=>{t.d(l,{c:()=>d});t(99584);var a=t(95884),n=t(31508),s=t(87228),c=t(65236),i=t(97884);const d=e=>{let{open:l,handleCancel:t,text:d,click:r,loading:o,subTitle:u}=e;const{t:h}=(0,c.G)();return(0,i.jsxs)(a.default,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,i.jsx)(n.cp,{status:"warning",title:d,subTitle:u}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(s.c,{type:"primary",className:"mr-2",onClick:r,loading:o,children:h("yes")}),(0,i.jsx)(s.c,{onClick:()=>t(),children:h("no")})]})]})}},40748:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(99584),n=t(46712),s=t(78816),c=t(6724),i=t(97884);function d(e){let{handleChange:l,defaultValue:t,resetSearch:d,...r}=e;const[o,u]=(0,a.useState)(t),h=(0,a.useMemo)((()=>(0,s.debounce)((e=>{l(e)}),800)),[l]);return(0,a.useEffect)((()=>{u(t)}),[d,t]),(0,i.jsx)(n.default,{value:o,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,i.jsx)(c.c,{}),...r})}},19576:(e,l,t)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{c:()=>a})},24904:(e,l,t)=>{t.r(l),t.d(l,{default:()=>L});var a=t(99584),n=t(36668),s=t(20108),c=t(59424),i=t(3952),d=t(84616),r=t(66296),o=t(98044),u=t(87968),h=t(87228),v=t(68496),m=t(15752),x=t(23424),p=t(61072),j=t(52640),f=t(98016),g=t(46003),w=t(32712),C=t(18896),b=t(48820),y=t(62892),k=t(65236),_=t(65732),z=t(95884),S=t(68768),M=t(10260),V=t(2664),I=t(75088),N=t(97884);const q=["new","approved","rejected"];function H(e){let{data:l,handleCancel:t,paramsData:n}=e;const{t:s}=(0,k.G)(),{activeMenu:c}=(0,w.w1)((e=>e.menu),w.G),[i]=_.c.useForm(),d=(0,w.OY)(),[r,o]=(0,a.useState)(!1),{isDemo:u,demoShop:v}=(0,I.c)();return(0,N.jsx)(z.default,{visible:!!l,title:s(l.name),onCancel:t,footer:[(0,N.jsx)(h.c,{type:"primary",onClick:()=>i.submit(),loading:r,disabled:u&&l.id==v,children:s("save")}),(0,N.jsx)(h.c,{type:"default",onClick:t,children:s("cancel")})],children:(0,N.jsx)(_.c,{form:i,layout:"vertical",onFinish:e=>{o(!0);const a={...e};b.c.statusChange(l.uuid,a).then((()=>{t(),d((0,y.a)(n)),d((0,C.A1)(c))})).finally((()=>o(!1)))},initialValues:{status:l.status},children:(0,N.jsx)(S.c,{gutter:12,children:(0,N.jsx)(M.c,{span:24,children:(0,N.jsx)(_.c.Item,{label:s("status"),name:"status",rules:[{required:!0,message:s("required")}],children:(0,N.jsx)(V.default,{children:q.map(((e,l)=>(0,N.jsx)(V.default.Option,{value:e,children:s(e)},e+l)))})})})})})})}var G=t(1428),O=t(29376),D=t(40748),T=t(68256),P=t(57112),E=t(29416),F=t(53992),K=t(88200),A=t(19576),R=t(74788);const{TabPane:W}=d.default,Y=["blue","red","gold","volcano","cyan","lime"],B=["all","new","approved","rejected","deleted_at"],L=()=>{var e,l,t,_,z,S,M,V,I,q;const{t:L}=(0,k.G)(),J=(0,w.OY)(),Q=(0,x.i6)(),[U,X]=(0,a.useState)(null),{user:Z}=(0,w.w1)((e=>e.auth),w.G),[$,ee]=(0,a.useState)(!1),[le,te]=(0,a.useState)(null),[ae,ne]=(0,a.useState)(null),[se,ce]=(0,a.useState)([{title:L("id"),dataIndex:"id",is_show:!0,sorter:!0},{title:L("title"),dataIndex:"name",is_show:!0},{title:L("translations"),dataIndex:"locales",is_show:!0,render:(e,l)=>{var t;return(0,N.jsx)(r.c,{children:null===(t=l.locales)||void 0===t?void 0:t.map(((e,l)=>(0,N.jsx)(o.c,{className:"text-uppercase",color:[Y[l]],children:e})))})}},{title:L("logo"),dataIndex:"logo_img",is_show:!0,render:(e,l)=>(0,N.jsx)(u.c,{alt:"images",className:"img rounded",src:l.deleted_at?"https://via.placeholder.com/150":e||"https://via.placeholder.com/150",effect:"blur",width:50,height:50,preview:!0,placeholder:!0})},{title:L("background"),dataIndex:"back",is_show:!0,render:e=>(0,N.jsx)(u.c,{alt:"images background",className:"img rounded",src:e?j.cd+e:"https://via.placeholder.com/150",effect:"blur",width:50,height:50,preview:!0,placeholder:!0})},{title:L("seller"),dataIndex:"seller",is_show:!0},{title:L("open.time"),dataIndex:"open",is_show:!0,render:(e,l)=>l.open?(0,N.jsxs)(o.c,{color:"blue",children:[" ",L("open")," "]}):(0,N.jsxs)(o.c,{color:"red",children:[" ",L("closed")," "]})},{title:L("tax"),is_show:!0,dataIndex:"tax",render:e=>"".concat(e," %")},{title:L("status"),dataIndex:"status",is_show:!0,render:(e,l)=>(0,N.jsxs)("div",{children:["new"===e?(0,N.jsx)(o.c,{color:"blue",children:L(e)}):"rejected"===e?(0,N.jsx)(o.c,{color:"error",children:L(e)}):(0,N.jsx)(o.c,{color:"cyan",children:L(e)}),!l.deleted_at&&(0,N.jsx)(n.c,{onClick:()=>X(l)})]})},{title:L("options"),dataIndex:"options",is_show:!0,render:(e,l)=>(0,N.jsxs)(r.c,{children:[(0,N.jsx)(h.c,{type:"primary",icon:(0,N.jsx)(n.c,{}),disabled:l.deleted_at,onClick:()=>(e=>{J((0,C.WC)({id:"edit-restaurant",url:"restaurant/".concat(e.uuid),name:L("edit.restaurant")})),Q("/restaurant/".concat(e.uuid))})(l)}),(0,N.jsx)(h.c,{icon:(0,N.jsx)(s.c,{}),onClick:()=>(e=>{J((0,C.WC)({id:"restaurant-clone",url:"restaurant-clone/".concat(e.uuid),name:L("restaurant.clone")})),Q("/restaurant-clone/".concat(e.uuid))})(l),disabled:l.deleted_at}),"manager"!==(null===Z||void 0===Z?void 0:Z.role)?(0,N.jsx)(G.c,{disabled:l.deleted_at,icon:(0,N.jsx)(c.c,{}),onClick:()=>{re([l.id]),ie(!0),te(!0)}}):""]})}]),{setIsModalVisible:ie}=(0,a.useContext)(f.e),[de,re]=(0,a.useState)(null),[oe,ue]=(0,a.useState)("all"),[he,ve]=(0,a.useState)(!1),{activeMenu:me}=(0,w.w1)((e=>e.menu),w.G),{restourants:xe,meta:pe,loading:je,params:fe}=(0,w.w1)((e=>e.restourant),w.G),ge=(null===(e=me.data)||void 0===e?void 0:e.role)||oe,we=null===me||void 0===me?void 0:me.data,Ce={search:null===we||void 0===we?void 0:we.search,lang:"equal"===(null===we||void 0===we||null===(l=we.filter)||void 0===l?void 0:l.equal)?null===we||void 0===we||null===(t=we.filter)||void 0===t?void 0:t.lang:P.c.language,not_lang:"not_equal"===(null===we||void 0===we||null===(_=we.filter)||void 0===_?void 0:_.equal)?null===we||void 0===we||null===(z=we.filter)||void 0===z?void 0:z.lang:null,status:"deleted_at"===ge?null:"all"===ge?void 0:ge||void 0,deleted_at:"deleted_at"===ge?ge:void 0,page:null===we||void 0===we?void 0:we.page,perPage:null===we||void 0===we?void 0:we.perPage,sort:null===we||void 0===we?void 0:we.sort,column:null===we||void 0===we?void 0:we.column};(0,a.useEffect)((()=>{me.refetch&&(J((0,y.a)(Ce)),J((0,C.CO)(me)),ue("all"))}),[me.refetch]);const be=e=>{const l=me.data;J((0,C.MH)({activeMenu:me,data:{...l,...e}}))};(0,T.c)((()=>{J((0,y.a)(Ce))}),[me.data]);const ye={selectedRowKeys:de,onChange:e=>{re(e)}};return(0,N.jsxs)(v.default,{title:L("restaurants"),extra:(0,N.jsxs)(r.c,{wrap:!0,children:[(0,N.jsx)(h.c,{icon:(0,N.jsx)(i.c,{}),type:"primary",onClick:()=>{J((0,C.WC)({id:"add-restaurant",url:"restaurant/add",name:L("add.restaurant")})),Q("/restaurant/add")},children:L("add.restaurant")}),"deleted_at"!==ge?(0,N.jsxs)(r.c,{wrap:!0,children:[(0,N.jsx)(G.c,{size:"",onClick:()=>{null===de||0===de.length?p.m4.warning(L("select.the.product")):(ie(!0),te(!1))},children:L("delete.selected")}),(0,N.jsx)(G.c,{size:"",onClick:()=>ne({delete:!0}),children:L("delete.all")})]}):(0,N.jsx)(G.c,{icon:(0,N.jsx)(R.icK,{className:"mr-2"}),onClick:()=>ne({restore:!0}),children:L("restore.all")}),(0,N.jsx)(h.c,{className:"settings-button",onClick:()=>ee(!0),children:(0,N.jsx)(E.kj7,{className:"icon"})}),(0,N.jsx)(F.c,{columns:se,setColumns:ce})]}),children:[(0,N.jsx)("div",{className:"d-flex justify-content-between",children:(0,N.jsx)(D.c,{placeholder:L("search"),handleChange:e=>be({search:e}),defaultValue:null===(S=me.data)||void 0===S?void 0:S.search,resetSearch:!(null!==(M=me.data)&&void 0!==M&&M.search),className:"w-25"})}),(0,N.jsx)(d.default,{className:"mt-3",activeKey:ge,onChange:e=>{be({role:e,page:1}),ue(e)},type:"card",children:B.map((e=>(0,N.jsx)(W,{tab:L(e)},e)))}),(0,N.jsx)(m.c,{scroll:{x:!0},rowSelection:ye,columns:null===se||void 0===se?void 0:se.filter((e=>e.is_show)),dataSource:xe,loading:je,pagination:{pageSize:fe.perPage,page:(null===(V=me.data)||void 0===V?void 0:V.page)||1,total:pe.total,defaultCurrent:null===(I=me.data)||void 0===I?void 0:I.page,current:null===(q=me.data)||void 0===q?void 0:q.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:a,current:n}=e,{field:s,order:c}=t,i=(0,A.c)(c);J((0,C.MH)({activeMenu:me,data:{...me.data,perPage:a,page:n,column:s,sort:i}}))}}),U&&(0,N.jsx)(H,{data:U,handleCancel:()=>X(null),paramsData:Ce}),(0,N.jsx)(g.c,{click:()=>{ve(!0);const e={...Object.assign({},...de.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};b.c.delete(e).then((()=>{p.m4.success(L("successfully.deleted")),ie(!1),J((0,y.a)(Ce)),te(null)})).finally((()=>ve(!1)))},text:L(le?"delete":"all.delete"),setText:re,loading:he}),$&&(0,N.jsx)(O.c,{handleClose:()=>ee(!1),openDrower:$,setMenuData:C.MH}),ae&&(0,N.jsx)(K.c,{open:ae,handleCancel:()=>ne(null),click:ae.restore?()=>{ve(!0),b.c.restoreAll().then((()=>{p.m4.success(L("successfully.restored")),J((0,y.a)(Ce)),ne(null)})).finally((()=>ve(!1)))}:()=>{ve(!0),b.c.dropAll().then((()=>{p.m4.success(L("successfully.deleted")),J((0,y.a)()),ne(null)})).finally((()=>ve(!1)))},text:ae.restore?L("restore.modal.text"):L("read.carefully"),subTitle:ae.restore?"":L("confirm.deletion"),loading:he,setText:re})]})}},3952:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(30800),n=t(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var c=t(47164),i=function(e,l){return n.createElement(c.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:s}))};i.displayName="PlusCircleOutlined";const d=n.forwardRef(i)},55512:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(30800),n=t(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var c=t(47164),i=function(e,l){return n.createElement(c.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:s}))};i.displayName="TableOutlined";const d=n.forwardRef(i)}}]);