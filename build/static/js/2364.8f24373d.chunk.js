"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2364],{62364:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var l=a(99584),r=a(65732),i=a(68496),d=a(68768),c=a(10260),t=a(2664),n=a(46712),u=a(26012),m=a(66296),h=a(87228),j=a(65236),x=a(93336),p=a(11316),o=a(32712),f=a(61072),_=a(18896),b=a(23424),q=a(77180),w=a(97884);const y=[{title:"firebase",value:"firebase"},{title:"twilio",value:"twilio"}];function g(){const[e]=r.c.useForm(),{t:s}=(0,j.G)(),[a,g]=(0,l.useState)(!1),[k,N]=(0,l.useState)(!1),I=(0,o.OY)(),v=(0,b.i6)(),{activeMenu:F}=(0,o.w1)((e=>e.menu),o.G),{type:C}=(0,b.W4)(),[G,S]=(0,l.useState)(null),{smsGatewaysList:B}=(0,o.w1)((e=>e.sms),o.G);(0,l.useEffect)((()=>{F.refetch&&(s=>{N(!0),x.c.getById(s).then((s=>{const a=s.data;e.setFieldsValue({default:Boolean(a.default),...a.payload}),S(a.type)})).finally((()=>{N(!1),I((0,_.CO)(F))}))})(C)}),[F.refetch]);return(0,w.jsx)(i.default,{title:s("edit.sms.payload"),className:"h-100",children:k?(0,w.jsx)(q.c,{}):(0,w.jsx)(r.c,{form:e,layout:"vertical",onFinish:e=>{g(!0);const a={type:G,default:Number(e.default),payload:{type:void 0,default:void 0,...e}},l="settings/sms-payload";x.c.update(C,a).then((()=>{f.m4.success(s("successfully.updated")),(0,o.wN)((()=>{I((0,p.o)()),I((0,_.MF)({...F,nextUrl:l}))})),v("/".concat(l))})).finally((()=>g(!1)))},children:(0,w.jsxs)(i.default,{title:s("add.sms.payload"),children:[(0,w.jsxs)(d.c,{gutter:12,children:[(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("select.type"),rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(t.default,{disabled:!0,className:"w-100",onChange:e=>S(e),value:G,options:y.filter((e=>!B.some((s=>s.type===e.value))))})})}),"firebase"===C&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("android_api_key"),name:"android_api_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("api_key"),name:"api_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("app_id"),name:"app_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("auth_domain"),name:"auth_domain",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("ios_api_key"),name:"ios_api_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("measurement_id"),name:"measurement_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("message_sender_id"),name:"message_sender_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("project_id"),name:"project_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("server_key"),name:"server_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("storage_bucket"),name:"storage_bucket",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("vapid_key"),name:"vapid_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(u.c,{})})})]}),"twilio"===C&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("twilio_auth_token"),name:"twilio_auth_token",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{min:0,className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("twilio_account_id"),name:"twilio_account_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("twilio_number"),name:"twilio_number",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(n.default,{className:"w-100"})})}),(0,w.jsx)(c.c,{span:12,children:(0,w.jsx)(r.c.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(u.c,{})})})]})]}),(0,w.jsx)(m.c,{children:(0,w.jsx)(h.c,{type:"primary",htmlType:"submit",loading:a,children:s("submit")})})]})})})}}}]);