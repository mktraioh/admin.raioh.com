"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3808],{1428:(e,t,a)=>{a.d(t,{c:()=>i});a(99584);var l=a(87228),s=a(59424),d=a(61072),n=a(65236),c=a(75088),o=a(97884);function i(e){let{size:t="",onClick:a,type:i="default",...r}=e;const{t:u}=(0,n.G)(),{isDemo:v}=(0,c.c)();return(0,o.jsx)(l.c,{size:t,icon:(0,o.jsx)(s.c,{}),onClick:e=>{v?d.m4.warning(u("cannot.work.demo")):a(e)},type:i,...r})}},53992:(e,t,a)=>{a.d(t,{c:()=>m});var l=a(99584),s=a(49308),d=a(92200),n=a(66296),c=a(26012),o=a(72192),i=a(35928),r=a(87228),u=a(55512),v=a(65236),h=a(97884);const{Text:p}=s.default,m=e=>{let{columns:t=[],setColumns:a,style:s,size:m="",iconOnly:x}=e;const{t:g}=(0,v.G)(),[j,f]=(0,l.useState)(!1),y=(0,h.jsx)(d.c,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(d.c.Item,{children:(0,h.jsxs)(n.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(c.c,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(o.c,{overlay:y,trigger:["click"],onVisibleChange:e=>{f(e)},visible:j,children:(0,h.jsx)(i.c,{title:g("change.columns"),children:(0,h.jsx)(r.c,{style:{...s},size:m,icon:(0,h.jsx)(u.c,{}),children:x?null:g("Columns")})})})}},66596:(e,t,a)=>{a.d(t,{c:()=>i});a(99584);var l=a(65236),s=a(74408);const d=a.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",n=a.p+"static/media/noresult.ac4af107751f94856a9c.riv",c=a.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var o=a(97884);const i=function(e){let{id:t="noresult",text:a=""}=e;const{t:i}=(0,l.G)(),r={src:{noproductsfound:d,noresult:n,nosell:c}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,s.useRive)(r);return(0,o.jsxs)("div",{className:"animation-canvas",children:[(0,o.jsx)("div",{style:{width:"100%",height:200},children:(0,o.jsx)(u,{})}),(0,o.jsx)("div",{className:"text",children:i(a)})]})}},40748:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(99584),s=a(46712),d=a(78816),n=a(6724),c=a(97884);function o(e){let{handleChange:t,defaultValue:a,resetSearch:o,...i}=e;const[r,u]=(0,l.useState)(a),v=(0,l.useMemo)((()=>(0,d.debounce)((e=>{t(e)}),800)),[t]);return(0,l.useEffect)((()=>{u(a)}),[o,a]),(0,c.jsx)(s.default,{value:r,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,c.jsx)(n.c,{}),...i})}},71376:(e,t,a)=>{a.d(t,{g:()=>i});var l=a(99584),s=a(95976),d=a.n(s),n=a(2664),c=a(37728),o=a(97884);const i=e=>{let{fetchOptions:t,debounceTimeout:a=400,onClear:s,...i}=e;const[r,u]=(0,l.useState)(!1),[v,h]=(0,l.useState)([]),p=(0,l.useMemo)((()=>d()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),a)),[t,a]);return(0,o.jsx)(n.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),s&&s()},notFoundContent:r?(0,o.jsx)(c.c,{size:"small"}):"no results",...i,options:v,onFocus:()=>{p("")}})}},19576:(e,t,a)=>{function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{c:()=>l})},35924:(e,t,a)=>{a.d(t,{c:()=>s});var l=a(33012);const s={getAll:e=>l.c.get("rest/brands/paginate",{params:e}),getById:(e,t)=>l.c.get("rest/brands/".concat(e),{params:t})}},37784:(e,t,a)=>{a.d(t,{c:()=>s});var l=a(33012);const s={getAll:e=>l.c.get("dashboard/seller/categories/paginate",{params:e}),getById:(e,t)=>l.c.get("dashboard/seller/categories/".concat(e),{params:t}),search:e=>l.c.get("dashboard/seller/categories/search",{params:e}),paginateSelect:e=>l.c.get("dashboard/seller/categories/select-paginate",{params:e})}},28108:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var l=a(84616),s=a(65236),d=a(23424),n=a(99584),c=a(55540),o=a(36668),i=a(20108),r=a(59424),u=a(3952),v=a(87968),h=a(98044),p=a(66296),m=a(26012),x=a(87228),g=a(68496),j=a(15752),f=a(95884),y=a(61072),b=a(52640),w=a(98016),C=a(46003),_=a(32712),S=a(18896),k=a(31e3),I=a(63616),z=a(19576),M=a(68256),N=a(40748),V=a(71376),H=a(35924),O=a(37784),P=a(1428),G=a(53992),T=a(50428),W=a(66596),q=a(97884);const{TabPane:B}=l.default,A=["blue","red","gold","volcano","cyan","lime"],R=["all","published","pending","unpublished","deleted_at"],K=()=>{var e,t,a,K,E,F,Y,D,U,J;const{t:L}=(0,s.G)(),Q=(0,_.OY)(),X=(0,d.i6)(),[Z,$]=(0,n.useState)(null),[ee,te]=(0,n.useState)("all"),[ae,le]=(0,n.useState)(null),[se,de]=(0,n.useState)(!1),[ne,ce]=(0,n.useState)(""),oe=()=>{Q((0,S.MH)({activeMenu:je,data:null}))},[ie,re]=(0,n.useState)([{title:L("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:L("image"),dataIndex:"img",is_show:!0,render:(e,t)=>(0,q.jsx)(v.c,{width:100,src:t.deleted_at?"https://fakeimg.pl/640x360":b.cd+e,placeholder:!0,style:{borderRadius:4}})},{title:L("name"),dataIndex:"name",is_show:!0},{title:L("status"),is_show:!0,dataIndex:"status",key:"status",render:e=>(0,q.jsx)("div",{children:"pending"===e?(0,q.jsx)(h.c,{color:"blue",children:L(e)}):"unpublished"===e?(0,q.jsx)(h.c,{color:"error",children:L(e)}):(0,q.jsx)(h.c,{color:"cyan",children:L(e)})})},{title:L("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var a;return(0,q.jsx)(p.c,{children:null===(a=t.locales)||void 0===a?void 0:a.map(((e,t)=>(0,q.jsx)(h.c,{className:"text-uppercase",color:[A[t]],children:e})))})}},{title:L("shop"),dataIndex:"shop_id",is_show:!0,render:(e,t)=>{var a,l;return null===t||void 0===t||null===(a=t.shop)||void 0===a||null===(l=a.translation)||void 0===l?void 0:l.title}},{title:L("category"),dataIndex:"category_name",is_show:!0},{title:L("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,q.jsx)(m.c,{onChange:()=>{ue(!0),le(t.uuid),$(!0)},disabled:t.deleted_at,checked:e})},{title:L("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,q.jsxs)(p.c,{children:["unpublished"===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.status_note)&&(0,q.jsx)(x.c,{icon:(0,q.jsx)(c.c,{}),onClick:()=>{console.log(t),de(!0),ce(t.status_note)}}),(0,q.jsx)(x.c,{type:"primary",icon:(0,q.jsx)(o.c,{}),onClick:()=>(e=>{Q((0,S.WC)({id:"product-edit",url:"seller/product/".concat(e.uuid),name:L("edit.food")})),oe(),X("/seller/product/".concat(e.uuid))})(t),disabled:t.deleted_at}),(0,q.jsx)(x.c,{icon:(0,q.jsx)(i.c,{}),onClick:()=>(e=>{Q((0,S.WC)({id:"product-clone",url:"seller/product-clone/".concat(e.uuid),name:L("clone.product")})),oe(),X("/seller/product-clone/".concat(e.uuid))})(t),disabled:t.deleted_at}),(0,q.jsx)(P.c,{icon:(0,q.jsx)(r.c,{}),onClick:()=>{ue(!0),le([t.id]),ge(!0),$(!1)},disabled:t.deleted_at})]})}]),{setIsModalVisible:ue}=(0,n.useContext)(w.e),[ve,he]=(0,n.useState)(!1),[pe,me]=(0,n.useState)(!1),[xe,ge]=(0,n.useState)(null),{activeMenu:je}=(0,_.w1)((e=>e.menu),_.G),{products:fe,meta:ye,loading:be,params:we}=(0,_.w1)((e=>e.product),_.G),{myShop:Ce}=(0,_.w1)((e=>e.myShop),_.G),_e=(null===(e=je.data)||void 0===e?void 0:e.role)||ee,Se=je.data,ke={search:null===Se||void 0===Se?void 0:Se.search,brand_id:null===Se||void 0===Se||null===(t=Se.brand)||void 0===t?void 0:t.value,category_id:null===Se||void 0===Se||null===(a=Se.category)||void 0===a?void 0:a.value,status:"deleted_at"===_e||"all"===_e?void 0:_e,deleted_at:"deleted_at"===_e?_e:void 0,sort:null===Se||void 0===Se?void 0:Se.sort,column:null===Se||void 0===Se?void 0:Se.column,perPage:null===Se||void 0===Se?void 0:Se.perPage,page:null===Se||void 0===Se?void 0:Se.page};(0,M.c)((()=>{Q((0,I.cB)(ke))}),[je.data]),(0,n.useEffect)((()=>{je.refetch&&(Q((0,I.cB)(ke)),Q((0,S.CO)(je)))}),[je.refetch]);const Ie=e=>{const t=je.data;Q((0,S.MH)({activeMenu:je,data:{...t,...e}}))},ze={selectedRowKeys:ae,onChange:e=>{le(e)}};return console.log("activeMenu => ",je.data),(0,q.jsxs)(n.Fragment,{children:[(0,q.jsx)(g.default,{className:"p-0",title:L("food"),extra:(0,q.jsxs)(p.c,{wrap:!0,children:[(0,q.jsx)(V.g,{placeholder:L("select.category"),fetchOptions:async function(e){const t={search:0===e.length?null:e,type:"main",perPage:5};return O.c.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150},onChange:e=>Ie({category:e}),value:null===(K=je.data)||void 0===K?void 0:K.category}),(0,q.jsx)(V.g,{placeholder:L("select.brand"),fetchOptions:async function(e){const t={shop_id:null===Ce||void 0===Ce?void 0:Ce.id,search:e};return H.c.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.title,value:e.id})))}))},style:{minWidth:150},onChange:e=>Ie({brand:e}),value:null===(E=je.data)||void 0===E?void 0:E.brand}),(0,q.jsx)(x.c,{icon:(0,q.jsx)(u.c,{}),type:"primary",onClick:()=>{Q((0,S.WC)({id:"product-add",url:"seller/product/add",name:L("add.food")})),oe(),X("/seller/product/add")},children:L("add.food")}),(0,q.jsx)(G.c,{columns:ie,setColumns:re})]}),children:(0,q.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,q.jsx)(N.c,{placeholder:L("search"),handleChange:e=>Ie({search:e}),defaultValue:null===(F=je.data)||void 0===F?void 0:F.search,resetSearch:!(null!==(Y=je.data)&&void 0!==Y&&Y.search),className:"w-25"}),(0,q.jsxs)(p.c,{wrap:!0,children:[(0,q.jsxs)(x.c,{onClick:()=>{Q((0,S.WC)({id:"seller-product-import",url:"seller/product/import",name:L("food.import")})),X("/seller/product/import")},children:[(0,q.jsx)(T.gHq,{className:"mr-2"}),L("import")]}),(0,q.jsxs)(x.c,{loading:pe,onClick:()=>{var e,t,a,l;me(!0);const s={shop_id:null===Ce||void 0===Ce?void 0:Ce.id,category_id:null===je||void 0===je||null===(e=je.data)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.value,brand_id:null===je||void 0===je||null===(a=je.data)||void 0===a||null===(l=a.brand)||void 0===l?void 0:l.value};k.c.export(s).then((e=>{const t=b.sp+e.data.file_name;window.location.href=t})).finally((()=>me(!1)))},children:[(0,q.jsx)(T.qhB,{className:"mr-2"}),L("export")]}),(0,q.jsx)(P.c,{size:"",onClick:()=>{null===ae||0===ae.length?y.m4.warning(L("select.the.product")):(ue(!0),ge(!1))},children:L("delete.selected")})]})]})}),(0,q.jsxs)(g.default,{children:[(0,q.jsx)(l.default,{className:"mt-3",activeKey:_e,onChange:e=>{Ie({role:e,page:1}),te(e)},type:"card",children:R.map((e=>(0,q.jsx)(B,{tab:L(e)},e)))}),(0,q.jsx)(j.c,{locale:{emptyText:(0,q.jsx)(W.c,{})},scroll:{x:!0},rowSelection:ze,loading:be,columns:null===ie||void 0===ie?void 0:ie.filter((e=>e.is_show)),dataSource:fe,pagination:{pageSize:we.perPage,page:(null===(D=je.data)||void 0===D?void 0:D.page)||1,total:ye.total,defaultCurrent:null===(U=je.data)||void 0===U?void 0:U.page,current:null===(J=je.data)||void 0===J?void 0:J.page},onChange:function(e,t,a){const{pageSize:l,current:s}=e,{field:d,order:n}=a,c=(0,z.c)(n);Q((0,S.MH)({activeMenu:je,data:{...je.data,perPage:l,page:s,column:d,sort:c}}))},rowKey:e=>e.id})]}),(0,q.jsx)(C.c,{click:Z?()=>{he(!0),k.c.setActive(ae).then((()=>{ue(!1),Q((0,I.cB)(ke)),y.m4.success(L("successfully.updated")),$(!0)})).finally((()=>he(!1)))}:()=>{he(!0);const e={...Object.assign({},...ae.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};k.c.delete(e).then((()=>{ue(!1),y.m4.success(L("successfully.deleted")),Q((0,I.cB)(e))})).finally((()=>he(!1)))},text:L(Z?"set.active.food":xe?"delete":"all.delete"),loading:ve,setText:le,setActive:$}),(0,q.jsxs)(f.default,{title:"Reject message",closable:!1,visible:se,footer:null,centered:!0,children:[(0,q.jsx)("p",{children:ne}),(0,q.jsx)("div",{className:"d-flex justify-content-end",children:(0,q.jsx)(x.c,{type:"primary",className:"mr-2",onClick:()=>de(!1),children:"Close"})})]})]})};var E=a(71836),F=a(44512),Y=a(61088),D=a(32788);const U={type:"product"};function J(e){var t,a,l;let{parentId:i}=e;const{t:u}=(0,s.G)(),{setIsModalVisible:m}=(0,n.useContext)(w.e),[b,k]=(0,n.useState)(!1),[I,N]=(0,n.useState)(!1),[V,H]=(0,n.useState)(""),[O,P]=(0,n.useState)(null),T=(0,_.OY)(),W=(0,d.i6)(),{activeMenu:B}=(0,_.w1)((e=>e.menu),_.G),{data:A,meta:R,loading:K,params:J}=(0,_.w1)((e=>e.requestModels),_.G),L=B.data,{uuid:Q}=(0,d.W4)(),X={search:null===L||void 0===L?void 0:L.search,sort:null===L||void 0===L?void 0:L.sort,column:null===L||void 0===L?void 0:L.column,perPage:null===L||void 0===L?void 0:L.perPage,page:null===L||void 0===L?void 0:L.page,parent_id:i,type:"product"},[Z,$]=(0,n.useState)([{title:u("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,t)=>{var a,l,s;return(0,q.jsxs)(p.c,{children:[null===(a=t.model)||void 0===a?void 0:a.translation.title," ",(0,q.jsx)(Y.Ogl,{})," ",t.data["title[".concat(null===(l=t.model)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.locale,"]")]]})}},{title:u("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>{var a,l,s,d;return(0,q.jsxs)(p.c,{children:[(0,q.jsx)(v.c,{src:(0,E.c)(null===(a=t.model)||void 0===a?void 0:a.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,q.jsx)(Y.Ogl,{}),(0,q.jsx)(v.c,{src:(0,E.c)((null===(l=t.data.images)||void 0===l||null===(s=l.at(0))||void 0===s?void 0:s.url)||(null===(d=t.data.images)||void 0===d?void 0:d.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:u("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,q.jsx)("div",{children:"pending"===e?(0,q.jsx)(h.c,{color:"blue",children:u(e)}):"canceled"===e?(0,q.jsx)(h.c,{color:"error",children:u(e)}):(0,q.jsx)(h.c,{color:"cyan",children:u(e)})})},{title:u("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,q.jsxs)(p.c,{children:["canceled"===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.status_note)&&(0,q.jsx)(x.c,{icon:(0,q.jsx)(c.c,{}),onClick:()=>{N(!0),H(t.status_note)}}),(0,q.jsx)(x.c,{icon:(0,q.jsx)(o.c,{}),onClick:()=>(e=>{T((0,S.WC)({url:"seller/product-request/".concat(e.id),id:"product_request_edit",name:u("product.request.edit")})),W("/seller/product-request/".concat(e.id),{state:{parentId:i,parentUuid:Q}})})(t)}),(0,q.jsx)(x.c,{danger:!0,icon:(0,q.jsx)(r.c,{}),type:"primary",onClick:()=>{P([t.id]),m(!0)}})]})}]);(0,n.useEffect)((()=>{T((0,F.WS)(X)),T((0,S.CO)(B))}),[B.refetch]),(0,M.c)((()=>{T((0,F.WS)(X))}),[B.data]);const ee={selectedRowKeys:O,onChange:e=>{P(e)}};return(0,q.jsxs)(g.default,{title:u("requests"),extra:(0,q.jsx)(p.c,{wrap:!0,children:(0,q.jsx)(G.c,{columns:Z,setColumns:$})}),children:[(0,q.jsx)(j.c,{scroll:{x:!0},rowSelection:ee,columns:null===Z||void 0===Z?void 0:Z.filter((e=>e.is_show)),dataSource:A,pagination:{pageSize:J.perPage,page:(null===(t=B.data)||void 0===t?void 0:t.page)||1,total:R.total,defaultCurrent:null===(a=B.data)||void 0===a?void 0:a.page,current:null===(l=B.data)||void 0===l?void 0:l.page},rowKey:e=>e.key,onChange:function(e,t,a){const{pageSize:l,current:s}=e,{field:d,order:n}=a,c=(0,z.c)(n);T((0,S.MH)({activeMenu:B,data:{...B.data,perPage:l,page:s,column:d,sort:c}}))},loading:K}),(0,q.jsx)(C.c,{click:()=>{k(!0);const e={...Object.assign({},...O.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};D.c.delete(e).then((()=>{y.m4.success(u("successfully.deleted")),T((0,F.WS)(U)),m(!1)})).finally((()=>k(!1)))},text:u("delete"),setText:P,loading:b}),(0,q.jsxs)(f.default,{title:u("reject.message"),closable:!1,visible:I,footer:null,centered:!0,children:[(0,q.jsx)("p",{children:V}),(0,q.jsx)("div",{className:"d-flex justify-content-end",children:(0,q.jsx)(x.c,{type:"primary",className:"mr-2",onClick:()=>N(!1),children:u("close")})})]})]})}function L(){var e;const{t:t}=(0,s.G)(),a=(0,d.IT)();return(0,q.jsxs)(l.default,{defaultActiveKey:(null===(e=a.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,q.jsx)(l.default.TabPane,{tab:t("product.list"),children:(0,q.jsx)(K,{})},"list"),(0,q.jsx)(l.default.TabPane,{tab:t("requests"),children:(0,q.jsx)(J,{})},"request")]})}},55512:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(30800),s=a(99584);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var n=a(47164),c=function(e,t){return s.createElement(n.c,(0,l.c)((0,l.c)({},e),{},{ref:t,icon:d}))};c.displayName="TableOutlined";const o=s.forwardRef(c)}}]);