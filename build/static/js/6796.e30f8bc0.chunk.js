"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6796],{1428:(e,l,t)=>{t.d(l,{c:()=>o});t(99584);var a=t(87228),s=t(59424),n=t(61072),c=t(65236),i=t(75088),d=t(97884);function o(e){let{size:l="",onClick:t,type:o="default",...r}=e;const{t:u}=(0,c.G)(),{isDemo:h}=(0,i.c)();return(0,d.jsx)(a.c,{size:l,icon:(0,d.jsx)(s.c,{}),onClick:e=>{h?n.m4.warning(u("cannot.work.demo")):t(e)},type:o,...r})}},53992:(e,l,t)=>{t.d(l,{c:()=>p});var a=t(99584),s=t(49308),n=t(92200),c=t(66296),i=t(26012),d=t(72192),o=t(35928),r=t(87228),u=t(55512),h=t(65236),m=t(97884);const{Text:v}=s.default,p=e=>{let{columns:l=[],setColumns:t,style:s,size:p="",iconOnly:x}=e;const{t:f}=(0,h.G)(),[j,g]=(0,a.useState)(!1),b=(0,m.jsx)(n.c,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,m.jsx)(n.c.Item,{children:(0,m.jsxs)(c.c,{className:"d-flex justify-content-between",children:[(0,m.jsx)(v,{children:e.title}),(0,m.jsx)(i.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(a)}(e),disabled:1===a})]})},e+a)))});return(0,m.jsx)(d.c,{overlay:b,trigger:["click"],onVisibleChange:e=>{g(e)},visible:j,children:(0,m.jsx)(o.c,{title:f("change.columns"),children:(0,m.jsx)(r.c,{style:{...s},size:p,icon:(0,m.jsx)(u.c,{}),children:x?null:f("Columns")})})})}},64408:(e,l,t)=>{function a(e){var l,t;let a=null===e||void 0===e?void 0:e.slice(0,1),s=null===e||void 0===e?void 0:e.lastIndexOf("@"),n=null===e||void 0===e?void 0:e.slice(1,s-1);n=null===(l=n)||void 0===l?void 0:l.replace(/./g,"*");let c=null===e||void 0===e?void 0:e.slice(s-1,e.length);return null===a||void 0===a||null===(t=a.concat(n))||void 0===t?void 0:t.concat(c)}t.d(l,{c:()=>a})},88200:(e,l,t)=>{t.d(l,{c:()=>d});t(99584);var a=t(95884),s=t(31508),n=t(87228),c=t(65236),i=t(97884);const d=e=>{let{open:l,handleCancel:t,text:d,click:o,loading:r,subTitle:u}=e;const{t:h}=(0,c.G)();return(0,i.jsxs)(a.default,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,i.jsx)(s.cp,{status:"warning",title:d,subTitle:u}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(n.c,{type:"primary",className:"mr-2",onClick:o,loading:r,children:h("yes")}),(0,i.jsx)(n.c,{onClick:()=>t(),children:h("no")})]})]})}},40748:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(99584),s=t(46712),n=t(78816),c=t(6724),i=t(97884);function d(e){let{handleChange:l,defaultValue:t,resetSearch:d,...o}=e;const[r,u]=(0,a.useState)(t),h=(0,a.useMemo)((()=>(0,n.debounce)((e=>{l(e)}),800)),[l]);return(0,a.useEffect)((()=>{u(t)}),[d,t]),(0,i.jsx)(s.default,{value:r,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,i.jsx)(c.c,{}),...o})}},71376:(e,l,t)=>{t.d(l,{g:()=>o});var a=t(99584),s=t(95976),n=t.n(s),c=t(2664),i=t(37728),d=t(97884);const o=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:s,...o}=e;const[r,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)([]),v=(0,a.useMemo)((()=>n()((e=>{m([]),u(!0),l(e).then((e=>{m(e),u(!1)}))}),t)),[l,t]);return(0,d.jsx)(c.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:v,onClear:()=>{v(""),s&&s()},notFoundContent:r?(0,d.jsx)(i.c,{size:"small"}):"no results",...o,options:h,onFocus:()=>{v("")}})}},19576:(e,l,t)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{c:()=>a})},24968:(e,l,t)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}t.d(l,{c:()=>a})},16796:(e,l,t)=>{t.r(l),t.d(l,{default:()=>P});var a=t(99584),s=t(98948),n=t(73580),c=t(36668),i=t(59424),d=t(3952),o=t(84616),r=t(66296),u=t(87228),h=t(35928),m=t(68496),v=t(15752),p=t(23424),x=t(74788),f=t(32712),j=t(18896),g=t(65236),b=t(19576),y=t(68256),C=t(41752),w=t(58036),k=t(57325),S=t(40748),I=t(53992),_=t(1428),z=t(61072),V=t(98016),H=t(46003),N=t(63080),M=t(88200),O=t(42080),q=t(75088),G=t(97884);const{TabPane:T}=o.default,E=["published","deleted_at"],P=()=>{var e,l,t,P,F,R,B;const{t:K}=(0,g.G)(),D=(0,f.OY)(),W=(0,p.i6)(),[A,Y]=(0,a.useState)(null),[$,U]=(0,a.useState)(null),{setIsModalVisible:J}=(0,a.useContext)(V.e),[L,Q]=(0,a.useState)(!1),{activeMenu:X}=(0,f.w1)((e=>e.menu),f.G),{clients:Z,loading:ee,meta:le,params:te}=(0,f.w1)((e=>e.client),f.G),{isDemo:ae}=(0,q.c)(),[se,ne]=(0,a.useState)(null),[ce,ie]=(0,a.useState)(null),[de,oe]=(0,a.useState)(null),[re,ue]=(0,a.useState)("published"),he=(null===(e=X.data)||void 0===e?void 0:e.role)||re,me=X.data,ve={sort:null===me||void 0===me?void 0:me.sort,column:null===me||void 0===me?void 0:me.column,perPage:null===me||void 0===me?void 0:me.perPage,page:null===me||void 0===me?void 0:me.page,search:null===me||void 0===me?void 0:me.search,status:"deleted_at"===he?null:he||"published",deleted_at:"deleted_at"===he?he:null},[pe,xe]=(0,a.useState)([{title:K("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:K("firstname"),dataIndex:"firstname",key:"firstname",is_show:!0},{title:K("lastname"),dataIndex:"lastname",key:"lastname",is_show:!0},{title:K("email"),dataIndex:"email",key:"email",is_show:!0,render:e=>(0,G.jsx)("div",{children:ae?"":e})},{title:K("role"),dataIndex:"role",key:"role",is_show:!0},{title:K("options"),dataIndex:"options",key:"options",is_show:!0,render:(e,l)=>(0,G.jsxs)(r.c,{children:[(0,G.jsx)(u.c,{disabled:l.deleted_at,icon:(0,G.jsx)(s.c,{}),onClick:()=>(e=>{D((0,j.WC)({url:"users/user/".concat(e.uuid),id:"user_info",name:K("user.info")})),W("/users/user/".concat(e.uuid),{state:{user_id:e.id}})})(l)}),(0,G.jsx)(u.c,{icon:(0,G.jsx)(n.c,{}),onClick:()=>ne(l.uuid),disabled:l.deleted_at}),(0,G.jsx)(u.c,{type:"primary",icon:(0,G.jsx)(c.c,{}),onClick:()=>(e=>{D((0,j.WC)({url:"user/".concat(e.uuid),id:"user_edit",name:"User edit"})),W("/user/".concat(e.uuid),{state:"user"})})(l),disabled:l.deleted_at}),(0,G.jsx)(h.c,{title:K("change.user.role"),children:(0,G.jsx)(u.c,{disabled:l.deleted_at,onClick:()=>ie(l),icon:(0,G.jsx)(x.Epo,{})})}),(0,G.jsx)(_.c,{disabled:l.deleted_at,icon:(0,G.jsx)(i.c,{}),onClick:()=>{Y([l.id]),J(!0),U(!0)}})]})}]);(0,a.useEffect)((()=>{X.refetch&&(D((0,k.qS)(ve)),D((0,j.CO)(X)))}),[X.refetch]),(0,y.c)((()=>{D((0,k.qS)(ve))}),[X.data]);const fe=e=>{const l=X.data;D((0,j.MH)({activeMenu:X,data:{...l,...e}}))},je={selectedRowKeys:A,onChange:e=>{Y(e)}};return(0,G.jsxs)(m.default,{title:K("clients"),extra:(0,G.jsxs)(r.c,{wrap:!0,children:["deleted_at"!==(null===(l=X.data)||void 0===l?void 0:l.role)?(0,G.jsxs)(r.c,{children:[(0,G.jsx)(u.c,{type:"primary",icon:(0,G.jsx)(d.c,{}),onClick:()=>{D((0,j.WC)({id:"user-add",url:"user/add",name:K("add.client")})),W("/user/add")},children:K("add.client")}),(0,G.jsx)(_.c,{size:"",onClick:()=>{null===A||0===A.length?z.m4.warning(K("select.the.product")):(J(!0),U(!1))},children:K("delete.selected")}),(0,G.jsx)(_.c,{onClick:()=>oe({delete:!0}),children:K("delete.all")})]}):(0,G.jsx)(_.c,{icon:(0,G.jsx)(x.icK,{className:"mr-2"}),onClick:()=>oe({restore:!0}),children:K("restore.all")}),(0,G.jsx)(I.c,{columns:pe,setColumns:xe})]}),children:[(0,G.jsx)("div",{className:"d-flex justify-content-between",children:(0,G.jsx)(S.c,{placeholder:K("search"),className:"w-25",handleChange:e=>fe({search:e}),defaultValue:null===(t=X.data)||void 0===t?void 0:t.search,resetSearch:!(null!==(P=X.data)&&void 0!==P&&P.search)})}),(0,G.jsx)(o.default,{className:"mt-3",scroll:{x:!0},activeKey:he,onChange:e=>{fe({role:e,page:1}),ue(e)},type:"card",children:E.map((e=>(0,G.jsx)(T,{tab:K(e)},e)))}),(0,G.jsx)(v.c,{scroll:{x:!0},rowSelection:je,columns:null===pe||void 0===pe?void 0:pe.filter((e=>e.is_show)),dataSource:Z,loading:ee,pagination:{pageSize:te.perPage,page:(null===(F=X.data)||void 0===F?void 0:F.page)||1,total:le.total,defaultCurrent:null===(R=X.data)||void 0===R?void 0:R.page,current:null===(B=X.data)||void 0===B?void 0:B.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:a,current:s}=e,{field:n,order:c}=t,i=(0,b.c)(c);D((0,j.MH)({activeMenu:X,data:{...X.data,perPage:a,page:s,column:n,sort:i}}))}}),(0,G.jsx)(H.c,{click:()=>{Q(!0);const e={...Object.assign({},...A.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};N.c.delete(e).then((()=>{z.m4.success(K("successfully.deleted")),D((0,k.qS)(ve)),J(!1),U([])})).finally((()=>{Y(null),Q(!1)}))},text:K($?"delete":"all.delete"),loading:L,setText:Y}),se&&(0,G.jsx)(C.c,{uuid:se,handleCancel:()=>ne(null)}),ce&&(0,G.jsx)(w.c,{data:ce,handleCancel:()=>ie(null)}),de&&(0,G.jsx)(M.c,{open:de,handleCancel:()=>oe(null),click:de.restore?()=>{Q(!0),O.c.restoreAll().then((()=>{z.m4.success(K("successfully.restored")),D((0,k.qS)(ve)),oe(null)})).finally((()=>Q(!1)))}:()=>{Q(!0),O.c.dropAll().then((()=>{z.m4.success(K("successfully.deleted")),D((0,k.qS)()),oe(null)})).finally((()=>Q(!1)))},text:de.restore?K("restore.modal.text"):K("read.carefully"),subTitle:de.restore?"":K("confirm.deletion"),loading:L,setText:U})]})}},58036:(e,l,t)=>{t.d(l,{c:()=>f});var a=t(99584),s=t(65732),n=t(95884),c=t(87228),i=t(2664),d=t(42080),o=t(32712),r=t(2272),u=t(61072),h=t(65236),m=t(57325),v=t(71376),p=t(48820),x=t(97884);function f(e){let{data:l,handleCancel:t}=e;const{t:f}=(0,h.G)(),[j]=s.c.useForm(),g=(0,o.OY)(),[b,y]=(0,a.useState)(!1),[C,w]=(0,a.useState)(l.role),{user:k}=(0,o.w1)((e=>e.auth),o.G),S=[{label:f("user"),value:"user",key:1},{label:f("manager"),value:"manager",key:2},{label:f("moderator"),value:"moderator",key:3}],I=[{label:f("user"),value:"user",key:4},{label:f("moderator"),value:"moderator",key:5}];return(0,x.jsx)(n.default,{visible:!!l,title:f("change.user.role"),onCancel:t,footer:[(0,x.jsx)(c.c,{type:"primary",onClick:()=>j.submit(),loading:b,children:f("save")}),(0,x.jsx)(c.c,{type:"default",onClick:t,children:f("cancel")})],children:(0,x.jsxs)(s.c,{layout:"vertical",name:"user-role",form:j,onFinish:e=>{!function(e,a){y(!0),d.c.updateRole(e,{role:a}).then((()=>{u.m4.success(f("successfully.updated")),"user"===l.role?g((0,m.qS)()):g((0,r.y6)({role:l.role})),t()})).finally((()=>y(!1)))}(l.uuid,e.role)},initialValues:l,children:[(0,x.jsx)(s.c.Item,{name:"role",label:f("role"),rules:[{required:!0,message:f("required")}],children:(0,x.jsx)(i.default,{className:"w-100",options:"manager"===k.role?I:S,onChange:e=>w(e)})}),"manager"!==C&&"user"!==C?(0,x.jsx)(s.c.Item,{label:f("shop"),name:"shop_id",rules:[{required:!0,message:f("required")}],children:(0,x.jsx)(v.g,{className:"w-100",placeholder:f("select.shop"),fetchOptions:async function(e){const l={search:e,status:"approved"};return p.c.search(l).then((e=>e.data.map((e=>({label:null!==e.translation?e.translation.title:"no name",value:e.id})))))},allowClear:!1})}):void 0]})})}},41752:(e,l,t)=>{t.d(l,{c:()=>g});var a=t(99584),s=t(95884),n=t(87228),c=t(68768),i=t(10260),d=t(37564),o=t(87968),r=t(42080),u=t(71836),h=t(65236),m=t(77180),v=t(32712),p=t(24968),x=t(75088),f=t(64408),j=t(97884);function g(e){var l,t,g;let{uuid:b,handleCancel:y}=e;const[C,w]=(0,a.useState)({}),[k,S]=(0,a.useState)(!1),{t:I}=(0,h.G)(),{defaultCurrency:_}=(0,v.w1)((e=>e.currency),v.G),{isDemo:z}=(0,x.c)();return(0,a.useEffect)((()=>{!function(e){S(!0),r.c.getById(e).then((e=>w(e.data))).finally((()=>S(!1)))}(b)}),[b]),(0,j.jsx)(s.default,{visible:!!b,title:I("user"),onCancel:y,footer:[(0,j.jsx)(n.c,{type:"default",onClick:y,children:I("cancel")},"cancel")],className:C.shop?"large-modal":"",children:k?(0,j.jsx)(m.c,{}):(0,j.jsxs)(c.c,{gutter:24,children:[(0,j.jsx)(i.c,{span:C.shop?12:24,children:(0,j.jsxs)(d.c,{bordered:!0,children:[(0,j.jsx)(d.c.Item,{span:3,label:I("avatar"),children:(0,j.jsx)(o.c,{src:(0,u.c)(C.img),alt:C.firstname,width:80,className:"rounded"})}),(0,j.jsx)(d.c.Item,{span:3,label:I("user.id"),children:C.id}),(0,j.jsxs)(d.c.Item,{span:3,label:I("name"),children:[C.firstname," ",C.lastname||""]}),(0,j.jsx)(d.c.Item,{span:3,label:I("gender"),children:C.gender}),(0,j.jsx)(d.c.Item,{span:3,label:I("birthday"),children:C.birthday}),(0,j.jsx)(d.c.Item,{span:3,label:I("email"),children:z?(0,f.c)(null===C||void 0===C?void 0:C.email):null===C||void 0===C?void 0:C.email}),(0,j.jsx)(d.c.Item,{span:3,label:I("phone"),children:z?"":C.phone}),(0,j.jsx)(d.c.Item,{span:3,label:I("role"),children:C.role}),(0,j.jsx)(d.c.Item,{span:3,label:I("wallet"),children:(0,p.c)(null===(l=C.wallet)||void 0===l?void 0:l.price,null===_||void 0===_?void 0:_.symbol)})]})}),C.shop?(0,j.jsx)(i.c,{span:12,children:(0,j.jsxs)(d.c,{bordered:!0,children:[(0,j.jsx)(d.c.Item,{span:3,label:I("shop.id"),children:C.shop.id}),(0,j.jsx)(d.c.Item,{span:3,label:I("shop.name"),children:null===(t=C.shop.translation)||void 0===t?void 0:t.title}),(0,j.jsx)(d.c.Item,{span:3,label:I("shop.logo"),children:(0,j.jsx)("img",{src:(0,u.c)(C.shop.logo_img),alt:null===(g=C.shop.translation)||void 0===g?void 0:g.title,width:100,className:"rounded"})}),(0,j.jsx)(d.c.Item,{span:3,label:I("shop.phone"),children:C.shop.phone}),(0,j.jsxs)(d.c.Item,{span:3,label:I("shop.open_close.time"),children:[C.shop.open_time," - ",C.shop.close_time]}),(0,j.jsx)(d.c.Item,{span:3,label:I("delivery.range"),children:C.shop.delivery_range})]})}):""]})})}},73580:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(30800),s=t(99584);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"};var c=t(47164),i=function(e,l){return s.createElement(c.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:n}))};i.displayName="ExpandOutlined";const d=s.forwardRef(i)},3952:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(30800),s=t(99584);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var c=t(47164),i=function(e,l){return s.createElement(c.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:n}))};i.displayName="PlusCircleOutlined";const d=s.forwardRef(i)},55512:(e,l,t)=>{t.d(l,{c:()=>d});var a=t(30800),s=t(99584);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var c=t(47164),i=function(e,l){return s.createElement(c.c,(0,a.c)((0,a.c)({},e),{},{ref:l,icon:n}))};i.displayName="TableOutlined";const d=s.forwardRef(i)}}]);