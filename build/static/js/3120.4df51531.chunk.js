"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3120],{424:(e,t,n)=>{n.d(t,{c:()=>s});var a=n(99584),l=n(79416),c=n(32712),r=n(51840),o=n(48376),i=n(97884);const s=()=>{const e=(0,c.OY)(),{languages:t,defaultLang:n}=(0,c.w1)((e=>e.formLang),c.G);(0,a.useEffect)((()=>{o.c.getAllActive().then((t=>{let{data:n}=t;e((0,r.Up)(n)),e((0,r.uY)(n.find((e=>1===e.default)).locale))}))}),[]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.cp.Group,{value:n,onChange:t=>{let{target:{value:n}}=t;e((0,r.uY)(n))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((e=>(0,i.jsx)(l.cp.Button,{value:e.locale,children:e.title},e.id)))})})}},71376:(e,t,n)=>{n.d(t,{g:()=>s});var a=n(99584),l=n(95976),c=n.n(l),r=n(2664),o=n(37728),i=n(97884);const s=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:l,...s}=e;const[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)([]),v=(0,a.useMemo)((()=>c()((e=>{m([]),u(!0),t(e).then((e=>{m(e),u(!1)}))}),n)),[t,n]);return(0,i.jsx)(r.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:v,onClear:()=>{v(""),l&&l()},notFoundContent:d?(0,i.jsx)(o.c,{size:"small"}):"no results",...s,options:p,onFocus:()=>{v("")}})}},62296:(e,t,n)=>{n.d(t,{c:()=>h});var a=n(99584),l=n(37564),c=n(66296),r=n(87228),o=n(37728),i=n(32712),s=n(23424),d=n(18896),u=n(65236),p=n(10580),m=n(82416),v=n(97884);const h=e=>{var t,n,h;let{prev:f}=e;const{t:x}=(0,u.G)(),{activeMenu:y}=(0,i.w1)((e=>e.menu),i.G),{defaultLang:b,languages:j}=(0,i.w1)((e=>e.formLang),i.G),g=(0,s.i6)(),k=(0,i.OY)(),[C,w]=(0,a.useState)({}),[E,P]=(0,a.useState)(null),{uuid:I}=(0,s.W4)(),{params:O}=(0,i.w1)((e=>e.addons),i.G);function q(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,n=j.map((e=>{var n,a;return{["title[".concat(e.locale,"]")]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.title,["description[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.description}}));return Object.assign({},...n)}return(0,a.useEffect)((()=>{!function(e){P(!0),p.c.getById(e).then((e=>{const t={...e.data,...q(e.data),properties:e.data.properties.map(((e,t)=>({id:t,["key[".concat(e.locale,"]")]:e.key,["value[".concat(e.locale,"]")]:e.value}))),translation:void 0,translations:void 0};w(t)})).finally((()=>P(!1)))}(I)}),[]),E?(0,v.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,v.jsx)(o.c,{size:"large",className:"py-5"})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(l.c,{title:x("product.info"),bordered:!0,children:[(0,v.jsx)(l.c.Item,{label:"".concat(x("title")," (").concat(b,")"),span:3,children:C["title[".concat(b,"]")]}),(0,v.jsx)(l.c.Item,{label:"".concat(x("description")," (").concat(b,")"),span:3,children:C["description[".concat(b,"]")]}),(0,v.jsx)(l.c.Item,{label:x("shop"),span:1.5,children:null===(t=C.shop)||void 0===t?void 0:t.translation.title}),(0,v.jsx)(l.c.Item,{label:x("unit"),span:1.5,children:null===(n=C.unit)||void 0===n?void 0:n.translation.title}),(0,v.jsx)(l.c.Item,{label:x("tax"),children:C.tax}),(0,v.jsx)(l.c.Item,{label:x("min.quantity"),children:C.min_qty}),(0,v.jsx)(l.c.Item,{label:x("max.quantity"),children:C.max_qty})]}),null===(h=C.stocks)||void 0===h?void 0:h.map(((e,t)=>e?(0,v.jsxs)(l.c,{bordered:!0,className:"mt-4",children:[(0,v.jsx)(l.c.Item,{label:x("price"),span:2,children:e.price}),(0,v.jsx)(l.c.Item,{label:x("quantity"),span:2,children:e.quantity}),e.extras.map(((e,t)=>{var n,a;return(0,v.jsx)(l.c.Item,{label:null===e||void 0===e||null===(n=e.group)||void 0===n||null===(a=n.translation)||void 0===a?void 0:a.title,children:null===e||void 0===e?void 0:e.value},"extra"+t)}))]},"desc"+t):"")),(0,v.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,v.jsxs)(c.c,{wrap:!0,children:[(0,v.jsx)(r.c,{onClick:f,children:x("prev")}),(0,v.jsx)(r.c,{type:"primary",onClick:function(){const e={status:void 0,...O},t="catalog/addons";k((0,d.MF)({...y,nextUrl:t})),k((0,m.yc)(e)),g("/".concat(t))},children:x("finish")})]})})]})}},61724:(e,t,n)=>{n.d(t,{c:()=>C});var a=n(99584),l=n(65732),c=n(68768),r=n(10260),o=n(68496),i=n(46712),s=n(10240),d=n(26012),u=n(2664),p=n(87228),m=n(71376),v=n(48820),h=n(32712),f=n(10580),x=n(18896),y=n(68408),b=n(23424),j=n(65236),g=n(82168),k=n(97884);const C=e=>{let{next:t,action_type:n=""}=e;const{t:C}=(0,j.G)(),[w]=l.c.useForm(),E=(0,h.OY)(),{uuid:P}=(0,b.W4)(),I=(0,b.i6)(),[O,q]=(0,a.useState)(null),{activeMenu:N}=(0,h.w1)((e=>e.menu),h.G),{defaultLang:F,languages:M}=(0,h.w1)((e=>e.formLang),h.G),[S,K]=(0,a.useState)(!1),[G,L]=(0,a.useState)([]);(0,a.useEffect)((()=>()=>{const e=w.getFieldsValue(!0);E((0,x.MH)({activeMenu:N,data:{...N.data,...e}}))}),[]);return(0,a.useEffect)((()=>{y.c.getAll({perPage:100,page:1,active:1}).then((e=>{let{data:t}=e;return L(function(e){return e.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}(t))}))}),[]),(0,k.jsxs)(l.c,{layout:"vertical",form:w,initialValues:{active:!0,...N.data},onFinish:e=>{var a,l;K(!0);const c={...e,min_qty:1,max_qty:1e3,active:Number(e.active),shop_id:null===(a=e.shop)||void 0===a?void 0:a.value,unit_id:null===(l=e.unit)||void 0===l?void 0:l.value,unit:void 0,addon:Number(1),shop:void 0};"edit"===n?function(e,n){f.c.update(P,n).then((()=>{E((0,x.MH)({activeMenu:N,data:e})),t()})).catch((e=>q(e.response.data.params))).finally((()=>K(!1)))}(e,c):function(e,t){f.c.create(t).then((t=>{let{data:n}=t;E((0,x.Ke)({id:"product-".concat(n.uuid),url:"product/".concat(n.uuid),name:C("add.product"),data:e,refetch:!1})),I("/addon/".concat(n.uuid,"?step=1"))})).catch((e=>q(e.response.data.params))).finally((()=>K(!1)))}(e,c)},className:"addon-menu",children:[(0,k.jsxs)(c.c,{gutter:12,children:[(0,k.jsx)(r.c,{xs:24,sm:24,md:16,children:(0,k.jsx)(o.default,{title:C("basic.info"),children:(0,k.jsxs)(c.c,{gutter:24,children:[(0,k.jsx)(r.c,{span:24,children:M.map((e=>(0,k.jsx)(l.c.Item,{label:C("name"),name:"title[".concat(e.locale,"]"),rules:[{validator:(t,n)=>n||(null===e||void 0===e?void 0:e.locale)!==F?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(C("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(C("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(C("required")))}],hidden:e.locale!==F,children:(0,k.jsx)(i.default,{})},"name"+e.id)))}),(0,k.jsx)(r.c,{span:24,children:M.map((e=>(0,k.jsx)(l.c.Item,{label:C("description"),name:"description[".concat(e.locale,"]"),rules:[{validator:(t,n)=>n||(null===e||void 0===e?void 0:e.locale)!==F?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(C("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<5?Promise.reject(new Error(C("must.be.at.least.5"))):Promise.resolve():Promise.reject(new Error(C("required")))}],hidden:e.locale!==F,children:(0,k.jsx)(g.c,{rows:4,span:4})},"description"+e.id)))}),(0,k.jsx)(r.c,{span:12,children:(0,k.jsx)(l.c.Item,{label:C("tax"),name:"tax",rules:[{validator:(e,t)=>t||0===t?t&&(t<0||t>100)?Promise.reject(new Error(C("must.be.between.0.and.100"))):Promise.resolve():Promise.reject(new Error(C("required")))}],children:(0,k.jsx)(s.c,{className:"w-100",addonAfter:"%"})})}),(0,k.jsx)(r.c,{span:12,children:(0,k.jsx)(l.c.Item,{label:C("active"),name:"active",valuePropName:"checked",children:(0,k.jsx)(d.c,{})})})]})})}),(0,k.jsxs)(r.c,{xs:24,sm:24,md:8,children:[(0,k.jsx)(o.default,{title:C("shop/restaurant"),children:(0,k.jsx)(l.c.Item,{name:"shop",rules:[{required:!0,message:C("required")}],children:(0,k.jsx)(m.g,{fetchOptions:async function(e){const t={search:e};return v.c.get(t).then((e=>e.data.map((e=>({label:e.translation?e.translation.title:"no name",value:e.id})))))},disabled:"edit"===n})})}),(0,k.jsx)(o.default,{title:C("addition"),children:(0,k.jsx)(l.c.Item,{label:C("unit"),name:"unit",rules:[{required:!0,message:C("required")}],children:(0,k.jsx)(u.default,{labelInValue:!0,filterOption:!1,options:G})})})]})]}),(0,k.jsx)(p.c,{type:"primary",htmlType:"submit",loading:S,children:C("next")})]})}},56784:(e,t,n)=>{n.d(t,{c:()=>x});var a=n(99584),l=n(65732),c=n(68768),r=n(10260),o=n(10240),i=n(46712),s=n(66296),d=n(87228),u=n(32712),p=n(10580),m=n(65236),v=n(23424),h=n(18896),f=n(97884);const x=e=>{let{prev:t,next:n,current:x}=e;const{t:y}=(0,m.G)(),[b]=l.c.useForm(),{uuid:j}=(0,v.W4)(),{activeMenu:g}=(0,u.w1)((e=>e.menu),u.G),[k,C]=(0,a.useState)(null),w=(0,u.OY)();return(0,a.useEffect)((()=>{var e,t,n,a,l,c;w((0,h.A1)(g)),b.setFieldsValue({price:null!==(e=g.data)&&void 0!==e&&null!==(t=e.stocks)&&void 0!==t&&t.length?g.data.stocks[0].price:[],quantity:null!==(n=g.data)&&void 0!==n&&null!==(a=n.stocks)&&void 0!==a&&a.length?g.data.stocks[0].quantity:[],sku:null!==(l=g.data)&&void 0!==l&&null!==(c=l.stocks)&&void 0!==c&&c.length?g.data.stocks[0].sku:[]})}),[]),(0,f.jsxs)(l.c,{layout:"vertical",form:b,onFinish:e=>{let t;C(!0),t=[{price:e.price,quantity:e.quantity,sku:e.sku}],p.c.stocks(j,{extras:t}).then((()=>n())).finally((()=>C(!1)))},children:[(0,f.jsxs)(c.c,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},children:[(0,f.jsx)(r.c,{children:(0,f.jsx)(l.c.Item,{label:y("price"),name:"price",rules:[{required:!0,message:y("required")}],children:(0,f.jsx)(o.c,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,f.jsx)(r.c,{children:(0,f.jsx)(l.c.Item,{label:y("quantity"),name:"quantity",rules:[{required:!0,message:y("required")}],children:(0,f.jsx)(o.c,{min:1,className:"w-100",style:{minWidth:200}})})}),(0,f.jsx)(r.c,{children:(0,f.jsx)(l.c.Item,{label:y("sku"),name:"sku",children:(0,f.jsx)(i.default,{style:{minWidth:200}})})})]}),(0,f.jsxs)(s.c,{className:"mt-4",children:[(0,f.jsx)(d.c,{onClick:t,children:y("prev")}),(0,f.jsx)(d.c,{type:"primary",htmlType:"submit",loading:!!k,children:y("next")})]})]})}},520:(e,t,n)=>{n.d(t,{C:()=>a});const a=[{title:"addons",content:"First-content"},{title:"stocks",content:"Third-content"},{title:"finish",content:"Finish-content"}]},79416:(e,t,n)=>{n.d(t,{cp:()=>F});var a=n(52536),l=n(45072),c=n(99584),r=n(76436),o=n(46736),i=n.n(o),s=n(71072),d=n(93500),u=n(67648),p=c.createContext(null),m=p.Provider;const v=p;var h=c.createContext(null),f=h.Provider,x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},y=function(e,t){var n,o=c.useContext(v),p=c.useContext(h),m=c.useContext(u.MT),f=m.getPrefixCls,y=m.direction,b=c.useRef(),j=(0,s.qC)(t,b),g=(0,c.useContext)(d.A9).isFormItemInput,k=e.prefixCls,C=e.className,w=e.children,E=e.style,P=x(e,["prefixCls","className","children","style"]),I=f("radio",k),O="button"===((null===o||void 0===o?void 0:o.optionType)||p)?"".concat(I,"-button"):I,q=(0,l.c)({},P);o&&(q.name=o.name,q.onChange=function(t){var n,a;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(a=null===o||void 0===o?void 0:o.onChange)||void 0===a||a.call(o,t)},q.checked=e.value===o.value,q.disabled=e.disabled||o.disabled);var N=i()("".concat(O,"-wrapper"),(n={},(0,a.c)(n,"".concat(O,"-wrapper-checked"),q.checked),(0,a.c)(n,"".concat(O,"-wrapper-disabled"),q.disabled),(0,a.c)(n,"".concat(O,"-wrapper-rtl"),"rtl"===y),(0,a.c)(n,"".concat(O,"-wrapper-in-form-item"),g),n),C);return c.createElement("label",{className:N,style:E,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},c.createElement(r.c,(0,l.c)({},q,{type:"radio",prefixCls:O,ref:j})),void 0!==w?c.createElement("span",null,w):null)},b=c.forwardRef(y);b.displayName="Radio";const j=b;var g=n(32920),k=n(68576),C=n(62672),w=n(45792),E=c.forwardRef((function(e,t){var n=c.useContext(u.MT),r=n.getPrefixCls,o=n.direction,s=c.useContext(C.c),d=(0,k.c)(e.defaultValue,{value:e.value}),p=(0,g.c)(d,2),v=p[0],h=p[1];return c.createElement(m,{value:{onChange:function(t){var n=v,a=t.target.value;"value"in e||h(a);var l=e.onChange;l&&a!==n&&l(t)},value:v,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var n,d=e.prefixCls,u=e.className,p=void 0===u?"":u,m=e.options,h=e.buttonStyle,f=void 0===h?"outline":h,x=e.disabled,y=e.children,b=e.size,g=e.style,k=e.id,C=e.onMouseEnter,E=e.onMouseLeave,P=r("radio",d),I="".concat(P,"-group"),O=y;m&&m.length>0&&(O=m.map((function(e){return"string"===typeof e||"number"===typeof e?c.createElement(j,{key:e.toString(),prefixCls:P,disabled:x,value:e,checked:v===e},e):c.createElement(j,{key:"radio-group-value-options-".concat(e.value),prefixCls:P,disabled:e.disabled||x,value:e.value,checked:v===e.value,style:e.style},e.label)})));var q=b||s,N=i()(I,"".concat(I,"-").concat(f),(n={},(0,a.c)(n,"".concat(I,"-").concat(q),q),(0,a.c)(n,"".concat(I,"-rtl"),"rtl"===o),n),p);return c.createElement("div",(0,l.c)({},(0,w.c)(e),{className:N,style:g,onMouseEnter:C,onMouseLeave:E,id:k,ref:t}),O)}())}));const P=c.memo(E);var I=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},O=function(e,t){var n=c.useContext(u.MT).getPrefixCls,a=e.prefixCls,r=I(e,["prefixCls"]),o=n("radio",a);return c.createElement(f,{value:"button"},c.createElement(j,(0,l.c)({prefixCls:o},r,{type:"radio",ref:t})))};const q=c.forwardRef(O);var N=j;N.Button=q,N.Group=P;const F=N},76436:(e,t,n)=>{n.d(t,{c:()=>h});var a=n(45072),l=n(52536),c=n(31024),r=n(30800),o=n(87088),i=n(92920),s=n(62988),d=n(33504),u=n(99584),p=n(46736),m=n.n(p),v=function(e){(0,s.c)(n,e);var t=(0,d.c)(n);function n(e){var a;(0,o.c)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,l=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),l&&l({target:(0,r.c)((0,r.c)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var l="checked"in e?e.checked:e.defaultChecked;return a.state={checked:l},a}return(0,i.c)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=t.style,i=t.name,s=t.id,d=t.type,p=t.disabled,v=t.readOnly,h=t.tabIndex,f=t.onClick,x=t.onFocus,y=t.onBlur,b=t.onKeyDown,j=t.onKeyPress,g=t.onKeyUp,k=t.autoFocus,C=t.value,w=t.required,E=(0,c.c)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),P=Object.keys(E).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=E[t]),e}),{}),I=this.state.checked,O=m()(n,r,(e={},(0,l.c)(e,"".concat(n,"-checked"),I),(0,l.c)(e,"".concat(n,"-disabled"),p),e));return u.createElement("span",{className:O,style:o},u.createElement("input",(0,a.c)({name:i,id:s,type:d,required:w,readOnly:v,disabled:p,tabIndex:h,className:"".concat(n,"-input"),checked:!!I,onClick:f,onFocus:x,onBlur:y,onKeyUp:g,onKeyDown:b,onKeyPress:j,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:C},P)),u.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,r.c)((0,r.c)({},t),{},{checked:e.checked}):null}}]),n}(u.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const h=v}}]);