(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5804],{20556:(t,e,a)=>{"use strict";a.d(e,{W:()=>s});var i=a(23424),n=a(84620),l=a.n(n);const s=()=>{const t=(0,i.i6)(),e=(0,i.IT)(),a=l().parse(e.search,{ignoreQueryPrefix:!0});return{values:a,set:(e,i)=>t({search:l().stringify({...a,[e]:i})}),reset:e=>{const i={...a};i[e]&&delete i[e],t({search:l().stringify({...i})})},clear:()=>t({search:l().stringify({})}),merge:e=>t({search:l().stringify({...a,...e})})}}},87832:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>y});var i=a(99584),n=a(47868),l=a(67692),s=a(68496),r=a(37728),o=a(79e3),d=a(96756),c=a(21203),u=a(48800),v=a(80928),p=a(424),g=a(23424),x=a(31e3),h=a(32712),f=a(18896),m=a(65236),_=a(20556),b=a(97884);const{Step:j}=l.default,y=()=>{var t;const{t:e}=(0,m.G)(),{uuid:a}=(0,g.W4)(),y=(0,_.W)(),{activeMenu:k}=(0,h.w1)((t=>t.menu),h.G),{languages:C}=(0,h.w1)((t=>t.formLang),h.G),M=(0,h.OY)(),O=Number((null===(t=y.values)||void 0===t?void 0:t.step)||0),[w,F]=(0,i.useState)(k.refetch),N=()=>{const t=O+1;y.set("step",t)},E=()=>{const t=O-1;y.set("step",t)},G=t=>t?{label:t.translation?t.translation.title:t.title,value:t.id}:null;function S(t){if(null===t||void 0===t||!t.translations)return{};const{translations:e}=t,a=C.map((t=>{var a,i;return{["title[".concat(t.locale,"]")]:null===(a=e.find((e=>e.locale===t.locale)))||void 0===a?void 0:a.title,["description[".concat(t.locale,"]")]:null===(i=e.find((e=>e.locale===t.locale)))||void 0===i?void 0:i.description}}));return Object.assign({},...a)}(0,i.useEffect)((()=>{!function(t){F(!0),x.c.getById(t).then((t=>{const e={};t.data.stocks.forEach((t=>{t.extras.forEach((a=>{var i,n,l,s,r,o,d;a.extra_group_id in e?null!==(i=e[a.extra_group_id].values)&&void 0!==i&&i.some((t=>t.value===a.id))||null===(n=e[a.extra_group_id].values)||void 0===n||n.push({value:a.id,label:a.value,stock_id:t.id,group:null===(l=a.group)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title}):e[a.extra_group_id]={label:null===(r=a.group.translation)||void 0===r?void 0:r.title,value:a.extra_group_id,id:a.extra_group_id,stock_id:t.id,values:[{value:a.id,label:a.value,stock_id:t.id,group:null===(o=a.group)||void 0===o||null===(d=o.translation)||void 0===d?void 0:d.title}]}}))}));const a={...t.data,...S(t.data),category:G(t.data.category),brand:G(t.data.brand),unit:G(t.data.unit),images:(i=t.data.galleries,i.map((t=>({uid:t.id,name:t.path,url:t.path})))),product_id:t.data.id,extras:Object.values(e),stocks:t.data.stocks.map((t=>({...t,...Object.assign({},...t.extras.map(((t,e)=>{var a;return{["extras[".concat(e,"]")]:{label:t.value,value:t.id,group:null===(a=t.group.translation)||void 0===a?void 0:a.title}}}))),quantity:t.quantity||0,extras:void 0}))),properties:t.data.properties.map(((t,e)=>({id:e,["key[".concat(t.locale,"]")]:t.key,["value[".concat(t.locale,"]")]:t.value}))),translation:void 0,translations:void 0};var i;M((0,f.MH)({activeMenu:k,data:a}))})).finally((()=>{F(!1),M((0,f.CO)(k))}))}(a)}),[k.refetch,a]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.default,{title:e("edit.food"),extra:(0,b.jsx)(p.c,{}),children:(0,b.jsx)(l.default,{current:O,onChange:t=>{M((0,f.MH)({activeMenu:k,data:{...k.data,step:t}})),y.set("step",t)},children:n.C.map((t=>(0,b.jsx)(j,{title:e(t.title)},t.title)))})}),w?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(r.c,{size:"large",className:"py-5"})}):(0,b.jsxs)("div",{className:"",children:["First-content"===n.C[O].content&&(0,b.jsx)(v.c,{next:N,action_type:"edit"}),"Second-content"===n.C[O].content&&(0,b.jsx)(u.c,{next:N,prev:E,mode:"edit"}),"Third-content"===n.C[O].content&&(0,b.jsx)(c.c,{next:N,prev:E,mode:"edit"}),"Fourth-content"===n.C[O].content&&(0,b.jsx)(o.c,{next:N,prev:E,mode:"edit"}),"Finish-content"===n.C[O].content&&(0,b.jsx)(d.c,{prev:E,mode:"edit"})]})]})}},16204:()=>{}}]);