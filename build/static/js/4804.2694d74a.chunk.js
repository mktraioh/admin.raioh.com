"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4804],{64408:(e,l,i)=>{function s(e){var l,i;let s=null===e||void 0===e?void 0:e.slice(0,1),d=null===e||void 0===e?void 0:e.lastIndexOf("@"),n=null===e||void 0===e?void 0:e.slice(1,d-1);n=null===(l=n)||void 0===l?void 0:l.replace(/./g,"*");let t=null===e||void 0===e?void 0:e.slice(d-1,e.length);return null===s||void 0===s||null===(i=s.concat(n))||void 0===i?void 0:i.concat(t)}i.d(l,{c:()=>s})},71376:(e,l,i)=>{i.d(l,{g:()=>c});var s=i(99584),d=i(95976),n=i.n(d),t=i(2664),o=i(37728),a=i(97884);const c=e=>{let{fetchOptions:l,debounceTimeout:i=400,onClear:d,...c}=e;const[r,u]=(0,s.useState)(!1),[v,x]=(0,s.useState)([]),m=(0,s.useMemo)((()=>n()((e=>{x([]),u(!0),l(e).then((e=>{x(e),u(!1)}))}),i)),[l,i]);return(0,a.jsx)(t.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),d&&d()},notFoundContent:r?(0,a.jsx)(o.c,{size:"small"}):"no results",...c,options:v,onFocus:()=>{m("")}})}},33131:(e,l,i)=>{i.d(l,{c:()=>s});i(52640);function s(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},24968:(e,l,i)=>{function s(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}i.d(l,{c:()=>s})},74804:(e,l,i)=>{i.r(l),i.d(l,{default:()=>P});var s=i(99584),d=i(66296),n=i(35928),t=i(87968),o=i(68496),a=i(87228),c=i(68768),r=i(10260),u=i(49308),v=i(24100),x=i(67692),m=i(37728),h=i(98044),j=i(15752),p=i(91612),y=i(94604),f=i(30020),g=i(9112),b=i(36668),N=i(23424),_=i(16940),w=i(67148),k=i(71836),Y=i(32712),C=i(18896),S=i(70056),I=i(33300),q=i(97480),M=i(65236),D=i(24968),z=i(89932),G=i(95520),H=i(5008),B=i(6944),F=i(52640),T=i(29416),O=i(26493),K=i(88992),A=i(83072),L=i.n(A),E=i(75088),V=i(64408),W=i(97884);function P(){var e,l,i,A,P,R,U,Z,$,J,Q,X,ee,le,ie,se,de,ne,te,oe,ae,ce,re,ue,ve,xe,me,he,je,pe,ye,fe,ge,be,Ne,_e,we,ke,Ye,Ce,Se;const{activeMenu:Ie}=(0,Y.w1)((e=>e.menu),Y.G),{defaultCurrency:qe}=(0,Y.w1)((e=>e.currency),Y.G),{statusList:Me}=(0,Y.w1)((e=>e.orderStatus),Y.G),De=null===Ie||void 0===Ie||null===(e=Ie.data)||void 0===e?void 0:e.data,{t:ze}=(0,M.G)(),{id:Ge}=(0,N.W4)(),He=(0,Y.OY)(),Be=(0,s.useRef)(),Fe=(0,s.useRef)(),{isDemo:Te}=(0,E.c)(),[Oe,Ke]=(0,s.useState)(!1),[Ae,Le]=(0,s.useState)(null),[Ee,Ve]=(0,s.useState)(null),[We,Pe]=(0,s.useState)(null),{myShop:Re}=(0,Y.w1)((e=>e.myShop),Y.G),Ue=[{title:ze("id"),dataIndex:"id",key:"id",render:(e,l)=>{var i;return null===(i=l.stock)||void 0===i?void 0:i.id}},{title:ze("product.name"),dataIndex:"product",key:"product",render:(e,l)=>{var i,s,t;return(0,W.jsxs)(d.c,{direction:"vertical",className:"relative",children:[null===(i=l.stock)||void 0===i||null===(s=i.product)||void 0===s||null===(t=s.translation)||void 0===t?void 0:t.title,!!l.note&&(0,W.jsx)(n.c,{title:l.note,className:"product-note",children:(0,W.jsx)(f.c,{})})]})}},{title:ze("image"),dataIndex:"img",key:"img",render:(e,l)=>{var i,s;return(0,W.jsx)(t.c,{src:(0,k.c)(null===(i=l.stock)||void 0===i||null===(s=i.product)||void 0===s?void 0:s.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:ze("price"),dataIndex:"origin_price",key:"origin_price",render:e=>(0,D.c)(e,null===qe||void 0===qe?void 0:qe.symbol)},{title:ze("quantity"),dataIndex:"quantity",key:"quantity",render:(e,l)=>{var i,s,d,n,t,o;return(0,W.jsxs)("span",{children:[l.quantity*((null===l||void 0===l||null===(i=l.stock)||void 0===i||null===(s=i.product)||void 0===s?void 0:s.interval)||1),null===l||void 0===l||null===(d=l.stock)||void 0===d||null===(n=d.product)||void 0===n||null===(t=n.unit)||void 0===t||null===(o=t.translation)||void 0===o?void 0:o.title]})}},{title:ze("discount"),dataIndex:"discount",key:"discount",render:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return(0,D.c)(e/l.quantity,null===qe||void 0===qe?void 0:qe.symbol)}},{title:ze("tax"),dataIndex:"tax",key:"tax",render:(e,l)=>(0,D.c)(e/l.quantity,null===qe||void 0===qe?void 0:qe.symbol)},{title:ze("total.price"),dataIndex:"total_price",key:"total_price",render:(e,l)=>{var i;const s=e+(null===l||void 0===l||null===(i=l.addons)||void 0===i?void 0:i.reduce(((e,l)=>e+l.total_price),0));return(0,D.c)(s,null===qe||void 0===qe?void 0:qe.symbol)}}],Ze=[{title:ze("date"),dataIndex:"date",key:"date",render:(e,l)=>L()(null===l||void 0===l?void 0:l.date).format("YYYY-MM-DD HH:mm")},{title:ze("document"),dataIndex:"document",key:"document"},{title:ze("number"),dataIndex:"number",key:"number"},{title:ze("total.price"),dataIndex:"price",key:"price"}],$e=[{price:(0,D.c)(null===De||void 0===De?void 0:De.total_price,qe.symbol),number:(0,W.jsxs)(_.cH,{to:"/seller/generate-invoice/".concat(null===De||void 0===De?void 0:De.id),children:["#",null===De||void 0===De?void 0:De.id]}),document:ze("invoice"),date:L()(null===De||void 0===De||null===(l=De.transaction)||void 0===l?void 0:l.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,W.jsxs)(_.cH,{to:"/seller/generate-invoice/".concat(null===De||void 0===De?void 0:De.id),children:["#",null===De||void 0===De?void 0:De.id]}),document:ze("delivery.reciept"),date:L()(null===De||void 0===De||null===(i=De.transaction)||void 0===i?void 0:i.created_at).format("YYYY-MM-DD HH:mm")}],Je=()=>{Le(null),Ve(null),Pe(null)};(0,s.useEffect)((()=>{const e={shop_id:Re.id};Ie.refetch&&(Ke(!0),w.c.getById(Ge).then((e=>{let{data:l}=e;const i=l.currency,s=l.user,d=l.id,n=l.price,t=l.created_at,o=l.details.map((e=>{var l,i;return{...e,title:null===(l=e.shop)||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title}}));He((0,C.MH)({activeMenu:Ie,data:{details:o,currency:i,user:s,id:d,createdAt:t,price:n,data:l}}))})).finally((()=>{Ke(!1),He((0,C.CO)(Ie))})),He((0,z._c)()),He((0,q.sb)(e)))}),[Ie.refetch]);return(0,W.jsxs)("div",{className:"order_details",children:[(0,W.jsx)(o.default,{className:"order-details-info",title:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(O.Y7g,{className:"mr-2 icon"}),"".concat(ze("order")," ").concat(null!==De&&void 0!==De&&De.id?"#".concat(null===De||void 0===De?void 0:De.id," "):"")," ",ze("from.order")," ",null===De||void 0===De||null===(A=De.user)||void 0===A?void 0:A.firstname," ",(null===De||void 0===De||null===(P=De.user)||void 0===P?void 0:P.lastname)||""]}),extra:"delivered"!==(null===De||void 0===De?void 0:De.status)&&"canceled"!==(null===De||void 0===De?void 0:De.status)?(0,W.jsx)(d.c,{children:"delivered"!==(null===De||void 0===De?void 0:De.status)&&"canceled"!==(null===De||void 0===De?void 0:De.status)?(0,W.jsx)(a.c,{type:"primary",onClick:()=>Le(De),children:ze("change.status")}):null}):""}),(0,W.jsxs)(c.c,{gutter:24,children:[(0,W.jsx)(r.c,{span:24,children:(0,W.jsx)(o.default,{children:(0,W.jsxs)(d.c,{className:"justify-content-between w-100",children:[(0,W.jsxs)(d.c,{className:"align-items-start",children:[(0,W.jsx)(g.c,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(u.default.Text,{children:ze("delivery.date")}),Oe?(0,W.jsx)(v.c.Button,{size:16}):(0,W.jsxs)(u.default.Text,{className:"order-card-title",children:[null===De||void 0===De?void 0:De.delivery_date," ",null===De||void 0===De?void 0:De.delivery_time]})]})]}),(0,W.jsxs)(d.c,{className:"align-items-start",onClick:()=>Be.current.scrollIntoView({behavior:"smooth"}),children:[(0,W.jsx)(T.qkY,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(u.default.Text,{children:ze("total.price")}),Oe?(0,W.jsx)(v.c.Button,{size:16,loading:Oe}):(0,W.jsx)(u.default.Text,{className:"order-card-title",children:(0,D.c)(null===De||void 0===De?void 0:De.total_price,null===qe||void 0===qe?void 0:qe.symbol)})]})]}),(0,W.jsxs)(d.c,{className:"align-items-start",children:[(0,W.jsx)(T.uEM,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(u.default.Text,{children:ze("messages")}),Oe?(0,W.jsx)(v.c.Button,{size:16}):(0,W.jsx)(u.default.Text,{className:"order-card-title",children:null!==De&&void 0!==De&&De.review?1:0})]})]}),(0,W.jsxs)(d.c,{className:"align-items-start",onClick:()=>Fe.current.scrollIntoView({behavior:"smooth"}),children:[(0,W.jsx)(O.Y7g,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(u.default.Text,{children:ze("products")}),Oe?(0,W.jsx)(v.c.Button,{size:16}):(0,W.jsx)(u.default.Text,{className:"order-card-title",children:null===De||void 0===De||null===(R=De.details)||void 0===R?void 0:R.reduce(((e,l)=>e+l.quantity),0)})]})]})]})})}),"canceled"!==(null===De||void 0===De?void 0:De.status)&&(0,W.jsx)(r.c,{span:24,children:(0,W.jsx)(o.default,{children:(0,W.jsx)(x.default,{current:null===Me||void 0===Me?void 0:Me.findIndex((e=>e.name===(null===De||void 0===De?void 0:De.status))),children:null===Me||void 0===Me?void 0:Me.slice(0,-1).map((e=>(0,W.jsx)(x.default.Step,{title:ze(e.name)},e.id)))})})}),(0,W.jsxs)(r.c,{span:16,children:[(0,W.jsx)(m.c,{spinning:Oe,children:(0,W.jsx)(o.default,{style:{minHeight:"200px"},children:(0,W.jsxs)(c.c,{hidden:Oe,className:"mb-3 order_detail",children:[(0,W.jsxs)(r.c,{span:12,children:[(0,W.jsxs)("div",{children:[ze("created.date.&.time"),":",(0,W.jsxs)("span",{className:"ml-2",children:[(0,W.jsx)(H.qiH,{className:"mr-1"})," ",L()(null===De||void 0===De?void 0:De.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,W.jsx)("br",{}),"dine_in"===(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsxs)("div",{children:[ze("table"),":",(0,W.jsx)("span",{className:"ml-2",children:null===De||void 0===De||null===(U=De.table)||void 0===U?void 0:U.name})]}),"dine_in"!==(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{children:[ze("delivery.date.&.time"),":",(0,W.jsxs)("span",{className:"ml-2",children:[(0,W.jsx)(H.qiH,{className:"mr-1"})," ",null===De||void 0===De?void 0:De.delivery_date," ",null===De||void 0===De?void 0:De.delivery_time]})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("payment.status"),":",(0,W.jsx)("span",{className:"ml-2",children:ze(null===De||void 0===De||null===(Z=De.transaction)||void 0===Z?void 0:Z.status)})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("house"),":",(0,W.jsx)("span",{className:"ml-2",children:ze(null===De||void 0===De||null===($=De.address)||void 0===$?void 0:$.house)})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("floor"),":",(0,W.jsx)("span",{className:"ml-2",children:ze(null===De||void 0===De||null===(J=De.address)||void 0===J?void 0:J.floor)})]}),(0,W.jsxs)(h.c,{className:"map_show mt-3",onClick:()=>Pe(Ge),children:[(0,W.jsx)(B.m_6,{})," ",ze("show.locations")]})]})]}),(0,W.jsxs)(r.c,{span:12,children:[(0,W.jsxs)("div",{children:[ze("status"),":",(0,W.jsx)("span",{className:"ml-2",children:"new"===(null===De||void 0===De?void 0:De.status)?(0,W.jsx)(h.c,{color:"blue",children:ze(null===De||void 0===De?void 0:De.status)}):"canceled"===(null===De||void 0===De?void 0:De.status)?(0,W.jsx)(h.c,{color:"error",children:ze(null===De||void 0===De?void 0:De.status)}):(0,W.jsx)(h.c,{color:"cyan",children:ze(null===De||void 0===De?void 0:De.status)})})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("delivery.type"),":",(0,W.jsx)("span",{className:"ml-2",children:null===De||void 0===De?void 0:De.delivery_type})]}),"dine_in"!==(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("payment.type"),":",(0,W.jsx)("span",{className:"ml-2",children:ze(null===De||void 0===De||null===(Q=De.transaction)||void 0===Q||null===(X=Q.payment_system)||void 0===X?void 0:X.tag)})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("address"),":",(0,W.jsx)("span",{className:"ml-2",children:null===De||void 0===De||null===(ee=De.address)||void 0===ee?void 0:ee.address})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ze("office"),":",(0,W.jsx)("span",{className:"ml-2",children:null===De||void 0===De||null===(le=De.address)||void 0===le?void 0:le.office})]}),(0,W.jsx)("br",{})]})]})]})})}),"dine_in"!==(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsx)(o.default,{title:ze("documents"),children:(0,W.jsx)(j.c,{columns:Ze,dataSource:$e,pagination:!1,loading:Oe})}),(0,W.jsxs)(o.default,{className:"w-100 order-table",children:[(0,W.jsx)(j.c,{ref:Fe,scroll:{x:!0},columns:Ue,dataSource:(null===(ie=Ie.data)||void 0===ie?void 0:ie.details)||[],loading:Oe,rowKey:e=>e.id,pagination:!1}),(0,W.jsxs)(d.c,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,W.jsxs)("div",{children:[(0,W.jsxs)("span",{children:[ze("delivery.fee"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ze("order.tax"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ze("product"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ze("discount"),":"]}),(0,W.jsx)("br",{}),(null===De||void 0===De?void 0:De.coupon)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("span",{children:[ze("coupon"),":"]}),(0,W.jsx)("br",{})]}),(0,W.jsxs)("span",{children:[ze("service.fee"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("h3",{children:[ze("total.price"),":"]})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De?void 0:De.delivery_fee,null===qe||void 0===qe?void 0:qe.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De?void 0:De.tax,null===qe||void 0===qe?void 0:qe.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De?void 0:De.origin_price,null===qe||void 0===qe?void 0:qe.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De?void 0:De.total_discount,null===qe||void 0===qe?void 0:qe.symbol)}),(0,W.jsx)("br",{}),(null===De||void 0===De?void 0:De.coupon)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De||null===(se=De.coupon)||void 0===se?void 0:se.price,null===qe||void 0===qe?void 0:qe.symbol)}),(0,W.jsx)("br",{})]}),(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De?void 0:De.service_fee,null===qe||void 0===qe?void 0:qe.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("h3",{ref:Be,children:(0,D.c)(null===De||void 0===De?void 0:De.total_price,null===qe||void 0===qe?void 0:qe.symbol)})]})]})]})]}),(0,W.jsxs)(r.c,{span:8,className:"order_info",children:["dine_in"!==(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:["dine_in"!==(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsxs)(o.default,{title:ze("deliveryman"),extra:"ready"===(null===De||void 0===De?void 0:De.status)&&"pickup"!==(null===De||void 0===De?void 0:De.delivery_type)&&(0,W.jsxs)(a.c,{onClick:()=>Ve(De),children:[ze("change"),(0,W.jsx)(b.c,{})]}),children:["new"===(null===De||void 0===De?void 0:De.status)||"accepted"===(null===De||void 0===De?void 0:De.status)?(0,W.jsx)("p",{children:ze("order_status_ready")}):"","new"===(null===De||void 0===De?void 0:De.status)||"accepted"===(null===De||void 0===De?void 0:De.status)||null!==De&&void 0!==De&&De.deliveryman?"":(0,W.jsx)("p",{children:ze("The supplier is not assigned or delivery type pickup")}),(null===De||void 0===De?void 0:De.deliveryman)&&(0,W.jsxs)(d.c,{children:[(0,W.jsx)(p.c,{shape:"square",size:64,src:F.cd+(null===De||void 0===De||null===(de=De.deliveryman)||void 0===de?void 0:de.img)}),(0,W.jsxs)("div",{children:[(0,W.jsx)("h5",{children:(null===De||void 0===De||null===(ne=De.deliveryman)||void 0===ne?void 0:ne.firstname)+" "+(null===De||void 0===De||null===(te=De.deliveryman)||void 0===te?void 0:te.lastname)}),(0,W.jsxs)("span",{className:"delivery-info",children:[(0,W.jsx)(H.mKs,{}),null===De||void 0===De||null===(oe=De.deliveryman)||void 0===oe?void 0:oe.phone]}),(0,W.jsxs)("div",{className:"delivery-info",children:[(0,W.jsx)("b",{children:(0,W.jsx)(B.e_o,{size:16})}),(0,W.jsx)("span",{children:Te?(0,V.c)(null===De||void 0===De||null===(ae=De.deliveryman)||void 0===ae?void 0:ae.email):null===De||void 0===De||null===(ce=De.deliveryman)||void 0===ce?void 0:ce.email})]})]})]})]}),!(null===De||void 0===De||!De.username)&&(0,W.jsxs)(o.default,{title:ze("order.receiver"),children:[(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("name")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(H.sJe,{}),null===De||void 0===De?void 0:De.username]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("phone")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(H.mKs,{}),null===De||void 0===De?void 0:De.phone]})]})]}),(0,W.jsx)(o.default,{children:(0,W.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Oe?(0,W.jsx)(v.c.Avatar,{size:64,shape:"square"}):(0,W.jsx)(p.c,{shape:"square",size:64,src:null===De||void 0===De||null===(re=De.user)||void 0===re?void 0:re.img}),(0,W.jsx)("h5",{className:"customer-name",children:Oe?(0,W.jsx)(v.c.Button,{size:20,style:{width:70}}):(null===De||void 0===De||null===(ue=De.user)||void 0===ue?void 0:ue.firstname)+" "+((null===De||void 0===De||null===(ve=De.user)||void 0===ve?void 0:ve.lastname)||"")}),(0,W.jsxs)("div",{className:"customer-info-detail",children:[(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("phone")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(H.mKs,{}),Oe?(0,W.jsx)(v.c.Button,{size:16}):(null===De||void 0===De||null===(xe=De.user)||void 0===xe?void 0:xe.phone)||"none"]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("email")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(B.e_o,{}),Oe?(0,W.jsx)(v.c.Button,{size:16}):Te?(0,V.c)(null===De||void 0===De||null===(me=De.user)||void 0===me?void 0:me.email):null===De||void 0===De||null===(he=De.user)||void 0===he?void 0:he.email]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("registration.date")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(H.qiH,{}),Oe?(0,W.jsx)(v.c.Button,{size:16}):L()(null===De||void 0===De||null===(je=De.user)||void 0===je?void 0:je.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("orders.count")}),(0,W.jsx)("span",{className:"description",children:Oe?(0,W.jsx)(v.c.Button,{size:16}):(0,W.jsx)(y.c,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===De||void 0===De||null===(pe=De.user)||void 0===pe?void 0:pe.orders_count)||0})})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ze("spent.since.registration")}),(0,W.jsx)("span",{className:"description",children:Oe?(0,W.jsx)(v.c.Button,{size:16}):(0,W.jsx)(y.c,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,D.c)(null===De||void 0===De||null===(ye=De.user)||void 0===ye?void 0:ye.orders_sum_price,null===qe||void 0===qe?void 0:qe.symbol)})})]})]})]})}),(null===De||void 0===De?void 0:De.review)&&!Oe&&(0,W.jsx)(o.default,{title:ze("messages"),children:(0,W.jsxs)("div",{className:"order-message",children:[(0,W.jsx)("span",{className:"message",children:null===De||void 0===De||null===(fe=De.review)||void 0===fe?void 0:fe.comment}),(0,W.jsx)(d.c,{className:"w-100 justify-content-end",children:(0,W.jsx)("span",{className:"date",children:L()(null===De||void 0===De||null===(ge=De.review)||void 0===ge?void 0:ge.created_at).format("YYYY-MM-DD HH:mm")})})]})})]}),(0,W.jsx)(o.default,{title:ze("store.information"),children:Oe?(0,W.jsx)(v.c,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,W.jsxs)(d.c,{className:"w-100",children:[(0,W.jsx)(p.c,{shape:"square",size:64,src:F.cd+(null===De||void 0===De||null===(be=De.shop)||void 0===be?void 0:be.logo_img)}),(0,W.jsxs)("div",{children:[(0,W.jsx)("h5",{children:null===De||void 0===De||null===(Ne=De.shop)||void 0===Ne||null===(_e=Ne.translation)||void 0===_e?void 0:_e.title}),(null===De||void 0===De||null===(we=De.shop)||void 0===we?void 0:we.phone)&&(0,W.jsxs)("div",{className:"delivery-info",children:[(0,W.jsx)("b",{children:(0,W.jsx)(H.mKs,{})}),(0,W.jsx)("span",{children:null===De||void 0===De||null===(ke=De.shop)||void 0===ke?void 0:ke.phone})]}),(0,W.jsxs)("div",{className:"delivery-info my-1",children:[(0,W.jsxs)("strong",{children:[ze("min.delivery.price"),":"]}),(0,W.jsx)("span",{children:(0,D.c)(null===De||void 0===De||null===(Ye=De.shop)||void 0===Ye?void 0:Ye.price,null===qe||void 0===qe?void 0:qe.symbol)})]}),(0,W.jsxs)("div",{className:"delivery-info",children:[(0,W.jsx)("b",{children:(0,W.jsx)(K.mYO,{size:16})}),(0,W.jsx)("span",{children:null===De||void 0===De||null===(Ce=De.shop)||void 0===Ce||null===(Se=Ce.translation)||void 0===Se?void 0:Se.address})]})]})]})})]})]}),Ae&&(0,W.jsx)(S.c,{orderDetails:Ae,handleCancel:Je,status:Me}),Ee&&(0,W.jsx)(I.c,{orderDetails:Ee,handleCancel:Je}),We&&(0,W.jsx)(G.c,{id:We,handleCancel:Je})]})}},33300:(e,l,i)=>{i.d(l,{c:()=>p});var s=i(99584),d=i(65732),n=i(95884),t=i(87228),o=i(68768),a=i(10260),c=i(32712),r=i(67148),u=i(18896),v=i(65236),x=i(97480),m=i(71376),h=i(77632),j=i(97884);function p(e){var l;let{orderDetails:i,handleCancel:p}=e;const{t:y}=(0,v.G)(),{activeMenu:f}=(0,c.w1)((e=>e.menu),c.G),{deliverymans:g}=(0,c.w1)((e=>e.deliveryman),c.G),[b]=d.c.useForm(),N=(0,c.OY)(),[_,w]=(0,s.useState)(!1);(0,s.useEffect)((()=>{N((0,x.sb)())}),[]);return(0,j.jsx)(n.default,{visible:!!i,title:i.title,onCancel:p,footer:[(0,j.jsx)(t.c,{type:"primary",onClick:()=>b.submit(),loading:_,children:y("save")}),(0,j.jsx)(t.c,{type:"default",onClick:p,children:y("cancel")})],children:(0,j.jsx)(d.c,{form:b,layout:"vertical",onFinish:e=>{const l={deliveryman:e.deliveryman.value};w(!0),r.c.updateDelivery(i.id,l).then((()=>{p(),N((0,u.A1)(f))})).finally((()=>w(!1)))},initialValues:{deliveryman:null===(l=i.deliveryman)||void 0===l?void 0:l.id},children:(0,j.jsx)(o.c,{gutter:12,children:(0,j.jsx)(a.c,{span:24,children:(0,j.jsx)(d.c.Item,{label:y("deliveryman"),name:"deliveryman",rules:[{required:!0,message:y("required")}],children:(0,j.jsx)(m.g,{fetchOptions:e=>{const l={perPage:10,page:1,search:e};return h.c.getDeliverymans(l).then((e=>e.data.map((e=>({label:e.firstname,value:e.id})))))}})})})})})})}},70056:(e,l,i)=>{i.d(l,{c:()=>h});var s=i(99584),d=i(65732),n=i(95884),t=i(87228),o=i(68768),a=i(10260),c=i(2664),r=i(32712),u=i(65236),v=i(67148),x=i(18896),m=i(97884);function h(e){let{orderDetails:l,handleCancel:i}=e;const{statusList:h}=(0,r.w1)((e=>e.orderStatus),r.G),{activeMenu:j}=(0,r.w1)((e=>e.menu),r.G),[p]=d.c.useForm(),y=(0,r.OY)(),{t:f}=(0,u.G)(),[g,b]=(0,s.useState)(!1),[N,_]=(0,s.useState)([{id:0,name:"all",active:!0,sort:0},...h,{id:(null===h||void 0===h?void 0:h.length)+1,name:"canceled",active:!0,sort:8}]);(0,s.useEffect)((()=>{const e=N.findIndex((e=>e.name===(null===l||void 0===l?void 0:l.status)));let i=[N[e],N[e+1],N[(null===h||void 0===h?void 0:h.length)+1]];e<0&&(i=[N[e+1],N[(null===h||void 0===h?void 0:h.length)+1]]),i.map(((e,i,s)=>{e.name===(null===l||void 0===l?void 0:l.status)&&_(s.slice(i))}))}),[l]);return(0,m.jsx)(n.default,{visible:!!l,title:l.title,onCancel:i,footer:[(0,m.jsx)(t.c,{type:"primary",onClick:()=>p.submit(),loading:g,children:f("save")}),(0,m.jsx)(t.c,{type:"default",onClick:i,children:f("cancel")})],children:(0,m.jsx)(d.c,{form:p,layout:"vertical",onFinish:e=>{b(!0);const s={...e};v.c.updateStatus(l.id,s).then((()=>{i(),y((0,x.A1)(j))})).finally((()=>b(!1)))},initialValues:{status:l.status},children:(0,m.jsx)(o.c,{gutter:12,children:(0,m.jsx)(a.c,{span:24,children:(0,m.jsx)(d.c.Item,{label:f("status"),name:"status",rules:[{required:!0,message:f("required")}],children:(0,m.jsx)(c.default,{children:null===N||void 0===N?void 0:N.map((e=>(0,m.jsx)(c.default.Option,{value:e.name,children:f(e.name)},e.id)))})})})})})})}},95520:(e,l,i)=>{i.d(l,{c:()=>q});var s=i(52800),d=i(67692),n=i(95884),t=i(87228),o=i(68496),a=i(68768),c=i(10260),r=i(98044),u=i(99584),v=i(65236),x=i(67148),m=i(77180),h=i(5008),j=i(32712),p=i(52640),y=i(97132),f=i(57236),g=i(33131),b=i(4736),N=i(6944),_=i(88992),w=i(23216),k=i(97884);const{Step:Y}=d.default,C=()=>(0,k.jsx)("img",{src:y,width:"50",alt:"Pin"}),S=()=>(0,k.jsx)("img",{src:f,width:"50",alt:"Pin"}),I=["blue","red","gold","volcano","cyan","lime"],q=e=>{var l,i,y,f,q,M;let{id:D,handleCancel:z}=e;const{t:G}=(0,v.G)(),[H,B]=(0,u.useState)(null),[F,T]=(0,u.useState)(null),[O,K]=(0,u.useState)(null),{settings:A}=(0,j.w1)((e=>e.globalSettings),j.G),L=(0,g.c)(A),[E,V]=(0,u.useState)(0),[W,P]=(0,u.useState)((0,g.c)(A)),[R,U]=(0,u.useState)((0,g.c)(A)),[Z,$]=(0,u.useState)([{id:0,name:"new",icon:(0,k.jsx)(b.c,{})},{id:1,name:"accepted",icon:(0,k.jsx)(h.IFj,{})},{id:2,name:"ready",icon:(0,k.jsx)(N.YxA,{})},{id:3,name:"on_a_way",icon:(0,k.jsx)(_.wJ$,{})},{id:4,name:"delivered",icon:(0,k.jsx)(_.W8K,{})}]);const{google_map_key:J}=(0,j.w1)((e=>e.globalSettings.settings),j.G);(0,u.useEffect)((()=>{B(!0),x.c.getById(D).then((e=>{var l;let{data:i}=e;$("canceled"===i.status?[{id:1,name:"new",icon:(0,k.jsx)(b.c,{})},{id:5,name:"canceled",icon:(0,k.jsx)(w.uoq,{})}]:Z),V("canceled"===i.status?1:null===(l=Z.find((e=>e.name===i.status)))||void 0===l?void 0:l.id),K("canceled"===i.status?"error":"success"),T(i),U({lat:i.location.latitude,lng:i.location.longitude}),P({lat:i.shop.location.latitude,lng:i.shop.location.longitude})})).finally((()=>{B(!1)}))}),[]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(n.default,{visible:!!D,title:G("show.locations"),closable:!0,onCancel:z,style:{minWidth:"80vw"},footer:[(0,k.jsx)(t.c,{type:"default",onClick:z,children:G("cancel")},"cancelBtn")],children:H?(0,k.jsx)(m.c,{}):(0,k.jsxs)(o.default,{children:[(0,k.jsx)(d.default,{current:E,status:O,className:"mb-5",children:null===Z||void 0===Z?void 0:Z.map(((e,l)=>(0,k.jsx)(Y,{title:G(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+l)))}),(0,k.jsxs)(a.c,{gutter:12,children:[(0,k.jsxs)(c.c,{span:12,children:[(0,k.jsxs)("h3",{children:[G("order.id")," #",null===F||void 0===F?void 0:F.id]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(h.kIG,{})," ",null===F||void 0===F?void 0:F.created_at]}),(0,k.jsxs)("p",{children:[G("schedulet.at")," ",null===F||void 0===F?void 0:F.delivery_date]}),(0,k.jsxs)("span",{children:[(0,k.jsx)("strong",{children:null===F||void 0===F||null===(l=F.shop)||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title})," ",null===F||void 0===F||null===(y=F.details)||void 0===y?void 0:y.map(((e,l)=>{var i;return(0,k.jsx)(r.c,{className:"mb-2",color:I[l],children:null===e||void 0===e||null===(i=e.stock)||void 0===i?void 0:i.product.translation.title})}))]})]}),(0,k.jsxs)(c.c,{span:12,children:[(0,k.jsxs)("p",{children:[G("status")," ","new"===(null===F||void 0===F?void 0:F.status)?(0,k.jsx)(r.c,{color:"blue",children:G(null===F||void 0===F?void 0:F.status)}):"canceled"===(null===F||void 0===F?void 0:F.status)?(0,k.jsx)(r.c,{color:"error",children:G(null===F||void 0===F?void 0:F.status)}):(0,k.jsx)(r.c,{color:"cyan",children:G(null===F||void 0===F?void 0:F.status)})]}),(0,k.jsxs)("p",{children:[G("payment.method")," ",(0,k.jsx)("strong",{children:null===F||void 0===F||null===(f=F.transaction)||void 0===f||null===(q=f.payment_system)||void 0===q?void 0:q.tag})]}),(0,k.jsxs)("p",{children:[G("order.type")," ",(0,k.jsx)("strong",{children:null===F||void 0===F?void 0:F.delivery_type})]}),(0,k.jsxs)("p",{children:[G("payment.type")," ",(0,k.jsx)("strong",{children:null===F||void 0===F||null===(M=F.transaction)||void 0===M?void 0:M.status})]})]}),(0,k.jsxs)(c.c,{span:24,className:"mt-5",children:[(0,k.jsx)("h4",{children:G("map")}),(0,k.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,k.jsxs)(s.cp,{bootstrapURLKeys:{key:p.KU||J},defaultZoom:15,center:L,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:e=>{let{map:l,maps:i}=e;const s=[W,R].map((e=>({lat:Number(e.lat||"0"),lng:Number(e.lng||"0")})));let d=new i.LatLngBounds;for(var n=0;n<s.length;n++)d.extend(s[n]);l.fitBounds(d)},children:[(0,k.jsx)(S,{lat:null===W||void 0===W?void 0:W.lat,lng:null===W||void 0===W?void 0:W.lng}),(0,k.jsx)(C,{lat:null===R||void 0===R?void 0:R.lat,lng:null===R||void 0===R?void 0:R.lng})]})})]})]})]})})})}},57236:(e,l,i)=>{e.exports=i.p+"static/media/shop.46d7a94ca800c711764a.png"},97132:(e,l,i)=>{e.exports=i.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);