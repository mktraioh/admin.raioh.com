"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9836],{89836:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var i=s(99584),a=s(98948),l=s(59424),n=s(46162),d=s(66296),o=s(87228),r=s(68496),c=s(15752),u=s(61072),v=s(46003),h=s(98016),g=s(32712),x=s(18896),m=s(68256),p=s(19576),f=s(65236),w=s(94336),y=s(30664),j=s(83072),k=s.n(j),C=s(23424),_=s(1428),b=s(53992),I=s(90868),S=s(97884);function M(){const{t:e}=(0,f.G)(),t=(0,g.OY)(),s=(0,C.i6)(),j=i=>{t((0,x.WC)({url:"/users/user/".concat(i.uuid),id:"user_info",name:e("user.info")})),s("/users/user/".concat(i.uuid),{state:{user_id:i.id}})},[M,Y]=(0,i.useState)([{title:e("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:e("user"),dataIndex:"assign_user",key:"assign_user",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>j(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>j(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,S.jsx)(n.c,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,S.jsxs)(d.c,{children:[(0,S.jsx)(o.c,{type:"primary",icon:(0,S.jsx)(a.c,{}),onClick:()=>O(t.id)}),(0,S.jsx)(_.c,{icon:(0,S.jsx)(l.c,{}),onClick:()=>{z([t.id]),H(!0),E(!0)}})]})}]),{setIsModalVisible:H}=(0,i.useContext)(h.e),[P,z]=(0,i.useState)(null),[G,O]=(0,i.useState)(null),[D,N]=(0,i.useState)(!1),[V,E]=(0,i.useState)(null),{activeMenu:K}=(0,g.w1)((e=>e.menu),g.G),{reviews:R,meta:T,loading:W,params:q}=(0,g.w1)((e=>e.deliveryboyReview),g.G),A=K.data,B={sort:null===A||void 0===A?void 0:A.sort,column:null===A||void 0===A?void 0:A.column,perPage:null===A||void 0===A?void 0:A.perPage,page:null===A||void 0===A?void 0:A.page,assign:"deliveryman"};(0,i.useEffect)((()=>{K.refetch&&(t((0,I.Iv)(B)),t((0,x.CO)(K)))}),[K.refetch]),(0,m.c)((()=>{t((0,I.Iv)(B))}),[K.data]);const F={id:P,onChange:e=>{z(e)}};return(0,S.jsxs)(r.default,{title:e("deliveryboy.reviews"),extra:(0,S.jsxs)(d.c,{wrap:!0,children:[(0,S.jsx)(_.c,{size:"",onClick:()=>{null===P||0===P.length?u.m4.warning(e("select.the.product")):(H(!0),E(!1))},children:e("delete.selected")}),(0,S.jsx)(b.c,{columns:M,setColumns:Y})]}),children:[(0,S.jsx)(c.c,{scroll:{x:!0},rowSelection:F,columns:null===M||void 0===M?void 0:M.filter((e=>e.is_show)),dataSource:R,pagination:{pageSize:q.perPage,page:q.page,total:T.total,defaultCurrent:q.page},rowKey:e=>e.id,onChange:function(e,s,i){const{pageSize:a,current:l}=e,{field:n,order:d}=i,o=(0,p.c)(d);t((0,x.MH)({activeMenu:K,data:{perPage:a,page:l,column:n,sort:o}}))},loading:W}),(0,S.jsx)(v.c,{click:()=>{N(!0);const s={...Object.assign({},...P.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};w.c.delete(s).then((()=>{u.m4.success(e("successfully.deleted")),t((0,I.Iv)()),H(!1)})).finally((()=>N(!1)))},text:e(V?"delete":"all.delete"),setText:z,loading:D}),G&&(0,S.jsx)(y.c,{id:G,handleCancel:()=>O(null)})]})}}}]);