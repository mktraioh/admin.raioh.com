"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8e3],{8e3:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var c=a(99584),l=a(65732),i=a(68496),s=a(37728),n=a(61072),r=a(23424),o=a(424),d=a(32712),u=a(18896),v=a(66752),f=a(65236),g=a(91204),h=a(56384),p=a(53576),m=a(97884);const y=()=>{const{t:e}=(0,f.G)(),t=(0,r.i6)(),a=(0,d.OY)(),{activeMenu:y}=(0,d.w1)((e=>e.menu),d.G),[b,x]=(0,c.useState)(!1),[j]=l.c.useForm(),{id:w}=(0,r.W4)(),{params:M}=(0,d.w1)((e=>e.career),d.G),{languages:_}=(0,d.w1)((e=>e.formLang),d.G);function k(e){if(!e)return{};const{translations:t}=e,a=_.map((e=>{var a,c,l;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(c=t.find((t=>t.locale===e.locale)))||void 0===c?void 0:c.description,["address[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...a)}(0,c.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);a((0,u.MH)({activeMenu:y,data:e}))}),[]);return(0,c.useEffect)((()=>{var e;y.refetch&&(e=w,x(!0),v.c.getById(e).then((e=>{var t,c,l;let i=e.data;const s={...i,...k(i),category_id:{label:null===i||void 0===i||null===(t=i.category)||void 0===t||null===(c=t.translation)||void 0===c?void 0:c.title,value:null===i||void 0===i||null===(l=i.category)||void 0===l?void 0:l.id}};j.setFieldsValue(s),a((0,u.MH)({activeMenu:y,data:s}))})).finally((()=>{x(!1),a((0,u.CO)(y))})))}),[y.refetch]),(0,m.jsx)(i.default,{title:e("clone.career"),extra:(0,m.jsx)(o.c,{}),children:b?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,m.jsx)(s.c,{size:"large",className:"mt-5 pt-5"})}):(0,m.jsx)(p.c,{form:j,handleSubmit:c=>{const l={...c,title:(0,h.c)(_,c,"title"),description:(0,h.c)(_,c,"description"),address:(0,h.c)(_,c,"address"),active:c.active?1:0,category_id:c.category_id.value},i="catalog/career";return v.c.create(l).then((()=>{n.m4.success(e("successfully.updated")),(0,d.wN)((()=>{a((0,u.MF)({...y,nextUrl:i})),a((0,g._)(M))})),t("/".concat(i))})).catch((e=>console.error(e.response.data.params)))}})})}}}]);