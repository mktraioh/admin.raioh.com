(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8448],{20556:(e,t,a)=>{"use strict";a.d(t,{W:()=>i});var s=a(23424),l=a(84620),n=a.n(l);const i=()=>{const e=(0,s.i6)(),t=(0,s.IT)(),a=n().parse(t.search,{ignoreQueryPrefix:!0});return{values:a,set:(t,s)=>e({search:n().stringify({...a,[t]:s})}),reset:t=>{const s={...a};s[t]&&delete s[t],e({search:n().stringify({...s})})},clear:()=>e({search:n().stringify({})}),merge:t=>e({search:n().stringify({...a,...t})})}}},74168:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(99584),l=a(32712),n=a(424),i=a(65236),r=a(64944),o=a(67692),d=a(68496),c=a(77160),u=a(85274),m=a(20556),v=a(18896),p=a(1284),h=a(23424),f=a(3740),g=a(77180),x=a(31864),j=a(97884);const{Step:w}=o.default,y=()=>{var e;const{t:t}=(0,i.G)(),{activeMenu:a}=(0,l.w1)((e=>e.menu),l.G),y=(0,m.W)(),_=Number((null===(e=y.values)||void 0===e?void 0:e.step)||0),[b,S]=(0,s.useState)(a.refetch),C=(0,l.OY)(),{uuid:q}=(0,h.W4)(),{languages:k}=(0,l.w1)((e=>e.formLang),l.G),F=()=>{const e=_+1;y.set("step",e)},I=()=>{const e=_-1;y.set("step",e)},N=e=>({items:e,uid:e,url:e,name:e});function M(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,a=k.map((e=>{var a,s,l;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(s=t.find((t=>t.locale===e.locale)))||void 0===s?void 0:s.description,["address[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...a)}return(0,s.useEffect)((()=>{a.refetch&&q&&(e=>{S(!0),p.c.getById(e).then((e=>{var t,s,l,n,i,r,o;const d={...e.data,...M(e.data),logo_img:N(e.data.logo_img),background_img:N(e.data.background_img),user:{label:e.data.seller.firstname+" "+e.data.seller.lastname,value:e.data.seller.id},delivery_time_from:null===(t=e.data)||void 0===t?void 0:t.delivery_time.from,delivery_time_to:null===(s=e.data)||void 0===s?void 0:s.delivery_time.to,delivery_time_type:null===(l=e.data)||void 0===l?void 0:l.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(n=e.data)||void 0===n||null===(i=n.categories)||void 0===i?void 0:i.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),tags:null===(r=e.data)||void 0===r||null===(o=r.tags)||void 0===o?void 0:o.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))};C((0,v.MH)({activeMenu:a,data:d}))})).finally((()=>{S(!1),C((0,v.CO)(a))}))})(q)}),[a.refetch,_,q]),(0,j.jsxs)(d.default,{title:t("shop.edit"),extra:(0,j.jsx)(n.c,{}),children:[(0,j.jsx)(o.default,{current:_,onChange:e=>{C((0,v.MH)({activeMenu:a,data:{...a.data,step:e}})),y.set("step",e)},children:r.C.map((e=>(0,j.jsx)(w,{title:t(e.title)},e.title)))}),b?(0,j.jsx)(g.c,{}):(0,j.jsxs)("div",{className:"steps-content",children:["First-content"===r.C[_].content&&(0,j.jsx)(c.c,{next:F,loading:b,action_type:"edit",user:!1}),"Second-content"===r.C[_].content&&(0,j.jsx)(x.c,{next:F,prev:I}),"Third-content"===r.C[_].content&&(0,j.jsx)(f.c,{next:F,prev:I}),"Four-content"===r.C[_].content&&(0,j.jsx)(u.c,{next:F,prev:I})]})]})}},64944:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});const s=[{title:"shop",content:"First-content"},{title:"map",content:"Second-content"},{title:"delivery",content:"Third-content"},{title:"user",content:"Four-content"}]},85274:(e,t,a)=>{"use strict";a.d(t,{c:()=>y});var s=a(99584),l=a(65732),n=a(23424),i=a(32712),r=a(42080),o=a(61072),d=a(18896),c=a(65236),u=a(77180),m=a(68768),v=a(10260),p=a(46712),h=a(10240),f=a(66296),g=a(87228),x=a(97884);const j=e=>{let{prev:t,loadingBtn:a,error:s}=e;const{t:n}=(0,c.G)();return(0,x.jsxs)(m.c,{gutter:12,children:[(0,x.jsx)(v.c,{span:12,children:(0,x.jsx)(l.c.Item,{label:n("firstname"),name:"firstname",help:null!==s&&void 0!==s&&s.firstname?s.firstname[0]:null,validateStatus:null!==s&&void 0!==s&&s.firstname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.default,{className:"w-100"})})}),(0,x.jsx)(v.c,{span:12,children:(0,x.jsx)(l.c.Item,{label:n("lastname"),name:"lastname",help:null!==s&&void 0!==s&&s.lastname?s.lastname[0]:null,validateStatus:null!==s&&void 0!==s&&s.lastname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.default,{className:"w-100"})})}),(0,x.jsx)(v.c,{span:12,children:(0,x.jsx)(l.c.Item,{label:n("phone"),name:"phone",help:null!==s&&void 0!==s&&s.phone?s.phone[0]:null,validateStatus:null!==s&&void 0!==s&&s.phone?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(h.c,{min:0,className:"w-100"})})}),(0,x.jsx)(v.c,{span:12,children:(0,x.jsx)(l.c.Item,{label:n("email"),name:"email",help:null!==s&&void 0!==s&&s.email?s.email[0]:null,validateStatus:null!==s&&void 0!==s&&s.email?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.default,{type:"email",className:"w-100"})})}),(0,x.jsx)(v.c,{span:12,children:(0,x.jsx)(l.c.Item,{label:n("password"),name:"password",help:null!==s&&void 0!==s&&s.password?s.password[0]:null,validateStatus:null!==s&&void 0!==s&&s.password?"error":"success",rules:[{required:!1,message:n("required")},{type:"string",min:6,message:n("min.6.letters")}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,x.jsx)(p.default.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,x.jsx)(v.c,{span:12,children:(0,x.jsx)(l.c.Item,{label:n("password.confirmation"),help:null!==s&&void 0!==s&&s.password_confirmation?s.password_confirmation[0]:null,validateStatus:null!==s&&void 0!==s&&s.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:n("required")},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a&&t("password")!==a?Promise.reject(n("passwords.do.not.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,x.jsx)(p.default.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,x.jsx)(v.c,{span:24,children:(0,x.jsxs)(f.c,{children:[(0,x.jsx)(g.c,{type:"primary",htmlType:"submit",loading:a,children:n("save")}),(0,x.jsx)(g.c,{htmlType:"submit",onClick:()=>t(),children:n("prev")})]})})]})};var w=a(25144);function y(e){let{prev:t}=e;const{t:a}=(0,c.G)(),{activeMenu:m}=(0,i.w1)((e=>e.menu),i.G),v=(0,i.OY)(),p=(0,n.i6)(),[h,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[_,b]=(0,s.useState)(!1),[S]=l.c.useForm();return(0,s.useEffect)((()=>{var e,t,a;return(a=null===m||void 0===m||null===(e=m.data)||void 0===e||null===(t=e.seller)||void 0===t?void 0:t.uuid)&&(b(!0),r.c.getById(a).then((e=>{const t=e.data;S.setFieldsValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone,password_confirmation:t.password_confirmation,password:t.password})})).finally((()=>b(!1)))),()=>{b(!1),y(!1)}}),[]),(0,x.jsx)(x.Fragment,{children:_?(0,x.jsx)(u.c,{}):(0,x.jsx)(l.c,{form:S,layout:"vertical",initialValues:{...m.data},onFinish:e=>{var t,s;y(!0);const l={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},n="shops";r.c.update(null===m||void 0===m||null===(t=m.data)||void 0===t||null===(s=t.seller)||void 0===s?void 0:s.uuid,l).then((()=>{o.m4.success(a("successfully.updated")),p("/".concat(n)),v((0,w.S)({perPage:10,page:1})),v((0,d.MF)({...m,nextUrl:n}))})).catch((e=>f(e.response.data.params))).finally((()=>y(!1)))},className:"py-4",children:(0,x.jsx)(j,{error:h,loadingBtn:g})})})}},16204:()=>{}}]);