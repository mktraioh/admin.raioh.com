"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9900],{53992:(e,t,n)=>{n.d(t,{c:()=>p});var a=n(99584),l=n(49308),s=n(92200),i=n(66296),c=n(26012),o=n(72192),d=n(35928),r=n(87228),u=n(55512),v=n(65236),h=n(97884);const{Text:m}=l.default,p=e=>{let{columns:t=[],setColumns:n,style:l,size:p="",iconOnly:x}=e;const{t:f}=(0,v.G)(),[j,y]=(0,a.useState)(!1),g=(0,h.jsx)(s.c,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,h.jsx)(s.c.Item,{children:(0,h.jsxs)(i.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(c.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(o.c,{overlay:g,trigger:["click"],onVisibleChange:e=>{y(e)},visible:j,children:(0,h.jsx)(d.c,{title:f("change.columns"),children:(0,h.jsx)(r.c,{style:{...l},size:p,icon:(0,h.jsx)(u.c,{}),children:x?null:f("Columns")})})})}},71376:(e,t,n)=>{n.d(t,{g:()=>d});var a=n(99584),l=n(95976),s=n.n(l),i=n(2664),c=n(37728),o=n(97884);const d=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:l,...d}=e;const[r,u]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),m=(0,a.useMemo)((()=>s()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),n)),[t,n]);return(0,o.jsx)(i.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),l&&l()},notFoundContent:r?(0,o.jsx)(c.c,{size:"small"}):"no results",...d,options:v,onFocus:()=>{m("")}})}},19576:(e,t,n)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{c:()=>a})},24968:(e,t,n)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}n.d(t,{c:()=>a})},79900:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var a=n(99584),l=n(84616),s=n(98044),i=n(87228),c=n(68496),o=n(66296),d=n(15752),r=n(98948),u=n(32712),v=n(18896),h=n(65236),m=n(68256),p=n(19576),x=n(71376),f=n(42080),j=n(42720),y=n(95884),g=n(37564),b=n(77180),_=n(62220),w=n(24968),I=n(83072),C=n.n(I),k=n(97884);function H(e){var t,n,l,c,o,d;let{id:r,handleCancel:u}=e;const[v,m]=(0,a.useState)({}),[p,x]=(0,a.useState)(!1),{t:f}=(0,h.G)();return(0,a.useEffect)((()=>{!function(e){x(!0),_.c.getById(e).then((e=>m(e.data))).finally((()=>x(!1)))}(r)}),[r]),(0,k.jsx)(y.default,{visible:!!r,title:f("transaction"),onCancel:u,footer:(0,k.jsx)(i.c,{type:"default",onClick:u,children:f("cancel")}),children:p?(0,k.jsx)(b.c,{}):(0,k.jsxs)(g.c,{bordered:!0,children:[(0,k.jsx)(g.c.Item,{span:3,label:f("transaction.id"),children:v.id}),(0,k.jsxs)(g.c.Item,{span:3,label:f("client"),children:[null===(t=v.user)||void 0===t?void 0:t.firstname," ",(null===(n=v.user)||void 0===n?void 0:n.lastname)||""]}),(0,k.jsx)(g.c.Item,{span:3,label:f("price"),children:(0,w.c)(v.price,null===(l=v.payable)||void 0===l||null===(c=l.order)||void 0===c||null===(o=c.currency)||void 0===o?void 0:o.symbol)}),(0,k.jsx)(g.c.Item,{span:3,label:f("payment.type"),children:f(null===(d=v.payment_system)||void 0===d?void 0:d.tag)}),(0,k.jsx)(g.c.Item,{span:3,label:f("created.at"),children:C()(null===v||void 0===v?void 0:v.created_at).format("YYYY-MM-DD HH:mm")}),(0,k.jsx)(g.c.Item,{span:3,label:f("status"),children:"progress"===v.status?(0,k.jsx)(s.c,{color:"gold",children:f(v.status)}):"rejected"===v.status?(0,k.jsx)(s.c,{color:"error",children:f(v.status)}):(0,k.jsx)(s.c,{color:"cyan",children:f(v.status)})}),(0,k.jsx)(g.c.Item,{span:3,label:f("status.description"),children:v.status_description}),(0,k.jsx)(g.c.Item,{span:3,label:f("note"),children:v.note})]})})}var z=n(53992);const{TabPane:S}=l.default,M=["all","progress","paid","rejected"];function V(){var e,t,n,y;const g=(0,u.OY)(),{t:b}=(0,h.G)(),[_,I]=(0,a.useState)(null),[V,Y]=(0,a.useState)([{title:b("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:b("client"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,k.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:b("amount"),dataIndex:"price",key:"price",is_show:!0,render:(e,t)=>{var n,a,l;return(0,w.c)(e,null===(n=t.payable)||void 0===n||null===(a=n.order)||void 0===a||null===(l=a.currency)||void 0===l?void 0:l.symbol)}},{title:b("payment.type"),dataIndex:"payment_system",key:"payment_system",is_show:!0,render:e=>null===e||void 0===e?void 0:e.tag},{title:b("status"),dataIndex:"status",key:"status",is_show:!0,render:e=>(0,k.jsx)("div",{children:"progress"===e?(0,k.jsx)(s.c,{color:"gold",children:b(e)}):"rejected"===e?(0,k.jsx)(s.c,{color:"error",children:b(e)}):(0,k.jsx)(s.c,{color:"cyan",children:b(e)})})},{title:b("status.note"),dataIndex:"status_description",key:"status_description",is_show:!0},{title:b("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>C()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:b("options"),key:"options",is_show:!0,render:(e,t)=>(0,k.jsx)(i.c,{icon:(0,k.jsx)(r.c,{}),onClick:()=>(e=>{I(e.id)})(t)})}]),{activeMenu:O}=(0,u.w1)((e=>e.menu),u.G),[P,D]=(0,a.useState)("all"),{transactions:G,meta:T,loading:E,params:F}=(0,u.w1)((e=>e.transaction),u.G),N=(null===(e=O.data)||void 0===e?void 0:e.role)||P,B=O.data,K={sort:null===B||void 0===B?void 0:B.sort,column:null===B||void 0===B?void 0:B.column,perPage:null===B||void 0===B?void 0:B.perPage,page:null===B||void 0===B?void 0:B.page,user_id:null===B||void 0===B?void 0:B.userId,status:"all"===(null===B||void 0===B?void 0:B.role)||null===B||void 0===B?void 0:B.role};(0,m.c)((()=>{g((0,j.iy)(K))}),[O.data]),(0,a.useEffect)((()=>{O.refetch&&(g((0,j.iy)(F)),g((0,v.CO)(O)))}),[O.refetch]);const $=e=>{const t=O.data;g((0,v.MH)({activeMenu:O,data:{...t,...e}}))};return(0,k.jsxs)(c.default,{title:b("transactions"),extra:(0,k.jsxs)(o.c,{wrap:!0,children:[(0,k.jsx)(x.g,{placeholder:b("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return f.c.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id})))}))},onSelect:e=>$({userId:e.value}),onDeselect:()=>$({userId:null}),style:{minWidth:200}}),(0,k.jsx)(z.c,{columns:V,setColumns:Y})]}),children:[(0,k.jsx)(l.default,{onChange:e=>{$({role:e,page:1}),D(e)},type:"card",activeKey:N,children:M.map((e=>(0,k.jsx)(S,{tab:b(e)},e)))}),(0,k.jsx)(d.c,{scroll:{x:!0},columns:null===V||void 0===V?void 0:V.filter((e=>e.is_show)),dataSource:G,loading:E,pagination:{pageSize:F.perPage,page:(null===(t=O.data)||void 0===t?void 0:t.page)||1,total:T.total,defaultCurrent:null===(n=O.data)||void 0===n?void 0:n.page,current:null===(y=O.data)||void 0===y?void 0:y.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:a,current:l}=e,{field:s,order:i}=n,c=(0,p.c)(i);g((0,v.MH)({activeMenu:O,data:{...B,perPage:a,page:l,column:s,sort:c}}))}}),_&&(0,k.jsx)(H,{id:_,handleCancel:()=>I(null)})]})}},55512:(e,t,n)=>{n.d(t,{c:()=>o});var a=n(30800),l=n(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=n(47164),c=function(e,t){return l.createElement(i.c,(0,a.c)((0,a.c)({},e),{},{ref:t,icon:s}))};c.displayName="TableOutlined";const o=l.forwardRef(c)}}]);