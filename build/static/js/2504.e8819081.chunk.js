"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2504],{2504:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(99584),r=t(23424),l=t(61072),i=t(65732),c=t(68496),n=t(32712),d=t(18896),m=t(65236),u=t(38624),o=t(77180),h=t(27584),p=t(69024),x=t(97884);const j=()=>{const{t:e}=(0,m.G)(),{activeMenu:s}=(0,n.w1)((e=>e.menu),n.G),t=(0,n.OY)(),[j]=i.c.useForm(),f=(0,r.i6)(),{id:v}=(0,r.W4)(),[b,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);t((0,d.MH)({activeMenu:s,data:e}))}),[]);return(0,a.useEffect)((()=>{var e;s.refetch&&(e=v,g(!0),u.c.getById(e).then((e=>{const a={...e.data};j.setFieldsValue(a),t((0,d.MH)({activeMenu:s,data:a}))})).finally((()=>{t((0,d.CO)(s)),g(!1)})))}),[s.refetch]),(0,x.jsx)(c.default,{title:e("edit.email.provider"),className:"h-100",children:b?(0,x.jsx)(o.c,{}):(0,x.jsx)(p.c,{form:j,handleSubmit:a=>{const r={smtp_auth:a.smtp_auth,smtp_debug:a.smtp_debug,port:a.port,password:a.password,from_to:a.from_to,host:a.host,active:a.active,from_site:a.from_site},i="settings/emailProviders";return u.c.update(v,r).then((()=>{l.m4.success(e("successfully.updated")),(0,n.wN)((()=>{t((0,d.MF)({...s,nextUrl:i})),t((0,h.q)({}))})),f("/".concat(i))}))}})})}},69024:(e,s,t)=>{t.d(s,{c:()=>p});var a=t(99584),r=t(65732),l=t(68768),i=t(10260),c=t(46712),n=t(10240),d=t(26012),m=t(87228),u=t(32712),o=t(65236),h=t(97884);function p(e){let{form:s,handleSubmit:t}=e;const{t:p}=(0,o.G)(),{activeMenu:x}=(0,u.w1)((e=>e.menu),u.G),[j,f]=(0,a.useState)(!1);return(0,h.jsxs)(r.c,{name:"email-provider-form",layout:"vertical",onFinish:e=>{f(!0),t(e).finally((()=>f(!1)))},form:s,initialValues:{smtp_debug:!0,smtp_auth:!0,active:!0,...x.data},className:"d-flex flex-column h-100",children:[(0,h.jsxs)(l.c,{gutter:12,children:[(0,h.jsx)(i.c,{span:12,children:(0,h.jsx)(r.c.Item,{rules:[{required:!0,message:p("required")},{type:"email",message:p("invalid.email")}],label:p("email"),name:"from_to",children:(0,h.jsx)(c.default,{placeholder:"Email"})})}),(0,h.jsx)(i.c,{span:12,children:(0,h.jsx)(r.c.Item,{rules:[{required:!0,message:p("required")},{type:"string",min:6,message:p("min.6.letters")}],label:p("password"),name:"password",normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,h.jsx)(c.default.Password,{})})}),(0,h.jsx)(i.c,{span:12,children:(0,h.jsx)(r.c.Item,{rules:[{validator:(e,s)=>s?s&&""===(null===s||void 0===s?void 0:s.trim())?Promise.reject(new Error(p("no.empty.space"))):s&&(null===s||void 0===s?void 0:s.trim().length)<2?Promise.reject(new Error(p("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(p("required")))}],label:p("host"),name:"host",children:(0,h.jsx)(c.default,{})})}),(0,h.jsx)(i.c,{span:12,children:(0,h.jsx)(r.c.Item,{rules:[{required:!0,message:p("required")}],label:p("port"),name:"port",children:(0,h.jsx)(n.c,{min:0,className:"w-100"})})}),(0,h.jsx)(i.c,{span:8,children:(0,h.jsx)(r.c.Item,{label:p("active"),name:"active",valuePropName:"checked",children:(0,h.jsx)(d.c,{})})}),(0,h.jsx)(i.c,{span:8,children:(0,h.jsx)(r.c.Item,{valuePropName:"checked",label:p("smtp_debug"),name:"smtp_debug",children:(0,h.jsx)(d.c,{})})}),(0,h.jsx)(i.c,{span:8,children:(0,h.jsx)(r.c.Item,{valuePropName:"checked",label:p("smtp_auth"),name:"smtp_auth",children:(0,h.jsx)(d.c,{})})})]}),(0,h.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,h.jsx)("div",{className:"pb-5",children:(0,h.jsx)(m.c,{type:"primary",htmlType:"submit",loading:j,children:p("submit")})})})]})}}}]);