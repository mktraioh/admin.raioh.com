"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7236],{1428:(e,a,l)=>{l.d(a,{c:()=>c});l(99584);var s=l(87228),t=l(59424),n=l(61072),r=l(65236),i=l(75088),o=l(97884);function c(e){let{size:a="",onClick:l,type:c="default",...d}=e;const{t:u}=(0,r.G)(),{isDemo:m}=(0,i.c)();return(0,o.jsx)(s.c,{size:a,icon:(0,o.jsx)(t.c,{}),onClick:e=>{m?n.m4.warning(u("cannot.work.demo")):l(e)},type:c,...d})}},53992:(e,a,l)=>{l.d(a,{c:()=>v});var s=l(99584),t=l(49308),n=l(92200),r=l(66296),i=l(26012),o=l(72192),c=l(35928),d=l(87228),u=l(55512),m=l(65236),h=l(97884);const{Text:p}=t.default,v=e=>{let{columns:a=[],setColumns:l,style:t,size:v="",iconOnly:x}=e;const{t:g}=(0,m.G)(),[j,f]=(0,s.useState)(!1),w=(0,h.jsx)(n.c,{children:null===a||void 0===a?void 0:a.map(((e,s)=>(0,h.jsx)(n.c.Item,{children:(0,h.jsxs)(r.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(i.c,{defaultChecked:!0,onClick:()=>function(e){const s=null===a||void 0===a?void 0:a.map((a=>(a.dataIndex===e.dataIndex&&(a.is_show=!(null!==a&&void 0!==a&&a.is_show)),a)));l(s)}(e),disabled:1===s})]})},e+s)))});return(0,h.jsx)(o.c,{overlay:w,trigger:["click"],onVisibleChange:e=>{f(e)},visible:j,children:(0,h.jsx)(c.c,{title:g("change.columns"),children:(0,h.jsx)(d.c,{style:{...t},size:v,icon:(0,h.jsx)(u.c,{}),children:x?null:g("Columns")})})})}},89896:(e,a,l)=>{l.d(a,{c:()=>p});var s=l(99584),t=l(8808),n=l(52640);const r=l.p+"static/media/pin.0e41858db80c699cd8a2.png";var i=l(71760),o=l.n(i);async function c(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.KU,l={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:a};return o().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((e=>{var a;let{data:l}=e;return null===(a=l.results[0])||void 0===a?void 0:a.formatted_address})).catch((e=>"not found"))}var d=l(29416),u=l(61072),m=l(65236),h=l(97884);const p=(0,t.GoogleApiWrapper)({apiKey:n.KU})((function(e){const[a,l]=(0,s.useState)(),{t:i}=(0,m.G)(),o=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const a={lat:e.coords.latitude,lng:e.coords.longitude};l(a)}),(function(e){u.m4.warning(i("turn.on.gps"))}))};(0,s.useEffect)((()=>{o()}),[]);const p=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}];for(var v=new e.google.maps.LatLngBounds,x=0;x<p.length;x++)v.extend(p[x]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:()=>{o(),a&&(async a=>{const l={lat:null===a||void 0===a?void 0:a.lat,lng:null===a||void 0===a?void 0:a.lng};e.setLocation(l);const s=await c(l,n.KU);e.setAddress(s)})(a)},children:(0,h.jsx)(d.mEX,{})}),(0,h.jsx)(t.Map,{cursor:"pointer",onClick:async(a,l,s)=>{const{latLng:t}=s,r={lat:t.lat(),lng:t.lng()};e.setLocation(r);const i=await c(r,n.KU);e.setAddress(i)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,h.jsx)(t.Marker,{position:e.location,icon:{url:r,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},71376:(e,a,l)=>{l.d(a,{g:()=>c});var s=l(99584),t=l(95976),n=l.n(t),r=l(2664),i=l(37728),o=l(97884);const c=e=>{let{fetchOptions:a,debounceTimeout:l=400,onClear:t,...c}=e;const[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)([]),p=(0,s.useMemo)((()=>n()((e=>{h([]),u(!0),a(e).then((e=>{h(e),u(!1)}))}),l)),[a,l]);return(0,o.jsx)(r.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),t&&t()},notFoundContent:d?(0,o.jsx)(i.c,{size:"small"}):"no results",...c,options:m,onFocus:()=>{p("")}})}},19576:(e,a,l)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(a,{c:()=>s})},33131:(e,a,l)=>{l.d(a,{c:()=>s});l(52640);function s(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const a=e.location.split(", ");return{lat:Number(null===a||void 0===a?void 0:a[0]),lng:Number(null===a||void 0===a?void 0:a[1])}}},24968:(e,a,l)=>{function s(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}l.d(a,{c:()=>s})},45392:(e,a,l)=>{l.d(a,{c:()=>b});var s=l(65732),t=l(68768),n=l(10260),r=l(46712),i=l(2664),o=l(10240),c=l(26012),d=l(87228),u=l(99584),m=l(65236),h=l(63080),p=l(77180),v=l(32712),x=l(40936),g=l(89896),j=l(33131),f=l(61072),w=l(97884);const y=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],b=e=>{let{id:a,data:l}=e;const{t:b}=(0,m.G)(),[_]=s.c.useForm(),[S,k]=(0,u.useState)(!1),[I,C]=(0,u.useState)(!1),[q,P]=(0,u.useState)([]),{settings:N}=(0,v.w1)((e=>e.globalSettings),v.G),[z,E]=(0,u.useState)((0,j.c)(N)),M=e=>e.map((e=>({uid:e.id,name:e.path,url:e.path})));return(0,u.useEffect)((()=>{a&&(e=>{C(!0),h.c.getById(e).then((e=>{var a,l,s,t,n,r,i,o;const c={...e.data,user_id:{label:e.data.deliveryMan.firstname+" "+e.data.deliveryMan.firstname,value:e.data.deliveryMan.id,images:M(e.data.galleries),location:{lat:null===(a=e.data)||void 0===a||null===(l=a.location)||void 0===l?void 0:l.latitude,lng:null===(s=e.data)||void 0===s||null===(t=s.location)||void 0===t?void 0:t.longitude}}};E({lat:null===(n=e.data)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.latitude,lng:null===(i=e.data)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.longitude}),P(M(e.data.galleries)),_.setFieldsValue(c)})).finally((()=>C(!1)))})(a)}),[]),(0,w.jsx)(s.c,{name:"basic",layout:"vertical",onFinish:e=>{var s;k(!0);const t={...e,user_id:l.id,images:[null===(s=q[0])||void 0===s?void 0:s.name],location:{latitude:z.lat,longitude:z.lng},online:Number(e.online)};h.c.update(a,t).then((()=>f.m4.success(b("successfully.updated")))).finally((()=>k(!1)))},form:_,children:I?(0,w.jsx)(p.c,{}):(0,w.jsxs)(t.c,{gutter:12,children:[(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("brand"),name:"brand",rules:[{required:!0,message:b("required")}],children:(0,w.jsx)(r.default,{})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("model"),name:"model",rules:[{required:!0,message:b("required")}],children:(0,w.jsx)(r.default,{})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:b("required")}],children:(0,w.jsx)(i.default,{options:y})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("car.number"),name:"number",rules:[{required:!0,message:b("required")}],children:(0,w.jsx)(r.default,{})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("car.color"),name:"color",rules:[{required:!0,message:b("required")}],children:(0,w.jsx)(r.default,{})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("height"),name:"height",rules:[{validator:(e,a)=>a||0===a?!a||a<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,w.jsx)(o.c,{className:"w-100",addonAfter:"sm"})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("weight"),name:"kg",rules:[{validator:(e,a)=>a||0===a?!a||a<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,w.jsx)(o.c,{className:"w-100",addonAfter:"kg"})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("length"),name:"length",rules:[{validator:(e,a)=>a||0===a?!a||a<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,w.jsx)(o.c,{className:"w-100",addonAfter:"sm"})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("width"),name:"width",rules:[{validator:(e,a)=>a||0===a?!a||a<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,w.jsx)(o.c,{className:"w-100",addonAfter:"sm"})})}),(0,w.jsx)(n.c,{span:12,children:(0,w.jsx)(s.c.Item,{label:b("image"),name:"images",children:(0,w.jsx)(x.c,{type:"deliveryman/settings",imageList:q,setImageList:P,form:_,length:"1",multiple:!0})})}),(0,w.jsx)(n.c,{span:6,children:(0,w.jsx)(s.c.Item,{label:b("online"),name:"online",valuePropName:"checked",children:(0,w.jsx)(c.c,{})})}),(0,w.jsx)(n.c,{span:24,children:(0,w.jsx)(s.c.Item,{label:b("map"),name:"location",children:(0,w.jsx)(g.c,{location:z,setLocation:E})})}),(0,w.jsx)(n.c,{span:24,children:(0,w.jsx)(d.c,{type:"primary",htmlType:"submit",loading:S,children:b("save")})})]})})}},73536:(e,a,l)=>{l.d(a,{c:()=>C});var s=l(99584),t=l(65732),n=l(68768),r=l(10260),i=l(46712),o=l(10240),c=l(73568),d=l(2664),u=l(87228),m=l(23424),h=l(32712),p=l(42080),v=l(61072),x=l(18896),g=l(2272),j=l(83072),f=l.n(j),w=l(65236),y=l(57325),b=l(40936),_=l(71376),S=l(48820),k=l(75088),I=l(97884);function C(e){var a;let{form:l,data:j,image:C,setImage:q,action_type:P=""}=e;const{t:N}=(0,w.G)(),z=(0,h.w1)((e=>e.menu.activeMenu),h.G),E=(0,h.OY)(),M=(0,m.i6)(),{uuid:G}=(0,m.W4)(),V=(0,m.IT)(),[F,H]=(0,s.useState)(),[O,Y]=(0,s.useState)(null),[L,T]=(0,s.useState)(!1),A=null===z||void 0===z||null===(a=z.data)||void 0===a?void 0:a.role,D=(0,h.w1)((e=>e.user),h.G),K=(0,h.w1)((e=>e.client),h.G),{isDemo:U}=(0,k.c)();async function B(e){const a={search:e,status:"approved"};return S.c.search(a).then((e=>e.data.map((e=>({label:null!==e.translation?e.translation.title:"no name",value:e.id})))))}return(0,I.jsx)(t.c,{form:l,layout:"vertical",initialValues:{gender:"male",role:"admin",...j,birthday:null!==j&&void 0!==j&&j.birthday?f()(j.birthday):null},onFinish:e=>{var a,l;T(!0);const s={firstname:e.firstname,lastname:e.lastname,email:U||null===e||void 0===e?void 0:e.email,phone:U||null===e||void 0===e?void 0:e.phone,birthday:f()(F).format("YYYY-MM-DD"),gender:e.gender,images:C[0]?[null===(a=C[0])||void 0===a?void 0:a.name]:void 0,shop_id:null!==e&&void 0!==e&&e.shop_id?void 0!==(null===e||void 0===e?void 0:e.shop_id.length)?null===e||void 0===e||null===(l=e.shop_id)||void 0===l?void 0:l.map((e=>e.value)):[null===e||void 0===e?void 0:e.shop_id.value]:void 0,role:A},t=0===V.pathname.search("/user/delivery/")?"deliveries/list":"user"!==j.role?"users/admin":"users/user";console.log("nextUrl",t);const n={...D.params,role:j.role},r={...K.params};"edit"===P?p.c.update(G,s).then((()=>{v.m4.success(N("successfully.updated")),E((0,x.MF)({...z,nextUrl:t})),M("/".concat(t)),"user"===j.role?E((0,y.qS)(r)):E((0,g.y6)(n))})).catch((e=>Y(e.response.data.params))).finally((()=>T(!1))):p.c.create(s).then((()=>{v.m4.success(N("successfully.updated")),E((0,x.MF)({...z,nextUrl:t})),M("/".concat(t)),"user"===j.role?E((0,y.qS)(r)):E((0,g.y6)(n))})).catch((e=>Y(e.response.data.params))).finally((()=>T(!1)))},className:"px-2",children:(0,I.jsxs)(n.c,{gutter:12,children:[(0,I.jsx)(r.c,{span:24,children:(0,I.jsx)(t.c.Item,{name:"images",label:N("avatar"),rules:[{validator:()=>0===(null===C||void 0===C?void 0:C.length)?Promise.reject(new Error(N("required"))):Promise.resolve()}],children:(0,I.jsx)(b.c,{type:"restaurant/logo",imageList:C,setImageList:q,form:l,multiple:!1,name:"logo_img"})})}),(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("firstname"),name:"firstname",help:null!==O&&void 0!==O&&O.firstname?O.firstname[0]:null,validateStatus:null!==O&&void 0!==O&&O.firstname?"error":"success",rules:[{validator:(e,a)=>a?a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(N("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.trim().length)<2?Promise.reject(new Error(N("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(N("required")))}],children:(0,I.jsx)(i.default,{className:"w-100"})})}),(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("lastname"),name:"lastname",help:null!==O&&void 0!==O&&O.lastname?O.lastname[0]:null,validateStatus:null!==O&&void 0!==O&&O.lastname?"error":"success",rules:[{validator:(e,a)=>a?a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(N("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.trim().length)<2?Promise.reject(new Error(N("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(N("required")))}],children:(0,I.jsx)(i.default,{className:"w-100"})})}),(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("phone"),name:"phone",help:null!==O&&void 0!==O&&O.phone?O.phone[0]:null,validateStatus:null!==O&&void 0!==O&&O.phone?"error":"success",rules:[{required:!U,message:N("required")}],children:(0,I.jsx)(o.c,{min:0,className:"w-100"})})}),(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("birthday"),name:"birthday",rules:[{required:!0,message:N("required")}],children:(0,I.jsx)(c.default,{onChange:e=>H(e),className:"w-100",disabledDate:e=>f()().add(-18,"years")<=e,defaultPickerValue:f()().add(-18,"years")})})}),(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("gender"),name:"gender",rules:[{required:!0,message:N("required")}],children:(0,I.jsxs)(d.default,{picker:"dayTime",className:"w-100",children:[(0,I.jsx)(d.default.Option,{value:"male",children:N("male")}),(0,I.jsx)(d.default.Option,{value:"female",children:N("female")})]})})}),(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("email"),name:"email",help:null!==O&&void 0!==O&&O.email?O.email[0]:null,validateStatus:null!==O&&void 0!==O&&O.email?"error":"success",rules:[{required:!U,message:N("required")},{type:"email",message:N("invalid.email")}],children:(0,I.jsx)(i.default,{type:"email",className:"w-100",disabled:U})})}),"admin"!==A&&"manager"!==A&&"moderator"!==A&&"seller"!==A&&"cook"!==A&&"user"!==A&&(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("branches"),name:"shop_id",rules:[{required:!1,message:N("required")}],children:(0,I.jsx)(_.g,{mode:"multiple",fetchOptions:B,className:"w-100",placeholder:N("select.shop"),allowClear:!1})})}),"cook"===A&&(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("shop"),name:"shop_id",rules:[{required:!1,message:N("required")}],children:(0,I.jsx)(_.g,{fetchOptions:B,className:"w-100",placeholder:N("select.shop"),allowClear:!1})})}),"moderator"===A&&(0,I.jsx)(r.c,{span:12,children:(0,I.jsx)(t.c.Item,{label:N("branches"),name:"shop_id",rules:[{required:!1,message:N("required")}],children:(0,I.jsx)(_.g,{fetchOptions:B,className:"w-100",placeholder:N("select.shop"),allowClear:!1})})}),(0,I.jsx)(r.c,{span:24,children:(0,I.jsx)(u.c,{type:"primary",htmlType:"submit",loading:L,children:N("save")})})]})})}},24520:(e,a,l)=>{l.d(a,{c:()=>S});var s=l(99584),t=l(66296),n=l(87228),r=l(68496),i=l(15752),o=l(23424),c=l(98948),d=l(59424),u=l(32712),m=l(18896),h=l(65236),p=l(24968),v=l(58896),x=l(19576),g=l(98016),j=l(61072),f=l(1428),w=l(46003),y=l(77020),b=l(53992),_=l(97884);function S(e){let{data:a}=e;const l=(0,u.OY)(),S=(0,o.i6)(),{t:k}=(0,h.G)(),[I,C]=(0,s.useState)(null),[q,P]=(0,s.useState)(null),{setIsModalVisible:N}=(0,s.useContext)(g.e),[z,E]=(0,s.useState)(!1),{activeMenu:M}=(0,u.w1)((e=>e.menu),u.G),{orders:G,meta:V,loading:F,params:H}=(0,u.w1)((e=>e.orders),u.G),{defaultCurrency:O}=(0,u.w1)((e=>e.currency),u.G),[Y,L]=(0,s.useState)([{title:k("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:k("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,_.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:k("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:e=>(0,_.jsxs)("div",{className:"text-lowercase",children:[e||0," ",k("products")]})},{title:k("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:e=>(0,p.c)(e,null===O||void 0===O?void 0:O.symbol)},{title:k("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var a;return k(null===e||void 0===e||null===(a=e.payment_system)||void 0===a?void 0:a.tag)||"-"}},{title:k("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:k("options"),is_show:!0,key:"options",render:(e,a)=>(0,_.jsxs)(t.c,{children:[(0,_.jsx)(n.c,{icon:(0,_.jsx)(c.c,{}),onClick:()=>(e=>{l((0,m.WC)({url:"order/details/".concat(e.id),id:"order_details",name:k("order.details")})),S("/order/details/".concat(e.id))})(a)}),(0,_.jsx)(f.c,{icon:(0,_.jsx)(d.c,{}),onClick:()=>{C([a.id]),N(!0),P(!0)}})]})}]);(0,s.useEffect)((()=>{const e={user_id:null===a||void 0===a?void 0:a.uuid,page:1,perPage:10};l((0,v.ob)(e))}),[]);const T={selectedRowKeys:I,onChange:e=>{C(e)}};return(0,_.jsx)("div",{children:(0,_.jsxs)(r.default,{title:k("orders"),extra:(0,_.jsxs)(t.c,{wrap:!0,children:[(0,_.jsx)(f.c,{type:"danger",onClick:()=>{null===I||0===I.length?j.m4.warning(k("select.the.product")):(N(!0),P(!1))},children:k("delete.all")}),(0,_.jsx)(b.c,{setColumns:L,columns:Y})]}),children:[(0,_.jsx)(i.c,{scroll:{x:!0},rowSelection:T,columns:null===Y||void 0===Y?void 0:Y.filter((e=>e.is_show)),dataSource:G,loading:F,pagination:{pageSize:H.perPage,page:H.page,total:V.total,defaultCurrent:H.page},rowKey:e=>e.id,onChange:function(e,a,s){const{pageSize:t,current:n}=e,{field:r,order:i}=s,o=(0,x.c)(i);l((0,m.MH)({activeMenu:M,data:{...M.data,perPage:t,page:n,column:r,sort:o}}))}}),(0,_.jsx)(w.c,{click:()=>{E(!0);const e={...Object.assign({},...I.map(((e,a)=>({["ids[".concat(a,"]")]:e}))))};y.c.delete(e).then((()=>{j.m4.success(k("successfully.deleted")),N(!1),l((0,v.ob)()),P(null)})).finally((()=>E(!1)))},text:k(q?"delete":"all.delete"),loading:z,setText:C})]})})}},63400:(e,a,l)=>{l.d(a,{c:()=>v});var s=l(99584),t=l(65732),n=l(68496),r=l(68768),i=l(10260),o=l(46712),c=l(87228),d=l(23424),u=l(61072),m=l(42080),h=l(65236),p=l(97884);function v(){const{t:e}=(0,h.G)(),[a]=t.c.useForm(),[l,v]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),{uuid:j}=(0,d.W4)();return(0,p.jsx)(n.default,{title:e("user.password.change"),children:(0,p.jsx)(t.c,{form:a,layout:"vertical",onFinish:a=>{g(!0);const l={password:a.password?a.password:void 0,password_confirmation:a.password_confirmation};m.c.updatePassword(j,l).then((()=>{u.m4.success(e("successfully.created"))})).catch((e=>v(e.response.data.params))).finally((()=>g(!1)))},children:(0,p.jsxs)(r.c,{gutter:12,children:[(0,p.jsx)(i.c,{span:12,children:(0,p.jsx)(t.c.Item,{label:e("password"),name:"password",help:null!==l&&void 0!==l&&l.password?l.password[0]:null,validateStatus:null!==l&&void 0!==l&&l.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,p.jsx)(o.default.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,p.jsx)(i.c,{span:12,children:(0,p.jsx)(t.c.Item,{label:e("password.confirmation"),help:null!==l&&void 0!==l&&l.password_confirmation?l.password_confirmation[0]:null,validateStatus:null!==l&&void 0!==l&&l.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},a=>{let{getFieldValue:l}=a;return{validator:(a,s)=>s&&l("password")!==s?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}],children:(0,p.jsx)(o.default.Password,{type:"password",placeholder:"********"})})}),(0,p.jsx)(i.c,{span:24,children:(0,p.jsx)(c.c,{type:"primary",htmlType:"submit",loading:x,children:e("save")})})]})})})}},70496:(e,a,l)=>{l.d(a,{c:()=>_});var s=l(99584),t=l(66296),n=l(87228),r=l(15752),i=l(32712),o=l(65236),c=l(24968),d=l(42080),u=l(3952),m=l(65732),h=l(95884),p=l(10240),v=l(46712),x=l(61072),g=l(18896),j=l(97884);function f(e){let{modal:a,uuid:l,handleCancel:t}=e;const[r,c]=(0,s.useState)(!1),[u]=m.c.useForm(),{t:f}=(0,o.G)(),w=(0,i.OY)(),{activeMenu:y}=(0,i.w1)((e=>e.menu),i.G);return(0,j.jsx)(h.default,{visible:a,title:f("topup.wallet"),onCancel:t,footer:[(0,j.jsx)(n.c,{type:"default",onClick:t,children:f("cancel")},"cancel-btn"),(0,j.jsx)(n.c,{type:"primary",onClick:()=>u.submit(),loading:r,children:f("save")},"submit-btn")],children:(0,j.jsxs)(m.c,{layout:"vertical",form:u,onFinish:e=>{c(!0),d.c.topupWallet(l,e).then((()=>{x.m4.success(f("successfully.added")),w((0,g.A1)(y)),t()})).finally((()=>c(!1)))},children:[(0,j.jsx)(m.c.Item,{label:f("price"),name:"price",rules:[{required:!0,message:f("required")}],children:(0,j.jsx)(p.c,{min:0,className:"w-100"})}),(0,j.jsx)(m.c.Item,{label:f("note"),name:"note",children:(0,j.jsx)(v.default,{})})]})})}var w=l(53992),y=l(83072),b=l.n(y);function _(e){var a;let{data:l}=e;const{t:m}=(0,o.G)(),[h,p]=(0,s.useState)(1),[v,x]=(0,s.useState)(10),[g,y]=(0,s.useState)(1),[_,S]=(0,s.useState)(!1),[k,I]=(0,s.useState)([]),[C,q]=(0,s.useState)(!1),{defaultCurrency:P}=(0,i.w1)((e=>e.currency),i.G),[N,z]=(0,s.useState)([{title:m("created.by"),dataIndex:"author",key:"author",is_show:!0,render:e=>(0,j.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:m("price"),dataIndex:"price",key:"price",is_show:!0,render:e=>(0,c.c)(e,null===P||void 0===P?void 0:P.symbol)},{title:m("note"),dataIndex:"note",key:"note",is_show:!0},{title:m("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>b()(e).format("YYYY-MM-DD HH:mm")}]);return(0,s.useEffect)((()=>{!function(){S(!0);const e={pageSize:10,page:h||1};d.c.walletHistory(l.uuid,e).then((e=>{I(e.data),y(e.meta.total)})).finally((()=>S(!1)))}()}),[h]),(0,j.jsxs)("div",{className:"px-2",children:[(0,j.jsx)("div",{className:"d-flex justify-content-end",children:(0,j.jsxs)(t.c,{wrap:!0,children:[(0,j.jsx)(n.c,{type:"primary",icon:(0,j.jsx)(u.c,{}),onClick:()=>q(!0),children:"".concat(m("wallet"),": ").concat((0,c.c)(null===l||void 0===l||null===(a=l.wallet)||void 0===a?void 0:a.price,null===P||void 0===P?void 0:P.symbol))}),(0,j.jsx)(w.c,{columns:N,setColumns:z})]})}),(0,j.jsx)(r.c,{scroll:{x:!0},columns:null===N||void 0===N?void 0:N.filter((e=>e.is_show)),dataSource:k,loading:_,pagination:{pageSize:v,page:h,total:g},rowKey:e=>e.id,onChange:function(e,a,l){const{pageSize:s,current:t}=e;p(t),x(s)}}),C&&(0,j.jsx)(f,{modal:C,uuid:l.uuid,handleCancel:()=>q(!1)})]})}},3952:(e,a,l)=>{l.d(a,{c:()=>o});var s=l(30800),t=l(99584);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var r=l(47164),i=function(e,a){return t.createElement(r.c,(0,s.c)((0,s.c)({},e),{},{ref:a,icon:n}))};i.displayName="PlusCircleOutlined";const o=t.forwardRef(i)},55512:(e,a,l)=>{l.d(a,{c:()=>o});var s=l(30800),t=l(99584);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var r=l(47164),i=function(e,a){return t.createElement(r.c,(0,s.c)((0,s.c)({},e),{},{ref:a,icon:n}))};i.displayName="TableOutlined";const o=t.forwardRef(i)}}]);