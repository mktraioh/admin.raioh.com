(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5100],{89896:(t,e,n)=>{"use strict";n.d(e,{c:()=>p});var i=n(99584),l=n(8808),s=n(52640);const o=n.p+"static/media/pin.0e41858db80c699cd8a2.png";var d=n(71760),c=n.n(d);async function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.KU,n={latlng:"".concat(null===t||void 0===t?void 0:t.lat,",").concat(null===t||void 0===t?void 0:t.lng),key:e};return c().get("https://maps.googleapis.com/maps/api/geocode/json",{params:n}).then((t=>{var e;let{data:n}=t;return null===(e=n.results[0])||void 0===e?void 0:e.formatted_address})).catch((t=>"not found"))}var a=n(29416),u=n(61072),v=n(65236),h=n(97884);const p=(0,l.GoogleApiWrapper)({apiKey:s.KU})((function(t){const[e,n]=(0,i.useState)(),{t:d}=(0,v.G)(),c=async()=>{await navigator.geolocation.getCurrentPosition((function(t){const e={lat:t.coords.latitude,lng:t.coords.longitude};n(e)}),(function(t){u.m4.warning(d("turn.on.gps"))}))};(0,i.useEffect)((()=>{c()}),[]);const p=[{lat:Number(t.location.lat)||0,lng:Number(t.location.lng)||0}];for(var x=new t.google.maps.LatLngBounds,m=0;m<p.length;m++)x.extend(p[m]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:()=>{c(),e&&(async e=>{const n={lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng};t.setLocation(n);const i=await r(n,s.KU);t.setAddress(i)})(e)},children:(0,h.jsx)(a.mEX,{})}),(0,h.jsx)(l.Map,{cursor:"pointer",onClick:async(e,n,i)=>{const{latLng:l}=i,o={lat:l.lat(),lng:l.lng()};t.setLocation(o);const d=await r(o,s.KU);t.setAddress(d)},google:t.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:t.location,center:t.location,children:(0,h.jsx)(l.Marker,{position:t.location,icon:{url:o,scaledSize:new t.google.maps.Size(32,32)},className:"marker"})})]})}))},66596:(t,e,n)=>{"use strict";n.d(e,{c:()=>r});n(99584);var i=n(65236),l=n(74408);const s=n.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",o=n.p+"static/media/noresult.ac4af107751f94856a9c.riv",d=n.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var c=n(97884);const r=function(t){let{id:e="noresult",text:n=""}=t;const{t:r}=(0,i.G)(),a={src:{noproductsfound:s,noresult:o,nosell:d}[e],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,l.useRive)(a);return(0,c.jsxs)("div",{className:"animation-canvas",children:[(0,c.jsx)("div",{style:{width:"100%",height:200},children:(0,c.jsx)(u,{})}),(0,c.jsx)("div",{className:"text",children:r(n)})]})}},40748:(t,e,n)=>{"use strict";n.d(e,{c:()=>c});var i=n(99584),l=n(46712),s=n(78816),o=n(6724),d=n(97884);function c(t){let{handleChange:e,defaultValue:n,resetSearch:c,...r}=t;const[a,u]=(0,i.useState)(n),v=(0,i.useMemo)((()=>(0,s.debounce)((t=>{e(t)}),800)),[e]);return(0,i.useEffect)((()=>{u(n)}),[c,n]),(0,d.jsx)(l.default,{value:a,onChange:t=>{u(t.target.value),v(t.target.value)},prefix:(0,d.jsx)(o.c,{}),...r})}},33131:(t,e,n)=>{"use strict";n.d(e,{c:()=>i});n(52640);function i(t){if(null===t||void 0===t||!t.location)return{lat:47.4143302506288,lng:8.532059477976883};const e=t.location.split(", ");return{lat:Number(null===e||void 0===e?void 0:e[0]),lng:Number(null===e||void 0===e?void 0:e[1])}}},21712:(t,e,n)=>{"use strict";function i(t,e){for(var n=[],i=[],l="",s=0;s<(null===(o=t.stocks)||void 0===o?void 0:o.length);s++){var o,d;l="";for(var c=0;c<(null===(r=t.stocks[s].extras)||void 0===r?void 0:r.length);c++){var r,a=Object.assign({},t.stocks[s].extras[c]),u=n.findIndex((t=>t.id==a.id));-1==u?(a.level=c,a.up=[l],n.push(a),l+=a.id.toString()):(n[u].up.push(l),l+=a.id.toString())}var v={id:t.stocks[s].id,extras:l,price:t.stocks[s].price,quantity:t.stocks[s].quantity,countable_id:t.stocks[s].countable_id,discount:t.stocks[s].discount,tax:t.stocks[s].tax,total_price:t.stocks[s].total_price,bonus:t.stocks[s].bonus,addons:(null===(d=t.stock)||void 0===d?void 0:d.addons)||t.stocks[s].addons};for(let t=0;t<(null===(h=v.addons)||void 0===h?void 0:h.length);t++){var h;for(let n=0;n<(null===e||void 0===e?void 0:e.length);n++){var p,x,m;v.addons[t].addon_id===((null===(p=e[n].stock)||void 0===p||null===(x=p.product)||void 0===x?void 0:x.id)||(null===(m=e[n].product)||void 0===m?void 0:m.id))&&(v.addons[t].product.quantity=e[n].quantity)}}i.push(v)}return{stock:i,extras:n}}function l(t,e,n){for(var i=""==t?[]:t.split(","),l=[],s=[],o=0;o<=i.length;o++){o-1>=0&&(s[s.length]=i[o-1].toString()),(d=e.filter((t=>{if(new Set(t.up).has(s.join("")))return t}))).length>0&&l.push(d)}o=0;if(s.length<l.length)for(;o<e.length;){var d;if(s[s.length]=l[l.length-1][0].id.toString(),0==(d=e.filter((t=>{if(new Set(t.up).has(s.join("")))return t}))).length)break;l.push(d),o++}var c=n.findIndex((t=>t.extras==s.join("")));return{stock:n[c],extras:l}}n.d(e,{M:()=>l,Y:()=>i})},66684:(t,e,n)=>{"use strict";function i(t){var e;const n=null===t||void 0===t||null===(e=t.extras)||void 0===e?void 0:e.find((t=>"image"===t.group.type));return n?n.value:""}n.d(e,{c:()=>i})},24968:(t,e,n)=>{"use strict";function i(t){if(!t)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(t).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}n.d(e,{c:()=>i})},71976:(t,e,n)=>{"use strict";function i(t,e){var n;const i=(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||"pcs";if(!t)return 0;switch(null===e||void 0===e?void 0:e.position){case"after":return t+" "+i;case"before":return i+" "+t}}n.d(e,{c:()=>i})},2916:(t,e,n)=>{"use strict";n.d(e,{c:()=>l});var i=n(33012);const l={checkCoupon:t=>i.c.post("rest/coupons/check",t),checkCashback:t=>i.c.post("rest/cashback/check",t)}},68048:(t,e,n)=>{"use strict";n.d(e,{c:()=>j});var i=n(99584),l=n(95884),s=n(87228),o=n(37728),d=n(68496),c=n(15752),r=n(66296),a=n(98044),u=n(77020),v=n(75456),h=n(19600),p=n(83072),x=n.n(p),m=n(24968),f=n(65236),g=n(97884);const j=t=>{var e,n,p,j,y,b,k,N,w,_,C,S;let{orderId:z,handleClose:H}=t;const{t:I}=(0,f.G)(),[M,V]=(0,i.useState)(!1),[q,E]=(0,i.useState)(null),[K,B]=(0,i.useState)([]);return(0,i.useEffect)((()=>{z&&(V(!0),u.c.getById(z).then((t=>{E(t.data);const e=t.data.details.map((t=>({...t,product:t.stock.product}))).flat();B(e)})).finally((()=>V(!1))))}),[z]),(0,g.jsx)(l.default,{visible:!!z,title:I("order.created.successfully"),onOk:H,onCancel:H,className:"container",footer:[(0,g.jsx)(s.c,{onClick:H,className:"buttons",children:I("back")}),(0,g.jsxs)(s.c,{type:"primary",onClick:()=>window.print(),className:"buttons",children:[(0,g.jsx)(h.c,{type:"printer"}),(0,g.jsx)("span",{className:"ml-1",children:I("print")})]})],style:{minWidth:"80vw"},children:(0,g.jsx)("div",{className:"py-4 order-preview",children:M?(0,g.jsx)("div",{className:"w-100 text-center",children:(0,g.jsx)(o.c,{})}):(0,g.jsxs)(d.default,{children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("h2",{className:"mb-1 font-weight-semibold",children:[I("invoice")," #",null===q||void 0===q?void 0:q.id]}),(0,g.jsx)("p",{children:x()(null===q||void 0===q?void 0:q.created_at).format("DD/M/YYYY")}),(0,g.jsx)("address",{children:(0,g.jsxs)("p",{children:[(0,g.jsxs)("span",{children:[I("delivery.type"),": ",null===q||void 0===q?void 0:q.delivery_type]}),(0,g.jsx)("br",{}),(0,g.jsxs)("span",{children:[I("delivery.address"),": ",null===q||void 0===q||null===(e=q.address)||void 0===e?void 0:e.address]}),(0,g.jsx)("br",{}),(0,g.jsxs)("span",{children:[I("delivery.date"),": ",null===q||void 0===q?void 0:q.delivery_date," ",null===q||void 0===q?void 0:q.delivery_time]}),(0,g.jsx)("br",{}),(0,g.jsxs)("span",{children:[I("note"),": ",null===q||void 0===q?void 0:q.note]})]})})]}),(0,g.jsx)("address",{children:(0,g.jsxs)("p",{children:[(0,g.jsxs)("span",{className:"font-weight-semibold text-dark font-size-md",children:[null===q||void 0===q||null===(n=q.user)||void 0===n?void 0:n.firstname," ",null===q||void 0===q||null===(p=q.user)||void 0===p?void 0:p.lastname]}),(0,g.jsx)("br",{}),(0,g.jsxs)("span",{children:[I("phone"),": ",null===q||void 0===q?void 0:q.phone]}),(0,g.jsx)("br",{}),(0,g.jsxs)("span",{children:[I("email"),": ",null===q||void 0===q||null===(j=q.user)||void 0===j?void 0:j.email]})]})})]}),(0,g.jsxs)("div",{className:"mt-4",children:[(0,g.jsxs)(c.c,{scroll:{x:!0},dataSource:K,rowKey:t=>t.id,pagination:!1,className:"mb-5",children:[(0,g.jsx)(v.c,{title:"No.",dataIndex:"id"},"id"),(0,g.jsx)(v.c,{title:I("product"),dataIndex:"product",render:(t,e)=>{var n,i;return(0,g.jsxs)(r.c,{wrap:!0,children:[(0,g.jsx)("span",{children:null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title}),null===(i=e.addons)||void 0===i?void 0:i.map((t=>{var e,n,i;return(0,g.jsxs)(a.c,{children:[null===(e=t.stock)||void 0===e||null===(n=e.product)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title," x"," ",t.quantity]},t.id)}))]})}},"product"),(0,g.jsx)(v.c,{title:I("quantity"),dataIndex:"quantity",render:(t,e)=>{var n,i,l,s,o,d;return(0,g.jsxs)("span",{children:[e.quantity*((null===e||void 0===e||null===(n=e.stock)||void 0===n||null===(i=n.product)||void 0===i?void 0:i.interval)||1),null===e||void 0===e||null===(l=e.stock)||void 0===l||null===(s=l.product)||void 0===s||null===(o=s.unit)||void 0===o||null===(d=o.translation)||void 0===d?void 0:d.title]})}},"quantity"),(0,g.jsx)(v.c,{title:I("discount"),dataIndex:"discount",render:t=>{var e;return(0,m.c)(t,null===q||void 0===q||null===(e=q.currency)||void 0===e?void 0:e.symbol)}},"discount"),(0,g.jsx)(v.c,{title:I("origin_price"),dataIndex:"origin_price",render:t=>{var e;return(0,m.c)(t,null===q||void 0===q||null===(e=q.currency)||void 0===e?void 0:e.symbol)}},"origin_price"),(0,g.jsx)(v.c,{title:I("tax"),dataIndex:"tax",render:t=>{var e;return(0,m.c)(t,null===q||void 0===q||null===(e=q.currency)||void 0===e?void 0:e.symbol)}},"tax"),(0,g.jsx)(v.c,{title:I("price"),dataIndex:"total_price",render:t=>{var e;return(0,m.c)(t,null===q||void 0===q||null===(e=q.currency)||void 0===e?void 0:e.symbol)}},"total_price")]}),(0,g.jsx)("div",{className:"d-flex justify-content-end",children:(0,g.jsxs)("div",{className:"text-right ",children:[(0,g.jsxs)("div",{className:"border-bottom",children:[(0,g.jsxs)("p",{className:"mb-2",children:[(0,g.jsxs)("span",{children:[I("sub-total.amount"),": "]}),(0,m.c)(null===q||void 0===q?void 0:q.details.reduce(((t,e)=>t+e.origin_price),0),null===q||void 0===q||null===(y=q.currency)||void 0===y?void 0:y.symbol)]}),(0,g.jsxs)("p",{children:[I("delivery.price")," :"," ",(0,m.c)(null===q||void 0===q?void 0:q.delivery_fee,null===q||void 0===q||null===(b=q.currency)||void 0===b?void 0:b.symbol)]}),(0,g.jsxs)("p",{children:[I("shop.tax")," :"," ",(0,m.c)(null===q||void 0===q?void 0:q.tax,null===q||void 0===q||null===(k=q.currency)||void 0===k?void 0:k.symbol)]}),(0,g.jsxs)("p",{children:[I("product.tax")," :"," ",(0,m.c)(null===q||void 0===q||null===(N=q.details)||void 0===N?void 0:N.reduce(((t,e)=>t+e.tax),0),null===q||void 0===q||null===(w=q.currency)||void 0===w?void 0:w.symbol)]}),(0,g.jsxs)("p",{children:[I("service.fee")," :"," ",(0,m.c)(null===q||void 0===q?void 0:q.service_fee,null===q||void 0===q||null===(_=q.currency)||void 0===_?void 0:_.symbol)]})]}),(0,g.jsxs)("h2",{className:"font-weight-semibold mt-3",children:[(0,g.jsxs)("span",{className:"mr-1",children:[I("grand.total"),":"," ",(0,g.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,m.c)(null===q||void 0===q?void 0:q.total_price,null===q||void 0===q||null===(C=q.currency)||void 0===C?void 0:C.symbol)})]}),null!==q&&void 0!==q&&q.total_discount?(0,g.jsxs)("div",{children:[(0,g.jsxs)("h3",{children:[I("total.discount"),":"]})," ",(0,g.jsx)("span",{className:"strike",children:(0,m.c)(null===q||void 0===q?void 0:q.total_discount,null===q||void 0===q||null===(S=q.currency)||void 0===S?void 0:S.symbol)})]}):null]})]})})]})]})})})}},59956:(t,e,n)=>{"use strict";n.d(e,{c:()=>c});var i=n(30800),l=n(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var o=n(47164),d=function(t,e){return l.createElement(o.c,(0,i.c)((0,i.c)({},t),{},{ref:e,icon:s}))};d.displayName="MinusOutlined";const c=l.forwardRef(d)},3952:(t,e,n)=>{"use strict";n.d(e,{c:()=>c});var i=n(30800),l=n(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=n(47164),d=function(t,e){return l.createElement(o.c,(0,i.c)((0,i.c)({},t),{},{ref:e,icon:s}))};d.displayName="PlusCircleOutlined";const c=l.forwardRef(d)},19600:(t,e,n)=>{"use strict";n.d(e,{c:()=>c});var i=n(30800),l=n(99584);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"};var o=n(47164),d=function(t,e){return l.createElement(o.c,(0,i.c)((0,i.c)({},t),{},{ref:e,icon:s}))};d.displayName="PrinterOutlined";const c=l.forwardRef(d)},75456:(t,e)=>{"use strict";e.c=void 0;var n=function(t){return null};e.c=n},16204:()=>{}}]);