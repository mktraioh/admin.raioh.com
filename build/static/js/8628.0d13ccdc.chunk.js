"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8628],{19576:(e,r,d)=>{function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}d.d(r,{c:()=>i})},24968:(e,r,d)=>{function i(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}d.d(r,{c:()=>i})},68628:(e,r,d)=>{d.r(r),d.d(r,{default:()=>Y});var i=d(99584),o=d(73568),t=d(68496),a=d(66296),n=d(15752),l=d(23424),s=d(32712),u=d(18896),c=d(65236),v=d(68256),_=d(19576),p=d(24968),f=d(83072),h=d.n(f),m=d(55624),y=d(97884);const{RangePicker:g}=o.default;function Y(){var e,r,d,o,f,Y,x;const{type:w}=(0,l.W4)(),M=(0,s.OY)(),{t:b}=(0,c.G)(),{defaultCurrency:k}=(0,s.w1)((e=>e.currency),s.G),D=[{title:b("order.id"),is_show:!0,dataIndex:"order_id",key:"order_id",sorter:!0,render:e=>(0,y.jsxs)("span",{className:"text-hover",children:["#",e]})},{title:b("order.total_price"),is_show:!0,dataIndex:"transaction",key:"transaction",render:(e,r)=>{var d;return(0,y.jsx)("span",{children:(0,p.c)(null===r||void 0===r||null===(d=r.order)||void 0===d?void 0:d.total_price,k.symbol)})}},{title:b("coupon.price"),is_show:!0,dataIndex:"coupon_sum_price",key:"coupon_sum_price",render:(e,r)=>{var d;return(0,p.c)(null===r||void 0===r||null===(d=r.order)||void 0===d?void 0:d.coupon_sum_price)}},{title:b("total.cashback"),is_show:!0,dataIndex:"point_history_sum_price",key:"point_history_sum_price",render:(e,r)=>{var d;return(0,p.c)(null===r||void 0===r||null===(d=r.order)||void 0===d?void 0:d.point_history_sum_price)}},{title:b("delivery.fee"),is_show:!0,dataIndex:"delivery_fee",key:"delivery_fee",render:(e,r)=>{var d;return(0,p.c)(null===r||void 0===r||null===(d=r.order)||void 0===d?void 0:d.delivery_fee)}},{title:b("service.fee"),is_show:!0,dataIndex:"service_fee",key:"service_fee",render:(e,r)=>{var d;return(0,p.c)(((null===r||void 0===r||null===(d=r.order)||void 0===d?void 0:d.service_fee)||0)+((null===r||void 0===r?void 0:r.order.commission_fee)||0))}},{title:b("seller.fee"),is_show:!0,dataIndex:"seller_fee",key:"seller_fee",render:(e,r)=>{var d;return(0,p.c)(null===r||void 0===r||null===(d=r.order)||void 0===d?void 0:d.seller_fee)}},{title:b("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var r;return b(null===e||void 0===e||null===(r=e.payment_system)||void 0===r?void 0:r.tag)||"-"}}],{activeMenu:j}=(0,s.w1)((e=>e.menu),s.G),[I,C]=(0,i.useState)(h()().subtract(1,"month"),h()()),{list:A,loading:P,params:G,meta:N}=(0,s.w1)((e=>e.paymentToPartners),s.G),S=j.data,O={search:null===S||void 0===S?void 0:S.search,sort:null===S||void 0===S?void 0:S.sort,column:null===S||void 0===S?void 0:S.column,perPage:null===S||void 0===S?void 0:S.perPage,page:null===S||void 0===S?void 0:S.page,user_id:null===S||void 0===S?void 0:S.user_id,shop_id:null!==(null===(e=j.data)||void 0===e?void 0:e.shop_id)?null===(r=j.data)||void 0===r?void 0:r.shop_id:null,date_from:Array.isArray(I)?null===(d=I[0])||void 0===d?void 0:d.format("YYYY-MM-DD"):h()().subtract(1,"month").format("YYYY-MM-DD"),date_to:Array.isArray(I)?null===(o=I[1])||void 0===o?void 0:o.format("YYYY-MM-DD"):h()().format("YYYY-MM-DD"),type:w};(0,v.c)((()=>{M((0,m.Ab)(O))}),[S,I,w]);return(0,i.useEffect)((()=>{null!==j&&void 0!==j&&j.refetch&&(M((0,m.Ab)(O)),M((0,u.CO)(j)))}),[null===j||void 0===j?void 0:j.refetch]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(t.default,{children:(0,y.jsx)("div",{className:"flex justify-content-space-between",children:(0,y.jsx)(a.c,{wrap:!0,className:"order-filter",style:{flex:1,width:"100%"},children:(0,y.jsx)(g,{value:I,onChange:e=>{var r,d;r=r=>{var d,i;return{...r,date_from:null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(i=e[1])||void 0===i?void 0:i.format("YYYY-MM-DD")}},M((0,u.MH)({activeMenu:j,data:{...S,[d]:r}})),C(e)},disabledDate:e=>e&&e>h()().endOf("day"),style:{width:"100%"}})})})}),(0,y.jsx)(t.default,{children:(0,y.jsx)(n.c,{scroll:{x:!0},columns:null===D||void 0===D?void 0:D.filter((e=>e.is_show)),dataSource:A,loading:P,pagination:{pageSize:G.perPage,page:(null===(f=j.data)||void 0===f?void 0:f.page)||1,total:null===N||void 0===N?void 0:N.total,defaultCurrent:null===(Y=j.data)||void 0===Y?void 0:Y.page,current:null===(x=j.data)||void 0===x?void 0:x.page},rowKey:e=>e.id,onChange:function(e,r,d){const{pageSize:i,current:o}=e,{field:t,order:a}=d,n=(0,_.c)(a);M((0,u.MH)({activeMenu:j,data:{...S,perPage:i,page:o,column:t,sort:n}}))}})})]})}}}]);