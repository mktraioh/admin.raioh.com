"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4160],{53992:(e,t,l)=>{l.d(t,{c:()=>m});var a=l(99584),n=l(49308),i=l(92200),s=l(66296),c=l(26012),d=l(72192),o=l(35928),r=l(87228),u=l(55512),h=l(65236),v=l(97884);const{Text:x}=n.default,m=e=>{let{columns:t=[],setColumns:l,style:n,size:m="",iconOnly:p}=e;const{t:f}=(0,h.G)(),[j,g]=(0,a.useState)(!1),b=(0,v.jsx)(i.c,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,v.jsx)(i.c.Item,{children:(0,v.jsxs)(s.c,{className:"d-flex justify-content-between",children:[(0,v.jsx)(x,{children:e.title}),(0,v.jsx)(c.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(a)}(e),disabled:1===a})]})},e+a)))});return(0,v.jsx)(d.c,{overlay:b,trigger:["click"],onVisibleChange:e=>{g(e)},visible:j,children:(0,v.jsx)(o.c,{title:f("change.columns"),children:(0,v.jsx)(r.c,{style:{...n},size:m,icon:(0,v.jsx)(u.c,{}),children:p?null:f("Columns")})})})}},40748:(e,t,l)=>{l.d(t,{c:()=>d});var a=l(99584),n=l(46712),i=l(78816),s=l(6724),c=l(97884);function d(e){let{handleChange:t,defaultValue:l,resetSearch:d,...o}=e;const[r,u]=(0,a.useState)(l),h=(0,a.useMemo)((()=>(0,i.debounce)((e=>{t(e)}),800)),[t]);return(0,a.useEffect)((()=>{u(l)}),[d,l]),(0,c.jsx)(n.default,{value:r,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,c.jsx)(s.c,{}),...o})}},24968:(e,t,l)=>{function a(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}l.d(t,{c:()=>a})},3096:(e,t,l)=>{l.d(t,{c:()=>v});var a=l(95884),n=l(87228),i=l(37728),s=l(37564),c=l(87968),d=l(24968),o=(l(83072),l(99584)),r=l(65236),u=l(71120),h=l(97884);const v=e=>{var t,l;let{id:v,onClose:x}=e;const{t:m}=(0,r.G)(),[p,f]=(0,o.useState)(!1),[j,g]=(0,o.useState)(null),b=(0,o.useCallback)((()=>{f(!0),v&&u.c.getById(v).then((e=>{g(e.data)})).finally((()=>{f(!1)}))}),[v]);return(0,o.useEffect)((()=>{b()}),[v,b]),(0,h.jsx)(a.default,{visible:!!v,title:m("ad.detail"),onCancel:x,footer:[(0,h.jsx)(n.c,{onClick:x,children:m("close")})],children:p?(0,h.jsx)("div",{className:"flex justify-content-center my-6",children:(0,h.jsx)(i.c,{})}):(0,h.jsxs)(s.c,{bordered:!0,children:[(0,h.jsx)(s.c.Item,{span:3,label:m("title"),children:null===j||void 0===j||null===(t=j.translation)||void 0===t?void 0:t.title}),(0,h.jsx)(s.c.Item,{span:3,label:m("price"),children:(0,d.c)(null===j||void 0===j?void 0:j.price)}),(0,h.jsxs)(s.c.Item,{span:3,label:m("time"),children:[null===j||void 0===j?void 0:j.time," ",null===j||void 0===j?void 0:j.time_type]}),(0,h.jsx)(s.c.Item,{span:3,label:m("banner"),children:(0,h.jsx)(c.c,{width:300,src:null===j||void 0===j||null===(l=j.banner)||void 0===l?void 0:l.img})})]})})}},14160:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var a=l(99584),n=l(66296),i=l(87228),s=l(98044),c=l(68496),d=l(15752),o=l(49264),r=l(32712),u=l(65236),h=l(40748),v=l(53992),x=l(18896),m=l(68256),p=l(24968),f=l(71120),j=l(61072),g=l(47148),b=l(13596),_=l(3096),w=l(83072),y=l.n(w),C=l(97884);function z(){const{t:e}=(0,u.G)(),t=(0,r.OY)(),[l,w]=(0,a.useState)(null),{activeMenu:z}=(0,r.w1)((e=>e.menu),r.G),{shopAdList:I,loading:k,meta:S}=(0,r.w1)((e=>e.advert),r.G),[V,H]=(0,a.useState)(""),[M,N]=(0,a.useState)(!1),[O,E]=(0,a.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("ad.package"),dataIndex:"ads_package",is_show:!0,render:e=>{var t;return(0,C.jsxs)(n.c,{children:[(0,C.jsx)("span",{children:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title}),(0,C.jsx)(i.c,{icon:(0,C.jsx)(b.c,{}),onClick:()=>w(e.id)})]})}},{title:e("price"),dataIndex:"price",is_show:!0,render:(e,t)=>{var l;return(0,p.c)(null===t||void 0===t||null===(l=t.ads_package)||void 0===l?void 0:l.price)}},{title:e("position.page"),dataIndex:"position_page",is_show:!0},{title:e("expire_at"),dataIndex:"expire_at",is_show:!0,render:e=>y()(e).format("YYYY-MM-DD hh:mm")},{title:e("status"),dataIndex:"status",is_show:!0,render:t=>(0,C.jsx)("div",{children:"new"===t?(0,C.jsx)(s.c,{color:"blue",children:e(t)}):"canceled"===t?(0,C.jsx)(s.c,{color:"error",children:e(t)}):(0,C.jsx)(s.c,{color:"cyan",children:e(t)})})},{title:e("transaction"),dataIndex:"transaction",is_show:!0,render:t=>(0,C.jsx)("div",{children:"paid"===(null===t||void 0===t?void 0:t.status)?(0,C.jsx)(s.c,{color:"cyan",children:e(null===t||void 0===t?void 0:t.status)}):"canceled"===(null===t||void 0===t?void 0:t.status)||"rejected"===(null===t||void 0===t?void 0:t.status)?(0,C.jsx)(s.c,{color:"error",children:e(null===t||void 0===t?void 0:t.status)}):(0,C.jsx)(s.c,{color:"orange",children:e("not.paid")})})},{title:e("options"),dataIndex:"options",is_show:!0,render:(l,a)=>{var s;return(0,C.jsx)(n.c,{children:(0,C.jsx)(i.c,{onClick:()=>(l=>{N(!0),g.c.getAll().then((a=>{const n=a.data.find((e=>"wallet"===e.tag));if(!n)return j.m4.error(e("request.admin.to.enable.payment.from.wallet")),void N(!1);f.c.purchase(l,{payment_sys_id:null===n||void 0===n?void 0:n.id}).then((()=>{j.m4.success(e("purchased.succesfully"))})).finally((()=>{N(!1),t((0,o.Oo)(G))}))})).catch((()=>{N(!1)}))})(a.id),disabled:a.deleted_at||"paid"===(null===(s=a.transaction)||void 0===s?void 0:s.status),loading:M,children:e("purchase")})})}}]),G={perPage:10,page:1,sort:"desc",column:"created_at"};(0,a.useEffect)((()=>{z.refetch&&(t((0,o.Oo)(G)),t((0,x.CO)(z)))}),[z.refetch]),(0,m.c)((()=>{const e=z.data,l={deleted_at:"deleted_at"===(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role:null,search:V};t((0,o.Oo)(l))}),[z.data,V]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.default,{className:"p-o",children:(0,C.jsxs)("div",{className:"flex justify-content-between",children:[(0,C.jsx)(h.c,{style:{maxWidth:"200px"},handleChange:e=>H(e),placeholder:e("search")}),(0,C.jsx)("div",{className:"flex gap-3",children:(0,C.jsx)(v.c,{columns:O,setColumns:E})})]})}),(0,C.jsx)(c.default,{children:(0,C.jsx)(d.c,{scroll:{x:!0},dataSource:I,columns:null===O||void 0===O?void 0:O.filter((e=>e.is_show)),rowKey:e=>e.id,loading:k||M,pagination:{pageSize:S.per_page,page:S.current_page,total:S.total},onChange:e=>{const{pageSize:l,current:a}=e;t((0,o.Oo)({perPage:l,page:a}))}})}),(0,C.jsx)(_.c,{id:l,onClose:()=>w(null)})]})}},13596:(e,t,l)=>{l.d(t,{c:()=>d});var a=l(30800),n=l(99584);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"};var s=l(47164),c=function(e,t){return n.createElement(s.c,(0,a.c)((0,a.c)({},e),{},{ref:t,icon:i}))};c.displayName="EyeFilled";const d=n.forwardRef(c)},55512:(e,t,l)=>{l.d(t,{c:()=>d});var a=l(30800),n=l(99584);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var s=l(47164),c=function(e,t){return n.createElement(s.c,(0,a.c)((0,a.c)({},e),{},{ref:t,icon:i}))};c.displayName="TableOutlined";const d=n.forwardRef(c)}}]);