"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3337],{1428:(e,t,l)=>{l.d(t,{c:()=>o});l(99584);var a=l(87228),s=l(59424),c=l(61072),n=l(65236),i=l(75088),d=l(97884);function o(e){let{size:t="",onClick:l,type:o="default",...r}=e;const{t:u}=(0,n.G)(),{isDemo:h}=(0,i.c)();return(0,d.jsx)(a.c,{size:t,icon:(0,d.jsx)(s.c,{}),onClick:e=>{h?c.m4.warning(u("cannot.work.demo")):l(e)},type:o,...r})}},53992:(e,t,l)=>{l.d(t,{c:()=>m});var a=l(99584),s=l(49308),c=l(92200),n=l(66296),i=l(26012),d=l(72192),o=l(35928),r=l(87228),u=l(55512),h=l(65236),p=l(97884);const{Text:v}=s.default,m=e=>{let{columns:t=[],setColumns:l,style:s,size:m="",iconOnly:x}=e;const{t:g}=(0,h.G)(),[f,j]=(0,a.useState)(!1),y=(0,p.jsx)(c.c,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,p.jsx)(c.c.Item,{children:(0,p.jsxs)(n.c,{className:"d-flex justify-content-between",children:[(0,p.jsx)(v,{children:e.title}),(0,p.jsx)(i.c,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(a)}(e),disabled:1===a})]})},e+a)))});return(0,p.jsx)(d.c,{overlay:y,trigger:["click"],onVisibleChange:e=>{j(e)},visible:f,children:(0,p.jsx)(o.c,{title:g("change.columns"),children:(0,p.jsx)(r.c,{style:{...s},size:m,icon:(0,p.jsx)(u.c,{}),children:x?null:g("Columns")})})})}},10920:(e,t,l)=>{l.d(t,{I:()=>o});var a=l(99584),s=l(95976),c=l.n(s),n=l(2664),i=l(37728),d=l(97884);const o=e=>{let{fetchOptions:t,debounceTimeout:l=400,hasMore:s,...o}=e;const[r,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[v,m]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null),[f,j]=(0,a.useState)(1),y=(0,a.useMemo)((()=>c()((e=>{p([]),g(e),u(!0),t({search:e}).then((e=>{p(e),j(2),u(!1)})).finally((()=>m(!1)))}),l)),[t,l,f]);return(0,d.jsxs)(n.default,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const l=e.target;v||l.scrollTop+l.offsetHeight!==l.scrollHeight||s&&(m(!0),l.scrollTo(0,l.scrollHeight),t({search:x,page:f}).then((e=>{j((e=>e+1)),p([...h,...e])})).finally((()=>m(!1))))},labelInValue:!0,filterOption:!1,onSearch:y,notFoundContent:r?(0,d.jsx)(i.c,{size:"small"}):"no results",onFocus:()=>{h.length||y("")},...o,children:[h.map(((e,t)=>(0,d.jsx)(n.default.Option,{value:e.value,children:e.label},t))),v&&(0,d.jsx)(n.default.Option,{children:(0,d.jsx)(i.c,{size:"small"})})]})}},88200:(e,t,l)=>{l.d(t,{c:()=>d});l(99584);var a=l(95884),s=l(31508),c=l(87228),n=l(65236),i=l(97884);const d=e=>{let{open:t,handleCancel:l,text:d,click:o,loading:r,subTitle:u}=e;const{t:h}=(0,n.G)();return(0,i.jsxs)(a.default,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,i.jsx)(s.cp,{status:"warning",title:d,subTitle:u}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(c.c,{type:"primary",className:"mr-2",onClick:o,loading:r,children:h("yes")}),(0,i.jsx)(c.c,{onClick:()=>l(),children:h("no")})]})]})}},40748:(e,t,l)=>{l.d(t,{c:()=>d});var a=l(99584),s=l(46712),c=l(78816),n=l(6724),i=l(97884);function d(e){let{handleChange:t,defaultValue:l,resetSearch:d,...o}=e;const[r,u]=(0,a.useState)(l),h=(0,a.useMemo)((()=>(0,c.debounce)((e=>{t(e)}),800)),[t]);return(0,a.useEffect)((()=>{u(l)}),[d,l]),(0,i.jsx)(s.default,{value:r,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,i.jsx)(n.c,{}),...o})}},19576:(e,t,l)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{c:()=>a})},73337:(e,t,l)=>{l.r(t),l.d(t,{default:()=>J});var a=l(99584),s=l(36668),c=l(20108),n=l(59424),i=l(3952),d=l(48292),o=l(84616),r=l(66296),u=l(98044),h=l(87968),p=l(26012),v=l(87228),m=l(68496),x=l(15752),g=l(52640),f=l(98016),j=l(23424),y=l(61072),C=l(46003),b=l(32712),k=l(18896),w=l(75808),S=l(65236),_=l(1428),H=l(53992),z=l(40748),V=l(68256),M=l(74788),I=l(50428),N=l(88200),O=l(19576),T=l(48740),W=l(65732),Y=l(95884),G=l(68768),F=l(10260),q=l(2664),A=l(97884);const E=["pending","published","unpublished"];function K(e){let{data:t,handleCancel:l,paramsData:s}=e;const c=(0,b.OY)(),{t:n}=(0,S.G)(),{activeMenu:i}=(0,b.w1)((e=>e.menu),b.G),[d]=W.c.useForm(),[o,r]=(0,a.useState)(!1);return(0,A.jsx)(Y.default,{visible:!!t,title:null===t||void 0===t?void 0:t.title,onCancel:l,footer:[(0,A.jsx)(v.c,{type:"primary",onClick:()=>d.submit(),loading:o,children:n("save")}),(0,A.jsx)(v.c,{type:"default",onClick:l,children:n("cancel")})],children:(0,A.jsx)(W.c,{form:d,layout:"vertical",onFinish:e=>{r(!0);const a={...e};w.c.statusUpdate(t.uuid,a).then((()=>{l(),c((0,T.aY)(s)),c((0,k.CO)(i))})).finally((()=>r(!1)))},initialValues:{status:t.status},children:(0,A.jsx)(G.c,{gutter:12,children:(0,A.jsx)(F.c,{span:24,children:(0,A.jsx)(W.c.Item,{label:n("status"),name:"status",rules:[{required:!0,message:n("required")}],children:(0,A.jsx)(q.default,{children:E.map(((e,t)=>(0,A.jsx)(q.default.Option,{value:e,children:n(e)},e+t)))})})})})})})}var B=l(48820),D=l(10920);const P=["blue","red","gold","volcano","cyan","lime"],{TabPane:R}=o.default,U=["all","pending","published","unpublished","deleted_at"],J=()=>{var e,t,l,W,Y,G;const{t:F}=(0,S.G)(),q=(0,b.OY)(),E=(0,j.i6)(),{activeMenu:J}=(0,b.w1)((e=>e.menu),b.G),[L,Q]=(0,a.useState)(null),[X,Z]=(0,a.useState)("all"),[$,ee]=(0,a.useState)(null),[te,le]=(0,a.useState)(null),ae=(null===(e=J.data)||void 0===e?void 0:e.role)||X,[se,ce]=(0,a.useState)(null);const[ne,ie]=(0,a.useState)([{title:F("id"),dataIndex:"id",key:"id",is_show:!0},{title:F("name"),dataIndex:"name",key:"name",is_show:!0},{title:F("created.by"),dataIndex:"shop",key:"shop",is_show:!0,render:e=>{var t;return e?(0,A.jsx)("span",{onClick:()=>(e=>{q((0,k.WC)({id:"edit-shop",url:"shop/".concat(e.uuid),name:F("edit.shop")})),E("/shop/".concat(e.uuid),{state:"edit"})})(e),className:"text-hover",children:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title}):F("admin")}},{title:F("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var l;return(0,A.jsx)(r.c,{children:null===(l=t.locales)||void 0===l?void 0:l.map(((e,t)=>(0,A.jsx)(u.c,{className:"text-uppercase",color:[P[t]],children:e})))})}},{title:F("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>(0,A.jsx)(h.c,{src:t.deleted_at?"https://via.placeholder.com/150":e,alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+t.id)},{title:F("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,A.jsx)(p.c,{onChange:()=>{de(!0),re(t.uuid),ee(!0)},disabled:t.deleted_at,checked:e})},{title:F("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,A.jsxs)("div",{children:["pending"===e?(0,A.jsx)(u.c,{color:"blue",children:F(e)}):"unpublished"===e?(0,A.jsx)(u.c,{color:"error",children:F(e)}):(0,A.jsx)(u.c,{color:"cyan",children:F(e)}),t.deleted_at?"":(0,A.jsx)(s.c,{onClick:()=>le(t)})]})},{title:F("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,A.jsxs)(r.c,{children:[(0,A.jsx)(v.c,{type:"primary",icon:(0,A.jsx)(s.c,{}),onClick:()=>function(e){q((0,k.WC)({url:"recipe-category/edit/".concat(e.uuid),id:"category_edit",name:F("edit.category")})),E("/recipe-category/edit/".concat(e.uuid),{state:"edit"})}(t),disabled:t.deleted_at}),(0,A.jsx)(v.c,{icon:(0,A.jsx)(c.c,{}),onClick:()=>{return e=t.uuid,q((0,k.WC)({id:"category-clone",url:"recipe-category-clone/".concat(e),name:F("category.clone")})),void E("/recipe-category-clone/".concat(e),{state:"clone"});var e},disabled:t.deleted_at}),(0,A.jsx)(_.c,{disabled:t.deleted_at,icon:(0,A.jsx)(n.c,{}),onClick:()=>{re([t.id]),de(!0),xe(!0)}})]})}]),{setIsModalVisible:de}=(0,a.useContext)(f.e),[oe,re]=(0,a.useState)(null),[ue,he]=(0,a.useState)(!1),[pe,ve]=(0,a.useState)(!1),[me,xe]=(0,a.useState)(null),{categories:ge,meta:fe,loading:je}=(0,b.w1)((e=>e.recipeCategory),b.G),ye=J.data,Ce={search:null===ye||void 0===ye?void 0:ye.search,pageSize:fe.per_page,page:(null===ye||void 0===ye?void 0:ye.page)||1,status:"deleted_at"===ae||"all"===ae?void 0:ae,deleted_at:"deleted_at"===ae?ae:void 0,shop_id:null===ye||void 0===ye||null===(t=ye.selectedShop)||void 0===t?void 0:t.value};(0,a.useEffect)((()=>{J.refetch&&(q((0,T.aY)(Ce)),q((0,k.CO)(J)))}),[J.refetch]),(0,V.c)((()=>{q((0,T.aY)(Ce))}),[J.data]);const be={selectedRowKeys:oe,onChange:e=>{re(e)}},ke=e=>{const t=J.data;q((0,k.MH)({activeMenu:J,data:{...t,...e}}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.default,{className:"p-0",children:(0,A.jsxs)(r.c,{wrap:!0,size:[14,20],children:[(0,A.jsx)(z.c,{placeholder:F("search"),className:"w-25",handleChange:e=>{ke({search:e})},defaultValue:null===(l=J.data)||void 0===l?void 0:l.search,resetSearch:!(null!==(W=J.data)&&void 0!==W&&W.search),style:{minWidth:300}}),(0,A.jsx)(D.I,{placeholder:F("select.shop"),hasMore:null===se||void 0===se?void 0:se.next,loading:je,fetchOptions:async function(e){let{search:t,page:l}=e;const a={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,status:"approved",page:l};return B.c.search(a).then((e=>(ce(e.links),e.data.map((e=>({label:null!==e.translation?e.translation.title:"no name",value:e.id}))))))},style:{minWidth:180},onChange:e=>ke({selectedShop:e}),value:null===(Y=J.data)||void 0===Y?void 0:Y.selectedShop}),"deleted_at"!==ae?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(_.c,{size:"",onClick:()=>{null===oe||0===oe.length?y.m4.warning(F("select.the.product")):(de(!0),xe(!1))},children:F("delete.selected")}),(0,A.jsx)(_.c,{onClick:()=>Q({delete:!0}),children:F("delete.all")}),(0,A.jsxs)(v.c,{style:{minWidth:150},onClick:()=>{q((0,k.WC)({url:"recipe-categories/import",id:"category_import",name:F("import.category")})),E("/recipe-categories/import")},children:[(0,A.jsx)(I.gHq,{className:"mr-2"}),F("import")]}),(0,A.jsxs)(v.c,{style:{minWidth:150},loading:pe,onClick:()=>{ve(!0);const e={type:"receipt",status:"all"===X?void 0:X};w.c.export(e).then((e=>{const t=g.sp+e.data.file_name;window.location.href=t})).finally((()=>ve(!1)))},children:[(0,A.jsx)(I.qhB,{className:"mr-2"}),F("export")]}),(0,A.jsx)(v.c,{type:"primary",icon:(0,A.jsx)(i.c,{}),onClick:()=>{q((0,k.WC)({id:"category-add",url:"recipe-category/add",name:F("add.category")})),E("/recipe-category/add")},children:F("add.category")})]}):(0,A.jsx)(_.c,{icon:(0,A.jsx)(M.icK,{className:"mr-2"}),onClick:()=>Q({restore:!0}),children:F("restore.all")}),(0,A.jsx)(v.c,{icon:(0,A.jsx)(d.c,{}),onClick:()=>{q((0,k.MH)({activeMenu:J,data:void 0}))},disabled:!J.data,style:{minWidth:100}}),(0,A.jsx)(H.c,{columns:ne,setColumns:ie})]})}),(0,A.jsxs)(m.default,{title:F("categories"),children:[(0,A.jsx)(o.default,{className:"mt-3",activeKey:ae,onChange:e=>{ke({role:e,page:1}),Z(e)},type:"card",children:U.map((e=>(0,A.jsx)(R,{tab:F(e)},e)))}),(0,A.jsx)(x.c,{scroll:{x:!0},rowSelection:be,columns:null===ne||void 0===ne?void 0:ne.filter((e=>e.is_show)),dataSource:ge,pagination:{pageSize:fe.per_page,page:(null===ye||void 0===ye?void 0:ye.page)||1,total:fe.total,defaultCurrent:null===ye||void 0===ye?void 0:ye.page,current:null===(G=J.data)||void 0===G?void 0:G.page},rowKey:e=>e.id,onChange:function(e,t,l){const{pageSize:a,current:s}=e,{field:c,order:n}=l,i=(0,O.c)(n);q((0,k.MH)({activeMenu:J,data:{...J.data,perPage:a,page:s,column:c,sort:i}}))},loading:je})]}),(0,A.jsx)(C.c,{click:$?()=>{he(!0),w.c.setActive(oe).then((()=>{de(!1),q((0,T.aY)(Ce)),y.m4.success(F("successfully.updated")),ee(!1)})).finally((()=>he(!1)))}:()=>{he(!0);const e={...Object.assign({},...oe.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};w.c.delete(e).then((()=>{q((0,T.aY)(Ce)),y.m4.success(F("successfully.deleted"))})).finally((()=>{de(!1),he(!1),xe(null),re(null)}))},text:F($?"set.active.product":me?"delete":"all.delete"),setText:re,setActive:ee,loading:ue}),L&&(0,A.jsx)(N.c,{open:L,handleCancel:()=>Q(null),click:L.restore?()=>{he(!0),w.c.restoreAll().then((()=>{y.m4.success(F("successfully.restored")),q((0,T.aY)()),Q(null)})).finally((()=>he(!1)))}:()=>{he(!0),w.c.dropAll().then((()=>{y.m4.success(F("successfully.deleted")),q((0,T.aY)()),Q(null)})).finally((()=>he(!1)))},text:L.restore?F("restore.modal.text"):F("read.carefully"),subTitle:L.restore?"":F("confirm.deletion"),loading:ue,setText:re}),te&&(0,A.jsx)(K,{data:te,handleCancel:()=>le(null),paramsData:Ce})]})}},48292:(e,t,l)=>{l.d(t,{c:()=>d});var a=l(30800),s=l(99584);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var n=l(47164),i=function(e,t){return s.createElement(n.c,(0,a.c)((0,a.c)({},e),{},{ref:t,icon:c}))};i.displayName="ClearOutlined";const d=s.forwardRef(i)},55512:(e,t,l)=>{l.d(t,{c:()=>d});var a=l(30800),s=l(99584);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var n=l(47164),i=function(e,t){return s.createElement(n.c,(0,a.c)((0,a.c)({},e),{},{ref:t,icon:c}))};i.displayName="TableOutlined";const d=s.forwardRef(i)}}]);