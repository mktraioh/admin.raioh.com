"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[364],{88200:(e,l,t)=>{t.d(l,{c:()=>a});t(99584);var n=t(95884),i=t(31508),r=t(87228),d=t(65236),s=t(97884);const a=e=>{let{open:l,handleCancel:t,text:a,click:o,loading:c,subTitle:u}=e;const{t:v}=(0,d.G)();return(0,s.jsxs)(n.default,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,s.jsx)(i.cp,{status:"warning",title:a,subTitle:u}),(0,s.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,s.jsx)(r.c,{type:"primary",className:"mr-2",onClick:o,loading:c,children:v("yes")}),(0,s.jsx)(r.c,{onClick:()=>t(),children:v("no")})]})]})}},30364:(e,l,t)=>{t.r(l),t.d(l,{default:()=>H});var n=t(99584),i=t(98948),r=t(59424),d=t(46162),s=t(66296),a=t(87228),o=t(68496),c=t(15752),u=t(61072),v=t(46003),h=t(98016),m=t(32712),p=t(18896),x=t(68256),f=t(19576),j=t(65236),g=t(94336),_=t(79712),y=(t(30664),t(83072)),b=t.n(y),C=t(23424),k=t(1428),w=t(53992),I=t(88200),S=t(95884),Y=t(37564),M=t(77180),q=t(97884);function G(e){var l,t,i,r,d,s,o,c,u;let{id:v,handleCancel:h}=e;const[m,p]=(0,n.useState)({}),[x,f]=(0,n.useState)(!1),{t:_}=(0,j.G)();return(0,n.useEffect)((()=>{!function(e){f(!0),g.c.getById(e).then((e=>p(e.data))).finally((()=>f(!1)))}(v)}),[v]),(0,q.jsx)(S.default,{visible:!!v,title:_("order.review"),onCancel:h,footer:(0,q.jsx)(a.c,{type:"default",onClick:h,children:_("cancel")}),children:x?(0,q.jsx)(M.c,{}):(0,q.jsxs)(Y.c,{bordered:!0,children:[(0,q.jsx)(Y.c.Item,{span:3,label:_("id"),children:m.id}),(0,q.jsxs)(Y.c.Item,{span:3,label:_("user"),children:[null===m||void 0===m||null===(l=m.parcel_order)||void 0===l?void 0:l.username_from," ",(0,q.jsx)("a",{href:"tel:".concat(null===m||void 0===m||null===(t=m.parcel_order)||void 0===t?void 0:t.phone_from),children:null===m||void 0===m||null===(i=m.parcel_order)||void 0===i?void 0:i.phone_from})]}),(0,q.jsxs)(Y.c.Item,{span:3,label:_("receiver"),children:[null===m||void 0===m||null===(r=m.parcel_order)||void 0===r?void 0:r.username_to," ",(0,q.jsxs)("a",{href:"tel:".concat(null===m||void 0===m||null===(d=m.parcel_order)||void 0===d?void 0:d.phone_to),children:[null===m||void 0===m||null===(s=m.parcel_order)||void 0===s?void 0:s.phone_to," "]})]}),(0,q.jsxs)(Y.c.Item,{span:3,label:_("deliveryman"),children:[null===(o=m.deliveryman)||void 0===o?void 0:o.firstname," ",(null===(c=m.deliveryman)||void 0===c?void 0:c.lastname)||""]}),(0,q.jsx)(Y.c.Item,{span:3,label:_("rating"),children:m.rating}),(0,q.jsx)(Y.c.Item,{span:3,label:_("comment"),children:m.comment}),(0,q.jsx)(Y.c.Item,{span:3,label:_("parcel.order.id"),children:null===m||void 0===m||null===(u=m.parcel_order)||void 0===u?void 0:u.id}),(0,q.jsx)(Y.c.Item,{span:3,label:_("created.at"),children:b()(null===m||void 0===m?void 0:m.created_at).format("YYYY-MM-DD HH:mm")})]})})}function H(){const{t:e}=(0,j.G)(),l=(0,m.OY)(),t=(0,C.i6)(),y=n=>{l((0,p.WC)({url:"/users/user/".concat(n.uuid),id:"user_info",name:e("user.info")})),t("/users/user/".concat(n.uuid),{state:{user_id:n.id}})},[S,Y]=(0,n.useState)([{title:e("order.id"),dataIndex:"parcel_order",key:"parcel_order",render:n=>(0,q.jsxs)("div",{className:"text-hover",onClick:()=>(n=>{l((0,p.WC)({id:"order_details",url:"order/details/".concat(n),name:e("order.details")})),t("/order/details/".concat(n))})(n.id),children:["#",n.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,q.jsxs)("div",{className:"text-hover",onClick:()=>y(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,q.jsxs)("div",{className:"text-hover",onClick:()=>y(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,q.jsx)(d.c,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>b()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,q.jsxs)(s.c,{children:[(0,q.jsx)(a.c,{type:"primary",icon:(0,q.jsx)(i.c,{}),onClick:()=>D(l.id)}),(0,q.jsx)(k.c,{icon:(0,q.jsx)(r.c,{}),onClick:()=>{N([l.id]),M(!0),A(!0)}})]})}]),{setIsModalVisible:M}=(0,n.useContext)(h.e),[H,N]=(0,n.useState)(null),[T,D]=(0,n.useState)(null),[P,z]=(0,n.useState)(!1),[O,A]=(0,n.useState)(null),[E,V]=(0,n.useState)(null),{activeMenu:W}=(0,m.w1)((e=>e.menu),m.G),{reviews:B,meta:K,loading:R,params:F}=(0,m.w1)((e=>e.parcelReview),m.G);console.log("reviews => ",B);(0,n.useEffect)((()=>{W.refetch&&(l((0,_.q)()),l((0,p.CO)(W)))}),[W.refetch]),(0,x.c)((()=>{const e=W.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};l((0,_.q)(t))}),[W.data]);const J={id:H,onChange:e=>{N(e)}};return(0,q.jsxs)(o.default,{title:e("parcel.reviews"),extra:(0,q.jsxs)(s.c,{wrap:!0,children:[(0,q.jsx)(k.c,{size:"",onClick:()=>{null===H||0===H.length?u.m4.warning(e("select.the.product")):(M(!0),A(!1))},children:e("delete.selected")}),(0,q.jsx)(w.c,{columns:S,setColumns:Y})]}),children:[(0,q.jsx)(c.c,{scroll:{x:!0},rowSelection:J,columns:null===S||void 0===S?void 0:S.filter((e=>e.is_show)),dataSource:B,pagination:{pageSize:F.perPage,page:F.page,total:K.total,defaultCurrent:F.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:i,current:r}=e,{field:d,order:s}=n,a=(0,f.c)(s);l((0,p.MH)({activeMenu:W,data:{perPage:i,page:r,column:d,sort:a}}))},loading:R}),(0,q.jsx)(v.c,{click:()=>{z(!0);const t={...Object.assign({},...H.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};g.c.delete(t).then((()=>{u.m4.success(e("successfully.deleted")),l((0,_.q)()),M(!1)})).finally((()=>z(!1)))},text:e(O?"delete":"all.delete"),setText:N,loading:P}),T&&(0,q.jsx)(G,{id:T,handleCancel:()=>D(null)}),E&&(0,q.jsx)(I.c,{open:E,handleCancel:()=>V(null),click:E.restore?()=>{z(!0),g.c.restoreAll().then((()=>{u.m4.success(e("successfully.restored")),l((0,_.q)()),V(null)})).finally((()=>z(!1)))}:()=>{z(!0),g.c.dropAll().then((()=>{u.m4.success(e("successfully.deleted")),l((0,_.q)()),V(null)})).finally((()=>z(!1)))},text:E.restore?e("restore.modal.text"):e("read.carefully"),subTitle:E.restore?"":e("confirm.deletion"),loading:P,setText:N})]})}}}]);