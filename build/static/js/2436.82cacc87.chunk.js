"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2436],{53992:(e,t,a)=>{a.d(t,{c:()=>f});var d=a(99584),n=a(49308),l=a(92200),r=a(66296),i=a(26012),s=a(72192),c=a(35928),o=a(87228),u=a(55512),v=a(65236),h=a(97884);const{Text:m}=n.default,f=e=>{let{columns:t=[],setColumns:a,style:n,size:f="",iconOnly:p}=e;const{t:x}=(0,v.G)(),[g,y]=(0,d.useState)(!1),j=(0,h.jsx)(l.c,{children:null===t||void 0===t?void 0:t.map(((e,d)=>(0,h.jsx)(l.c.Item,{children:(0,h.jsxs)(r.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(i.c,{defaultChecked:!0,onClick:()=>function(e){const d=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(d)}(e),disabled:1===d})]})},e+d)))});return(0,h.jsx)(s.c,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:g,children:(0,h.jsx)(c.c,{title:x("change.columns"),children:(0,h.jsx)(o.c,{style:{...n},size:f,icon:(0,h.jsx)(u.c,{}),children:p?null:x("Columns")})})})}},40748:(e,t,a)=>{a.d(t,{c:()=>s});var d=a(99584),n=a(46712),l=a(78816),r=a(6724),i=a(97884);function s(e){let{handleChange:t,defaultValue:a,resetSearch:s,...c}=e;const[o,u]=(0,d.useState)(a),v=(0,d.useMemo)((()=>(0,l.debounce)((e=>{t(e)}),800)),[t]);return(0,d.useEffect)((()=>{u(a)}),[s,a]),(0,i.jsx)(n.default,{value:o,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,i.jsx)(r.c,{}),...c})}},19576:(e,t,a)=>{function d(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{c:()=>d})},24968:(e,t,a)=>{function d(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}a.d(t,{c:()=>d})},22436:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var d=a(99584),n=a(84616),l=a(66296),r=a(87228),i=a(68496),s=a(15752),c=a(23424),o=a(98948),u=a(32712),v=a(18896),h=a(65236),m=a(68256),f=a(58896),p=a(19576),x=a(40748),g=a(24968),y=a(53992),j=a(83072),w=a.n(j),_=a(97884);const{TabPane:b}=n.default,C=["accepted","ready","on_a_way","delivered","canceled"];function k(){var e,t,a;const j=(0,u.OY)(),k=(0,c.i6)(),{t:V}=(0,h.G)(),{defaultCurrency:z}=(0,u.w1)((e=>e.currency),u.G),{activeMenu:H}=(0,u.w1)((e=>e.menu),u.G),[I,M]=(0,d.useState)("accepted"),S=(null===(e=H.data)||void 0===e?void 0:e.role)||I,G=null===H||void 0===H?void 0:H.data,P={search:null===G||void 0===G?void 0:G.search,sort:null===G||void 0===G?void 0:G.sort,column:null===G||void 0===G?void 0:G.column,perPage:null===G||void 0===G?void 0:G.perPage,page:null===G||void 0===G?void 0:G.page,user_id:null===G||void 0===G?void 0:G.userId,status:S},[Y,N]=(0,d.useState)([{title:V("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:V("client"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,_.jsxs)("div",{children:[e.firstname," ",e.lastname]})},{title:V("number.of.products"),dataIndex:"order_details_count",key:"rate",is_show:!0,render:e=>(0,_.jsxs)("div",{className:"text-lowercase",children:[e||0," ",V("products")]})},{title:V("amount"),dataIndex:"details",key:"price",is_show:!0,render:(e,t)=>(0,g.c)(null===t||void 0===t?void 0:t.total_price,z.symbol)},{title:V("payment.type"),dataIndex:"transaction",key:"transaction",is_show:!0,render:e=>{var t;return V(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:"created.at",dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>w()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:V("options"),key:"options",is_show:!0,render:(e,t)=>(0,_.jsx)(l.c,{children:(0,_.jsx)(r.c,{icon:(0,_.jsx)(o.c,{}),onClick:()=>(e=>{j((0,v.WC)({url:"deliveryman/order/details/".concat(e.id),id:"order_details",name:V("order.details")})),k("/deliveryman/order/details/".concat(e.id))})(t)})})}]),{orders:O,meta:E,loading:T,params:A}=(0,u.w1)((e=>e.orders),u.G);(0,m.c)((()=>{j((0,f.AV)(P))}),[null===H||void 0===H?void 0:H.data]),(0,d.useEffect)((()=>{null!==H&&void 0!==H&&H.refetch&&(j((0,f.AV)(P)),j((0,v.CO)(H)))}),[null===H||void 0===H?void 0:H.refetch]);const D=e=>{const t=H.data;j((0,v.MH)({activeMenu:H,data:{...t,...e}}))};return(0,_.jsxs)(i.default,{title:V("orders"),extra:(0,_.jsxs)(l.c,{wrap:!0,children:[(0,_.jsx)(x.c,{placeholder:V("search"),handleChange:e=>D({search:e}),defaultValue:null===(t=H.data)||void 0===t?void 0:t.search,resetSearch:!(null!==(a=H.data)&&void 0!==a&&a.search)}),(0,_.jsx)(y.c,{columns:Y,setColumns:N})]}),children:[(0,_.jsx)(n.default,{onChange:e=>{D({role:e,page:1}),M(e)},type:"card",activeKey:S,children:C.map((e=>(0,_.jsx)(b,{tab:V(e)},e)))}),(0,_.jsx)(s.c,{scroll:{x:!0},columns:null===Y||void 0===Y?void 0:Y.filter((e=>e.is_show)),dataSource:O,loading:T,pagination:{pageSize:A.perPage,page:A.page,total:E.total,defaultCurrent:A.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:d,current:n}=e,{field:l,order:r}=a,i=(0,p.c)(r);j((0,v.MH)({activeMenu:H,data:{...H.data,perPage:d,page:n,column:l,sort:i}}))}})]})}},55512:(e,t,a)=>{a.d(t,{c:()=>s});var d=a(30800),n=a(99584);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var r=a(47164),i=function(e,t){return n.createElement(r.c,(0,d.c)((0,d.c)({},e),{},{ref:t,icon:l}))};i.displayName="TableOutlined";const s=n.forwardRef(i)}}]);