(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1512],{1428:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});n(99584);var l=n(87228),s=n(59424),i=n(61072),a=n(65236),o=n(75088),c=n(97884);function d(e){let{size:t="",onClick:n,type:d="default",...r}=e;const{t:u}=(0,a.G)(),{isDemo:v}=(0,o.c)();return(0,c.jsx)(l.c,{size:t,icon:(0,c.jsx)(s.c,{}),onClick:e=>{v?i.m4.warning(u("cannot.work.demo")):n(e)},type:d,...r})}},81560:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});n(99584);var l=n(68768),s=n(10260),i=n(32712),a=n(65236),o=n(66264),c=n(93868),d=n(97884);const r=e=>{let{data:t}=e;const{t:n}=(0,a.G)(),{defaultCurrency:r}=(0,i.w1)((e=>e.currency),i.G);return(0,d.jsxs)(l.c,{gutter:16,className:"mt-3",children:[(0,d.jsx)(s.c,{flex:"0 0 16.6%",children:(0,d.jsx)(o.c,{title:n("all.orders"),value:null===t||void 0===t?void 0:t.orders_count})}),(0,d.jsx)(s.c,{flex:"0 0 16.6%",children:(0,d.jsx)(o.c,{title:n("ready.orders"),value:null===t||void 0===t?void 0:t.ready_orders_count})}),(0,d.jsx)(s.c,{flex:"0 0 16.6%",children:(0,d.jsx)(o.c,{title:n("on.a.way.orders"),value:null===t||void 0===t?void 0:t.on_a_way_orders_count})}),(0,d.jsx)(s.c,{flex:"0 0 16.6%",children:(0,d.jsx)(o.c,{title:n("cancelled.orders"),value:null===t||void 0===t?void 0:t.cancel_orders_count})}),(0,d.jsx)(s.c,{flex:"0 0 16.6%",children:(0,d.jsx)(o.c,{title:n("delivered.orders"),value:null===t||void 0===t?void 0:t.delivered_orders_count})}),(0,d.jsx)(s.c,{flex:"0 0 16.6%",children:(0,d.jsx)(o.c,{title:n("total.price"),value:(0,c.O)(null===t||void 0===t?void 0:t.total_price,null===r||void 0===r?void 0:r.symbol)})})]})}},53992:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var l=n(99584),s=n(49308),i=n(92200),a=n(66296),o=n(26012),c=n(72192),d=n(35928),r=n(87228),u=n(55512),v=n(65236),h=n(97884);const{Text:m}=s.default,p=e=>{let{columns:t=[],setColumns:n,style:s,size:p="",iconOnly:x}=e;const{t:f}=(0,v.G)(),[j,g]=(0,l.useState)(!1),y=(0,h.jsx)(i.c,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(i.c.Item,{children:(0,h.jsxs)(a.c,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(o.c,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(c.c,{overlay:y,trigger:["click"],onVisibleChange:e=>{g(e)},visible:j,children:(0,h.jsx)(d.c,{title:f("change.columns"),children:(0,h.jsx)(r.c,{style:{...s},size:p,icon:(0,h.jsx)(u.c,{}),children:x?null:f("Columns")})})})}},40748:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var l=n(99584),s=n(46712),i=n(78816),a=n(6724),o=n(97884);function c(e){let{handleChange:t,defaultValue:n,resetSearch:c,...d}=e;const[r,u]=(0,l.useState)(n),v=(0,l.useMemo)((()=>(0,i.debounce)((e=>{t(e)}),800)),[t]);return(0,l.useEffect)((()=>{u(n)}),[c,n]),(0,o.jsx)(s.default,{value:r,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,o.jsx)(a.c,{}),...d})}},71376:(e,t,n)=>{"use strict";n.d(t,{g:()=>d});var l=n(99584),s=n(95976),i=n.n(s),a=n(2664),o=n(37728),c=n(97884);const d=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:s,...d}=e;const[r,u]=(0,l.useState)(!1),[v,h]=(0,l.useState)([]),m=(0,l.useMemo)((()=>i()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),n)),[t,n]);return(0,c.jsx)(a.default,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),s&&s()},notFoundContent:r?(0,c.jsx)(o.c,{size:"small"}):"no results",...d,options:v,onFocus:()=>{m("")}})}},19576:(e,t,n)=>{"use strict";function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{c:()=>l})},33131:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});n(52640);function l(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const t=e.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},93868:(e,t,n)=>{"use strict";function l(e,t){var n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(t){return e>=t.value}));return n?"$"+(e/n.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol:"0"}n.d(t,{O:()=>l})},24968:(e,t,n)=>{"use strict";function l(e){if(!e)return"0";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}n.d(t,{c:()=>l})},68400:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var l=n(33012);const s={orderExport:(e,t)=>l.c.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:t,responseType:"blob"})}},66264:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});n(99584);var l=n(68496),s=n(97884);function i(e){let{title:t="Orders",value:n=0,color:i="grey",onClick:a}=e;return(0,s.jsx)(l.default,{className:"statistics-card",hoverable:!!a,onClick:a,children:(0,s.jsxs)("div",{className:"card-wrapper",children:[(0,s.jsx)("div",{className:"space"}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("h1",{className:"number",children:n})}),(0,s.jsx)("span",{className:"highlighter ".concat(i)}),t&&(0,s.jsx)("h4",{className:"title",children:t})]})})}},30432:(e,t,n)=>{"use strict";n.d(t,{c:()=>g});var l=n(99584),s=n(68400),i=n(45976),a=n.n(i),o=n(77180),c=n(68496),d=n(95884),r=n(87228),u=n(68768),v=n(10260),h=n(65236),m=n(5008),p=n(23216),x=n(23424),f=n(97884);const j=c.default.Meta,g=e=>{let{id:t,handleCancel:n}=e;const[i,g]=(0,l.useState)(null),{t:y}=(0,h.G)(),b=(0,x.i6)();return(0,f.jsx)(f.Fragment,{children:i?(0,f.jsx)(o.c,{}):(0,f.jsx)(d.default,{visible:!!t,title:y("selected.download"),closable:!1,handleCancel:n,footer:[(0,f.jsx)(r.c,{type:"default",onClick:n,children:y("cancel")},"cancelBtn")],children:(0,f.jsxs)(u.c,{children:[(0,f.jsx)(v.c,{span:12,children:(0,f.jsx)(c.default,{title:y("download.pdf"),onClick:()=>function(e){g(!0),s.c.orderExport(e).then((t=>{a()(t,"invoice_".concat(e,".pdf"),"application/pdf"),n()})).finally((()=>g(!1)))}(t),className:"text-center cursor-pointer",children:(0,f.jsx)(j,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(m.$tL,{size:80})})})}),(0,f.jsx)(v.c,{span:12,children:(0,f.jsx)(c.default,{title:y("download.check"),onClick:()=>(e=>{b("/orders/generate-invoice/".concat(e))})(t),className:"text-center cursor-pointer",children:(0,f.jsx)(j,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(p.cLy,{size:85})})})})]})})})}},95312:(e,t,n)=>{"use strict";n.d(t,{c:()=>x});var l=n(99584),s=n(65732),i=n(95884),a=n(87228),o=n(68768),c=n(10260),d=n(32712),r=n(77020),u=n(18896),v=n(65236),h=n(42080),m=n(71376),p=n(97884);function x(e){var t,n,x;let{orderDetails:f,handleCancel:j}=e;const{t:g}=(0,v.G)(),{activeMenu:y}=(0,d.w1)((e=>e.menu),d.G),[b]=s.c.useForm(),w=(0,d.OY)(),[C,k]=(0,l.useState)(!1);return(0,p.jsx)(i.default,{visible:!!f,onCancel:j,footer:[(0,p.jsx)(a.c,{type:"primary",onClick:()=>b.submit(),loading:C,children:g("save")},"saveBtn"),(0,p.jsx)(a.c,{type:"default",onClick:j,children:g("cancel")},"cancelBtn")],children:(0,p.jsx)(s.c,{form:b,layout:"vertical",onFinish:e=>{const t={deliveryman:e.deliveryman.value};k(!0),r.c.updateDelivery(f.id,t).then((()=>{j(),w((0,u.A1)(y))})).finally((()=>k(!1)))},initialValues:{deliveryman:{label:f.deliveryman?(null===f||void 0===f||null===(t=f.deliveryman)||void 0===t?void 0:t.firstname)+" "+(null===f||void 0===f||null===(n=f.deliveryman)||void 0===n?void 0:n.lastname):null,value:f.deliveryman?null===f||void 0===f||null===(x=f.deliveryman)||void 0===x?void 0:x.id:null}},children:(0,p.jsx)(o.c,{gutter:12,children:(0,p.jsx)(c.c,{span:24,children:(0,p.jsx)(s.c.Item,{label:g("deliveryman"),name:"deliveryman",rules:[{required:!0,message:g("required")}],children:(0,p.jsx)(m.g,{className:"w-100",debounceTimeout:500,placeholder:g("select.shop"),fetchOptions:async function(e){const t={search:e.length?e:void 0,page:1,perPage:10,role:"deliveryman",shop_id:f.shop.id,exist_token:1};return h.c.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.firstname+" "+e.lastname||"no name",value:e.id})))}))},allowClear:!0})})})})})})}},69720:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var l=n(99584),s=n(65732),i=n(95884),a=n(87228),o=n(68768),c=n(10260),d=n(2664),r=n(32712),u=n(65236),v=n(77020),h=n(18896),m=n(97884);function p(e){let{orderDetails:t,handleCancel:n,status:p}=e;const{activeMenu:x}=(0,r.w1)((e=>e.menu),r.G),[f]=s.c.useForm(),j=(0,r.OY)(),{t:g}=(0,u.G)(),[y,b]=(0,l.useState)(!1),[w,C]=(0,l.useState)(p);(0,l.useEffect)((()=>{const e=p.findIndex((e=>e.name===t.status));let n=[p[e],p[e+1],{name:"canceled",id:8,active:!0}];e<0&&(n=[p[e+1],"canceled"]),C(n)}),[t]);return(0,m.jsx)(i.default,{visible:!!t,title:t.title,onCancel:n,footer:[(0,m.jsx)(a.c,{type:"primary",onClick:()=>f.submit(),loading:y,children:g("save")},"save-form"),(0,m.jsx)(a.c,{type:"default",onClick:n,children:g("cancel")},"cansel-modal")],children:(0,m.jsx)(s.c,{form:f,layout:"vertical",onFinish:e=>{b(!0);const l={...e};v.c.updateStatus(t.id,l).then((()=>{n(),j((0,h.A1)(x))})).finally((()=>b(!1)))},initialValues:{status:t.status},children:(0,m.jsx)(o.c,{gutter:12,children:(0,m.jsx)(c.c,{span:24,children:(0,m.jsx)(s.c.Item,{label:g("status"),name:"status",rules:[{required:!0,message:g("required")}],children:(0,m.jsx)(d.default,{children:null===w||void 0===w?void 0:w.map((e=>(0,m.jsx)(d.default.Option,{value:null===e||void 0===e?void 0:e.name,children:g(null===e||void 0===e?void 0:e.name)},null===e||void 0===e?void 0:e.name)))})})})})})})}},95300:(e,t,n)=>{"use strict";n.d(t,{c:()=>A});var l=n(52800),s=n(67692),i=n(95884),a=n(87228),o=n(68496),c=n(68768),d=n(10260),r=n(98044),u=n(99584),v=n(65236),h=n(77020),m=n(77180),p=n(5008),x=n(32712),f=n(52640),j=n(97132),g=n(57236),y=n(33131),b=n(4736),w=n(6944),C=n(88992),k=n(23216),S=n(83072),_=n.n(S),N=n(97884);const{Step:z}=s.default,G=()=>(0,N.jsx)("img",{src:j,width:"50",alt:"Pin"}),B=()=>(0,N.jsx)("img",{src:g,width:"50",alt:"Pin"}),V=["blue","red","gold","volcano","cyan","lime"],A=e=>{var t,n,j,g,S,A;let{id:H,handleCancel:I}=e;const{t:L}=(0,v.G)(),[M,O]=(0,u.useState)(null),[T,U]=(0,u.useState)(null),[F,R]=(0,u.useState)(null),{settings:E}=(0,x.w1)((e=>e.globalSettings),x.G),D=(0,y.c)(E),[$,Y]=(0,u.useState)(0),[q,K]=(0,u.useState)((0,y.c)(E)),[P,W]=(0,u.useState)((0,y.c)(E)),[J,X]=(0,u.useState)([{id:0,name:"new",icon:(0,N.jsx)(b.c,{})},{id:1,name:"accepted",icon:(0,N.jsx)(p.IFj,{})},{id:2,name:"ready",icon:(0,N.jsx)(w.YxA,{})},{id:3,name:"on_a_way",icon:(0,N.jsx)(C.wJ$,{})},{id:4,name:"delivered",icon:(0,N.jsx)(C.W8K,{})}]);const{google_map_key:Z}=(0,x.w1)((e=>e.globalSettings.settings),x.G);(0,u.useEffect)((()=>{O(!0),h.c.getById(H).then((e=>{var t;let{data:n}=e;X("canceled"===n.status?[{id:1,name:"new",icon:(0,N.jsx)(b.c,{})},{id:5,name:"canceled",icon:(0,N.jsx)(k.uoq,{})}]:J),Y("canceled"===n.status?1:null===(t=J.find((e=>e.name===n.status)))||void 0===t?void 0:t.id),R("canceled"===n.status?"error":"success"),U(n),W({lat:n.location.latitude,lng:n.location.longitude}),K({lat:n.shop.location.latitude,lng:n.shop.location.longitude})})).finally((()=>{O(!1)}))}),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(i.default,{visible:!!H,title:L("show.locations"),onCancel:()=>I(),style:{minWidth:"80vw"},footer:[(0,N.jsx)(a.c,{type:"default",onClick:I,children:L("cancel")},"cancelBtn")],children:M?(0,N.jsx)(m.c,{}):(0,N.jsxs)(o.default,{children:[(0,N.jsx)(s.default,{current:$,status:F,className:"mb-5",children:null===J||void 0===J?void 0:J.map(((e,t)=>(0,N.jsx)(z,{title:L(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+t)))}),(0,N.jsxs)(c.c,{gutter:12,children:[(0,N.jsxs)(d.c,{span:12,children:[(0,N.jsxs)("h3",{children:[L("order.id")," #",null===T||void 0===T?void 0:T.id]}),(0,N.jsxs)("p",{children:[(0,N.jsx)(p.kIG,{})," ",_()(null===T||void 0===T?void 0:T.created_at).format("YYYY-MM-DD HH:mm")]}),(0,N.jsxs)("p",{children:[L("schedulet.at")," ",null===T||void 0===T?void 0:T.delivery_date]}),(0,N.jsxs)("span",{children:[(0,N.jsx)("strong",{children:null===T||void 0===T||null===(t=T.shop)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title})," ",null===T||void 0===T||null===(j=T.details)||void 0===j?void 0:j.map(((e,t)=>{var n,l,s;return(0,N.jsx)(r.c,{color:V[t],children:null===e||void 0===e||null===(n=e.stock)||void 0===n||null===(l=n.product)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title})}))]})]}),(0,N.jsxs)(d.c,{span:12,children:[(0,N.jsxs)("p",{children:[L("status")," ","new"===(null===T||void 0===T?void 0:T.status)?(0,N.jsx)(r.c,{color:"blue",children:L(null===T||void 0===T?void 0:T.status)}):"canceled"===(null===T||void 0===T?void 0:T.status)?(0,N.jsx)(r.c,{color:"error",children:L(null===T||void 0===T?void 0:T.status)}):(0,N.jsx)(r.c,{color:"cyan",children:L(null===T||void 0===T?void 0:T.status)})]}),(0,N.jsxs)("p",{children:[L("payment.method")," ",(0,N.jsx)("strong",{children:null===T||void 0===T||null===(g=T.transaction)||void 0===g||null===(S=g.payment_system)||void 0===S?void 0:S.tag})]}),(0,N.jsxs)("p",{children:[L("order.type")," ",(0,N.jsx)("strong",{children:null===T||void 0===T?void 0:T.delivery_type})]}),(0,N.jsxs)("p",{children:[L("payment.type")," ",(0,N.jsx)("strong",{children:null===T||void 0===T||null===(A=T.transaction)||void 0===A?void 0:A.status})]})]}),(0,N.jsxs)(d.c,{span:24,className:"mt-5",children:[(0,N.jsx)("h4",{children:L("map")}),(0,N.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,N.jsxs)(l.cp,{bootstrapURLKeys:{key:f.KU||Z},defaultZoom:15,center:D,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:e=>{let{map:t,maps:n}=e;const l=[q,P].map((e=>({lat:Number(e.lat||"0"),lng:Number(e.lng||"0")})));let s=new n.LatLngBounds;for(var i=0;i<l.length;i++)s.extend(l[i]);t.fitBounds(s)},children:[(0,N.jsx)(B,{lat:null===q||void 0===q?void 0:q.lat,lng:null===q||void 0===q?void 0:q.lng}),(0,N.jsx)(G,{lat:null===P||void 0===P?void 0:P.lat,lng:null===P||void 0===P?void 0:P.lng})]})})]})]})]})})})}},55512:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var l=n(30800),s=n(99584);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var a=n(47164),o=function(e,t){return s.createElement(a.c,(0,l.c)((0,l.c)({},e),{},{ref:t,icon:i}))};o.displayName="TableOutlined";const c=s.forwardRef(o)},45976:function(e,t){var n,l,s;l=[],void 0===(s="function"===typeof(n=function(){return function e(t,n,l){var s,i,a=window,o="application/octet-stream",c=l||o,d=t,r=!n&&!l&&d,u=document.createElement("a"),v=function(e){return String(e)},h=a.Blob||a.MozBlob||a.WebKitBlob||v,m=n||"download";if(h=h.call?h.bind(a):Blob,"true"===String(this)&&(c=(d=[d,c])[0],d=d[1]),r&&r.length<2048&&(m=r.split("/").pop().split("?")[0],u.href=r,-1!==u.href.indexOf(r))){var p=new XMLHttpRequest;return p.open("GET",r,!0),p.responseType="blob",p.onload=function(t){e(t.target.response,m,o)},setTimeout((function(){p.send()}),0),p}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&h!==v))return navigator.msSaveBlob?navigator.msSaveBlob(g(d),m):y(d);c=(d=g(d)).type||o}else if(/([\x80-\xff])/.test(d)){for(var x=0,f=new Uint8Array(d.length),j=f.length;x<j;++x)f[x]=d.charCodeAt(x);d=new h([f],{type:c})}function g(e){for(var t=e.split(/[:;,]/),n=t[1],l=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),s=l.length,i=0,a=new Uint8Array(s);i<s;++i)a[i]=l.charCodeAt(i);return new h([a],{type:n})}function y(e,t){if("download"in u)return u.href=e,u.setAttribute("download",m),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){a.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(s=d instanceof h?d:new h([d],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(s,m);if(a.URL)y(a.URL.createObjectURL(s),!0);else{if("string"===typeof s||s.constructor===v)try{return y("data:"+c+";base64,"+a.btoa(s))}catch(b){return y("data:"+c+","+encodeURIComponent(s))}(i=new FileReader).onload=function(e){y(this.result)},i.readAsDataURL(s)}return!0}})?n.apply(t,l):n)||(e.exports=s)},57236:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/shop.46d7a94ca800c711764a.png"},97132:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);