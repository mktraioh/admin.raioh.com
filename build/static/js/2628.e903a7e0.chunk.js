"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2628],{35008:(t,e,i)=>{i.r(e),i.d(e,{default:()=>_});var a=i(99584),n=i(23424),s=i(61072),c=i(67692),l=i(65732),d=i(68496),o=i(32712),u=i(18896),r=i(65236),v=i(424),m=i(28716),g=i(16488),p=i(97884);const{Step:h}=c.default,_=()=>{var t,e,i;const{t:_}=(0,r.G)(),{activeMenu:f}=(0,o.w1)((t=>t.menu),o.G),x=(0,o.OY)(),[k]=l.c.useForm(),S=(0,n.i6)(),[j,y]=(0,a.useState)(null!==(t=f.data)&&void 0!==t&&t.image?[null===(e=f.data)||void 0===e?void 0:e.image]:[]),[b,w]=(0,a.useState)((null===(i=f.data)||void 0===i?void 0:i.step)||0),F=()=>{w(b+1)},C=()=>{w(b-1)},[M,q]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const t=k.getFieldsValue(!0);x((0,u.MH)({activeMenu:f,data:t}))}),[]);return(0,p.jsx)(d.default,{title:_("add.recepe"),extra:(0,p.jsx)(v.c,{}),children:(0,p.jsxs)(l.c,{layout:"vertical",onFinish:t=>{var e,i;k.validateFields();const a={...t,total_time:t.total_time.toString(),active_time:t.active_time.toString(),images:null===j||void 0===j?void 0:j.map((t=>t.name)),category_id:t.category_id.value,stocks:null===(e=t.stocks)||void 0===e?void 0:e.map((t=>({min_quantity:t.min_quantity,stock_id:t.stock_id.value}))),nutrition:null===(i=t.nutrition)||void 0===i?void 0:i.map((t=>({...t,percentage:t.percentage.toString(),weight:t.weight.toString()})))};q(!0);const n="seller/recept";m.c.create(a).then((()=>{s.m4.success(_("successfully.created")),S("/".concat(n)),x((0,u.MF)({...f,nextUrl:n}))})).finally((()=>q(!1)))},form:k,initialValues:{active:!0,...f.data},children:[(0,p.jsx)(c.default,{current:b,children:g.C.map((t=>(0,p.jsx)(h,{title:_(t.title)},t.title)))}),g.C.map((t=>{const e=t.content;return(0,p.jsx)("div",{className:"steps-content ".concat(t.step!==b+1&&"hidden"),children:(0,p.jsx)(e,{next:F,prev:C,loading:M,image:j,setImage:y})},t.title)}))]})})}}}]);